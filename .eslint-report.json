[{"filePath":"C:\\frontend\\Wearsearch-main\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\prettier.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\scripts\\convertImages.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\scripts\\cspHashJsonld.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\scripts\\optimizeImages.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\app\\AnimatedRoutes.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\app\\providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\app\\router.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ContactsDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\FavoriteButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\GenderBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ImageDebugger.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ImageUploader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\LanguageSelector.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\NeonAbstractions.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\OptimizedImage.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ProductCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\RecommendedBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\RelatedProducts.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[436,439],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[436,439],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":24,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":24,"endColumn":33},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":66,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2494,2497],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2494,2497],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Related Products Component\n * Displays similar products based on category, brand, and price\n */\n\nimport { memo } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { Sparkles } from 'lucide-react';\nimport { useRelatedProducts } from '@/hooks/useApi';\nimport { convertS3UrlToHttps } from '@/lib/utils';\n\ninterface RelatedProductsProps {\n  productId: string;\n  products?: any[];\n  total?: number;\n  className?: string;\n}\n\nexport const RelatedProducts = memo(({ productId, products, total, className = '' }: RelatedProductsProps) => {\n  const { t } = useTranslation();\n\n  const hasProvidedProducts = Array.isArray(products);\n  const { data, isLoading, error } = useRelatedProducts(productId);\n\n  const resolvedProducts = hasProvidedProducts ? products! : (Array.isArray(data) ? data : []);\n  const resolvedTotal = typeof total === 'number' ? total : resolvedProducts.length;\n  \n  // Don't show section if no products or still loading\n  if (!hasProvidedProducts && isLoading) {\n    return (\n      <div className={`animate-fade-in ${className}`}>\n        <div className=\"flex items-center gap-2 mb-6\">\n          <Sparkles className=\"w-5 h-5 text-primary\" />\n          <h2 className=\"font-display text-2xl font-bold\">{t('productDetail.similarProducts')}</h2>\n        </div>\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n          {[...Array(6)].map((_, i) => (\n            <div key={i} className=\"animate-pulse\">\n              <div className=\"aspect-square bg-muted rounded-2xl mb-3\" />\n              <div className=\"h-4 bg-muted rounded mb-2\" />\n              <div className=\"h-3 bg-muted rounded w-2/3\" />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n  \n  // Hide section if no related products\n  if (!resolvedProducts || resolvedProducts.length === 0) {\n    return null;\n  }\n  \n  return (\n    <div className={`animate-fade-in ${className}`}>\n      <div className=\"flex items-center gap-2 mb-6\">\n        <Sparkles className=\"w-5 h-5 text-primary\" />\n        <h2 className=\"font-display text-2xl font-bold\">{t('productDetail.similarProducts')}</h2>\n        <span className=\"text-sm text-muted-foreground ml-2\">\n          ({resolvedTotal} {resolvedTotal === 1 ? t('productDetail.product') : t('productDetail.products')})\n        </span>\n      </div>\n      \n      <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4\">\n        {resolvedProducts.map((product: any) => (\n          <Link\n            key={product.id}\n            to={`/product/${product.id}`}\n            className=\"group block\"\n          >\n            <div className=\"relative rounded-2xl overflow-hidden bg-muted aspect-square mb-3 transition-transform md:group-hover:scale-105\">\n              <img\n                src={convertS3UrlToHttps(product.image || product.image_url || '/placeholder.svg')}\n                alt={product.title || product.name}\n                className=\"w-full h-full object-cover\"\n                loading=\"lazy\"\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <p className=\"font-medium text-sm line-clamp-2 md:group-hover:text-primary transition-colors\">\n                {product.title || product.name}\n              </p>\n              {product.brand && (\n                <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">\n                  {product.brand}\n                </p>\n              )}\n              {product.price && (\n                <p className=\"text-sm font-semibold\">\n                  â‚´{product.price}\n                </p>\n              )}\n            </div>\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n});\n\nRelatedProducts.displayName = 'RelatedProducts';\n\nexport default RelatedProducts;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\SkipToContent.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\SuggestedPrice.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'checkAuthAndLoadPrices'. Either include it or remove the dependency array.","line":26,"column":6,"nodeType":"ArrayExpression","endLine":26,"endColumn":17,"suggestions":[{"desc":"Update the dependencies array to be: [checkAuthAndLoadPrices, productId]","fix":{"range":[1025,1036],"text":"[checkAuthAndLoadPrices, productId]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":43,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1512,1515],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1512,1515],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":53,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":53,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1724,1727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1724,1727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":64,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":64,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2118,2121],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2118,2121],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":76,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2379,2382],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2379,2382],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2442,2445],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2442,2445],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3184,3187],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3184,3187],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from \"react\";\nimport { DollarSign } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Text } from \"@/components/ui/typography\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface SuggestedPriceProps {\n  productId: string;\n  currentPrice: number;\n}\n\nexport const SuggestedPrice = ({ productId, currentPrice }: SuggestedPriceProps) => {\n  const { toast } = useToast();\n  const [suggestedPrice, setSuggestedPrice] = useState<string>(\"\");\n  const [averagePrice, setAveragePrice] = useState<number>(0);\n  const [totalSuggestions, setTotalSuggestions] = useState<number>(0);\n  const [userSuggestion, setUserSuggestion] = useState<number | null>(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    checkAuthAndLoadPrices();\n  }, [productId]);\n\n  const checkAuthAndLoadPrices = async () => {\n    const { data: { session } } = await supabase.auth.getSession();\n    setIsLoggedIn(!!session);\n\n    // Load average suggested price\n    await loadAverageSuggestedPrice();\n\n    // Load user's suggestion if logged in\n    if (session) {\n      await loadUserSuggestion(session.user.id);\n    }\n  };\n\n  const loadAverageSuggestedPrice = async () => {\n    const { data, error } = await supabase\n      .from(\"suggested_prices\" as any)\n      .select(\"suggested_price\")\n      .eq(\"product_id\", productId);\n\n    if (error) {\n      // Table doesn't exist yet - fail silently\n      return;\n    }\n\n    if (data) {\n      const prices = data.map((p: any) => p.suggested_price);\n      const avg = prices.length > 0 \n        ? prices.reduce((sum: number, p: number) => sum + p, 0) / prices.length \n        : 0;\n      setAveragePrice(Number(avg.toFixed(2)));\n      setTotalSuggestions(prices.length);\n    }\n  };\n\n  const loadUserSuggestion = async (userId: string) => {\n    const { data, error } = await supabase\n      .from(\"suggested_prices\" as any)\n      .select(\"suggested_price\")\n      .eq(\"product_id\", productId)\n      .eq(\"user_id\", userId)\n      .maybeSingle();\n\n    if (error) {\n      // Table doesn't exist yet - fail silently\n      return;\n    }\n\n    if (data) {\n      setUserSuggestion((data as any).suggested_price);\n      setSuggestedPrice(String((data as any).suggested_price));\n    }\n  };\n\n  const submitSuggestion = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!isLoggedIn) {\n      toast({\n        title: \"Login Required\",\n        description: \"Please login to suggest a price\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const price = parseFloat(suggestedPrice);\n    if (isNaN(price) || price <= 0) {\n      toast({\n        title: \"Invalid Price\",\n        description: \"Please enter a valid price\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n\n    const { data: { session } } = await supabase.auth.getSession();\n    if (!session) return;\n\n    const { error } = await supabase\n      .from(\"suggested_prices\" as any)\n      .upsert({\n        product_id: productId,\n        user_id: session.user.id,\n        suggested_price: price,\n      }, {\n        onConflict: \"product_id,user_id\"\n      });\n\n    if (error) {\n      toast({\n        title: \"Feature Not Available\",\n        description: \"Price suggestions feature is coming soon\",\n        variant: \"destructive\",\n      });\n    } else {\n      setUserSuggestion(price);\n      await loadAverageSuggestedPrice();\n      toast({\n        title: \"Success\",\n        description: \"Price suggestion submitted successfully\",\n      });\n    }\n\n    setLoading(false);\n  };\n\n  const priceDifference = averagePrice > 0 ? ((averagePrice - currentPrice) / currentPrice * 100) : 0;\n\n  return (\n    <div className=\"space-y-4 p-6 border-2 border-border rounded-2xl bg-muted/30\">\n      <div className=\"flex items-center justify-between\">\n        <h3 className=\"font-semibold text-lg flex items-center gap-2 select-none\">\n          <DollarSign className=\"w-5 h-5\" />\n          Community Price Suggestion\n        </h3>\n      </div>\n\n      {totalSuggestions > 0 && (\n        <div className=\"space-y-2\">\n          <div className=\"flex items-baseline gap-2\">\n            <span className=\"text-3xl font-bold\">${averagePrice.toFixed(2)}</span>\n            <span className=\"text-sm text-muted-foreground select-none\">\n              (based on {totalSuggestions} {totalSuggestions === 1 ? 'suggestion' : 'suggestions'})\n            </span>\n          </div>\nimport { Text } from '@/components/ui/typography';\n\n// ... existing imports ...\n\n          {priceDifference !== 0 && (\n            <Text \n              size=\"sm\" \n              variant={priceDifference > 0 ? 'destructive' : 'success'}\n              className=\"select-none\"\n            >\n              {priceDifference > 0 ? '+' : ''}{priceDifference.toFixed(1)}% compared to current price\n            </Text>\n          )}\n        </div>\n      )}\n\n      {isLoggedIn && (\n        <form onSubmit={submitSuggestion} className=\"space-y-3\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"suggested-price\">\n              {userSuggestion ? 'Update your suggestion' : 'Suggest your price'}\n            </Label>\n            <div className=\"flex gap-2\">\n              <div className=\"relative flex-1\">\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground select-none\">\n                  $\n                </span>\n                <Input\n                  id=\"suggested-price\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0.01\"\n                  value={suggestedPrice}\n                  onChange={(e) => setSuggestedPrice(e.target.value)}\n                  placeholder={currentPrice.toFixed(2)}\n                  className=\"pl-7\"\n                  required\n                />\n              </div>\n              <Button type=\"submit\" disabled={loading}>\n                {loading ? 'Submitting...' : userSuggestion ? 'Update' : 'Submit'}\n              </Button>\n            </div>\n          </div>\n          {userSuggestion && (\n            <p className=\"text-xs text-muted-foreground select-none\">\n              Your current suggestion: ${userSuggestion.toFixed(2)}\n            </p>\n          )}\n        </form>\n      )}\n\n      {!isLoggedIn && (\n        <p className=\"text-sm text-muted-foreground select-none\">\n          Login to suggest a price for this product\n        </p>\n      )}\n    </div>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\UserProfileMenu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\WebVitalsDisplay.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\__tests__\\ProductCard.test.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\common\\EmptyState.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\common\\LazyDialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":13,"column":54,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":13,"endColumn":57,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[366,369],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[366,369],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":15,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":15,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[450,453],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[450,453],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Lazy Dialog Wrapper\n * Lazy loads dialog content only when opened\n */\n\nimport { lazy, Suspense, ComponentType } from 'react';\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\n\ninterface LazyDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  // Dynamic import function\n  importFunc: () => Promise<{ default: ComponentType<any> }>;\n  // Props to pass to the lazy component\n  componentProps?: Record<string, any>;\n  // Loading fallback\n  fallback?: React.ReactNode;\n}\n\nconst DefaultFallback = () => (\n  <div className=\"flex items-center justify-center p-8\">\n    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\n  </div>\n);\n\nexport const LazyDialog = ({\n  open,\n  onOpenChange,\n  importFunc,\n  componentProps = {},\n  fallback = <DefaultFallback />,\n}: LazyDialogProps) => {\n  // Only create lazy component when dialog is opened\n  const LazyComponent = open ? lazy(importFunc) : null;\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        {LazyComponent && (\n          <Suspense fallback={fallback}>\n            <LazyComponent {...componentProps} />\n          </Suspense>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\common\\SkeletonLoader.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\layout\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\layout\\Navigation.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\bottom-sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\checkbox-lite.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\combobox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\context-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\menubar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\navigation-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\toggle.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\typography.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3203,3206],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3203,3206],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":256,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":256,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6063,6066],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6063,6066],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Typography Components\n * Reusable typography components with consistent styling\n */\n\nimport React from 'react';\nimport { cva, type VariantProps } from 'class-variance-authority';\nimport { cn } from '@/lib/utils';\n\n/**\n * Heading Component\n * For all heading levels (h1-h6) with consistent styling\n */\nconst headingVariants = cva(\n  'font-display tracking-tight text-foreground',\n  {\n    variants: {\n      level: {\n        1: 'text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold',\n        2: 'text-3xl sm:text-4xl md:text-5xl font-bold',\n        3: 'text-2xl sm:text-3xl md:text-4xl font-semibold',\n        4: 'text-xl sm:text-2xl md:text-3xl font-semibold',\n        5: 'text-lg sm:text-xl md:text-2xl font-medium',\n        6: 'text-base sm:text-lg md:text-xl font-medium',\n      },\n      variant: {\n        default: '',\n        gradient: 'bg-gradient-to-r from-white via-white to-white/80 bg-clip-text text-transparent',\n        neon: 'neon-text',\n        muted: 'text-muted-foreground',\n      },\n      align: {\n        left: 'text-left',\n        center: 'text-center',\n        right: 'text-right',\n      },\n    },\n    defaultVariants: {\n      level: 1,\n      variant: 'default',\n      align: 'left',\n    },\n  }\n);\n\nexport interface HeadingProps\n  extends React.HTMLAttributes<HTMLHeadingElement>,\n    VariantProps<typeof headingVariants> {\n  level?: 1 | 2 | 3 | 4 | 5 | 6;\n  as?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';\n}\n\nexport const Heading = React.forwardRef<HTMLHeadingElement, HeadingProps>(\n  ({ className, level = 1, as, variant, align, ...props }, ref) => {\n    const Component = as || (`h${level}` as 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6');\n    \n    return (\n      <Component\n        ref={ref}\n        className={cn(headingVariants({ level, variant, align, className }))}\n        {...props}\n      />\n    );\n  }\n);\n\nHeading.displayName = 'Heading';\n\n/**\n * Text Component\n * For body text, descriptions, and paragraphs\n */\nconst textVariants = cva(\n  'text-foreground',\n  {\n    variants: {\n      size: {\n        xs: 'text-xs leading-4',\n        sm: 'text-sm leading-5',\n        base: 'text-base leading-6',\n        lg: 'text-lg leading-7',\n        xl: 'text-xl leading-8',\n      },\n      variant: {\n        default: '',\n        muted: 'text-muted-foreground',\n        secondary: 'text-secondary-foreground',\n        destructive: 'text-destructive',\n        success: 'text-green-500',\n        warning: 'text-yellow-500',\n      },\n      weight: {\n        normal: 'font-normal',\n        medium: 'font-medium',\n        semibold: 'font-semibold',\n        bold: 'font-bold',\n      },\n      align: {\n        left: 'text-left',\n        center: 'text-center',\n        right: 'text-right',\n      },\n    },\n    defaultVariants: {\n      size: 'base',\n      variant: 'default',\n      weight: 'normal',\n      align: 'left',\n    },\n  }\n);\n\nexport interface TextProps\n  extends React.HTMLAttributes<HTMLElement>,\n    VariantProps<typeof textVariants> {\n  as?: 'p' | 'span' | 'div' | 'label';\n}\n\nexport const Text = React.forwardRef<HTMLElement, TextProps>(\n  ({ className, as: Component = 'p', size, variant, weight, align, ...props }, ref) => {\n    return (\n      <Component\n        ref={ref as any}\n        className={cn(textVariants({ size, variant, weight, align, className }))}\n        {...props}\n      />\n    );\n  }\n);\n\nText.displayName = 'Text';\n\n/**\n * Label Component\n * For form labels and small descriptive text\n */\nconst labelVariants = cva(\n  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n  {\n    variants: {\n      variant: {\n        default: 'text-foreground',\n        muted: 'text-muted-foreground',\n        destructive: 'text-destructive',\n      },\n      required: {\n        true: \"after:content-['*'] after:ml-0.5 after:text-destructive\",\n        false: '',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      required: false,\n    },\n  }\n);\n\nexport interface LabelTextProps\n  extends React.LabelHTMLAttributes<HTMLLabelElement>,\n    VariantProps<typeof labelVariants> {}\n\nexport const LabelText = React.forwardRef<HTMLLabelElement, LabelTextProps>(\n  ({ className, variant, required, ...props }, ref) => {\n    return (\n      <label\n        ref={ref}\n        className={cn(labelVariants({ variant, required, className }))}\n        {...props}\n      />\n    );\n  }\n);\n\nLabelText.displayName = 'LabelText';\n\n/**\n * Code Component\n * For inline code snippets\n */\nexport const Code = React.forwardRef<\n  HTMLElement,\n  React.HTMLAttributes<HTMLElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <code\n      ref={ref}\n      className={cn(\n        'relative rounded bg-muted px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold',\n        className\n      )}\n      {...props}\n    />\n  );\n});\n\nCode.displayName = 'Code';\n\n/**\n * Pre Component\n * For code blocks\n */\nexport const Pre = React.forwardRef<\n  HTMLPreElement,\n  React.HTMLAttributes<HTMLPreElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <pre\n      ref={ref}\n      className={cn(\n        'overflow-x-auto rounded-lg bg-muted p-4 font-mono text-sm',\n        className\n      )}\n      {...props}\n    />\n  );\n});\n\nPre.displayName = 'Pre';\n\n/**\n * Blockquote Component\n * For quotes and callouts\n */\nexport const Blockquote = React.forwardRef<\n  HTMLQuoteElement,\n  React.HTMLAttributes<HTMLQuoteElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <blockquote\n      ref={ref}\n      className={cn(\n        'border-l-4 border-primary pl-4 italic text-muted-foreground',\n        className\n      )}\n      {...props}\n    />\n  );\n});\n\nBlockquote.displayName = 'Blockquote';\n\n/**\n * List Component\n * For ordered and unordered lists\n */\nexport interface ListProps extends React.HTMLAttributes<HTMLUListElement | HTMLOListElement> {\n  ordered?: boolean;\n}\n\nexport const List = React.forwardRef<HTMLUListElement | HTMLOListElement, ListProps>(\n  ({ className, ordered = false, ...props }, ref) => {\n    const Component = ordered ? 'ol' : 'ul';\n    \n    return (\n      <Component\n        ref={ref as any}\n        className={cn(\n          'space-y-2',\n          ordered ? 'list-decimal list-inside' : 'list-disc list-inside',\n          className\n        )}\n        {...props}\n      />\n    );\n  }\n);\n\nList.displayName = 'List';\n\n/**\n * ListItem Component\n */\nexport const ListItem = React.forwardRef<\n  HTMLLIElement,\n  React.HTMLAttributes<HTMLLIElement>\n>(({ className, ...props }, ref) => {\n  return (\n    <li\n      ref={ref}\n      className={cn('text-foreground', className)}\n      {...props}\n    />\n  );\n});\n\nListItem.displayName = 'ListItem';\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\components\\ui\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\config\\api.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\constants\\categories.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\contexts\\FavoritesContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":6,"column":14,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":17,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[218,221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[218,221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[811,814],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[811,814],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, ReactNode } from 'react';\nimport { useFavorites } from '@/hooks/useApi';\nimport { isAuthenticated } from '@/utils/authStorage';\n\ninterface FavoritesContextType {\n  favorites: any[];\n  isLoading: boolean;\n  isFavorited: (productId: string) => boolean;\n}\n\nconst FavoritesContext = createContext<FavoritesContextType | undefined>(undefined);\n\nexport function FavoritesProvider({ children }: { children: ReactNode }) {\n  const isLoggedIn = isAuthenticated();\n  \n  // Only fetch favorites if user is logged in\n  const { data: favoritesData, isLoading } = useFavorites({\n    enabled: isLoggedIn,\n  });\n  \n  const favorites = favoritesData?.favorites || [];\n  \n  const isFavorited = (productId: string) => {\n    return Array.isArray(favorites) && favorites.some(\n      (fav: any) => {\n        const favProductId = fav.product_id || fav.productId || fav.id;\n        return String(favProductId) === String(productId);\n      }\n    );\n  };\n  \n  return (\n    <FavoritesContext.Provider value={{ favorites, isLoading, isFavorited }}>\n      {children}\n    </FavoritesContext.Provider>\n  );\n}\n\nexport function useFavoritesContext() {\n  const context = useContext(FavoritesContext);\n  if (context === undefined) {\n    throw new Error('useFavoritesContext must be used within FavoritesProvider');\n  }\n  return context;\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\design\\tokens.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\examples\\HighRefreshRateExamples.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\examples\\PerformanceExamples.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\auth\\hooks\\useAuth.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1080,1083],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1080,1083],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1114,1117],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1114,1117],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":70,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":73,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1207,1210],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1207,1210],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1583,1586],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1583,1586],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":44,"column":55,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":44,"endColumn":58,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1617,1620],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1617,1620],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Authentication Hook\n * Centralized auth state management with React Query caching\n */\n\nimport { useCallback, useEffect } from 'react';\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\nimport { authService } from '@/services/authService';\nimport { logAuthError } from '@/services/logger';\n\n// Cache key for auth queries\nconst AUTH_QUERY_KEY = ['auth', 'current-user'];\n\nexport const useAuth = () => {\n  const queryClient = useQueryClient();\n\n  // Use React Query for caching and preventing duplicate requests\n  const { data: user, isLoading, error: _error } = useQuery({\n    queryKey: AUTH_QUERY_KEY,\n    queryFn: async () => {\n      try {\n        // Only fetch user if authenticated\n        if (!authService.isAuthenticated()) {\n          console.log('â„¹ï¸ Skipping getCurrentUser - not authenticated');\n          return null;\n        }\n        \n        console.log('ðŸ” Fetching current user data...');\n        return await authService.getCurrentUser();\n      } catch (error) {\n        // If 401 or 429, return null instead of throwing\n        if ((error as any)?.status === 401 || (error as any)?.status === 429) {\n          console.log('âš ï¸ Auth check failed with status:', (error as any)?.status);\n          return null;\n        }\n        logAuthError(error as Error, 'CHECK_AUTH');\n        return null;\n      }\n    },\n    staleTime: 5 * 60 * 1000, // Consider data fresh for 5 minutes\n    gcTime: 10 * 60 * 1000, // Cache for 10 minutes\n    retry: (failureCount, error) => {\n      // Don't retry on 401 (unauthorized) or 429 (rate limit)\n      if ((error as any)?.status === 401 || (error as any)?.status === 429) {\n        return false;\n      }\n      // Retry other errors up to 2 times\n      return failureCount < 2;\n    },\n    retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),\n    // Only enable query if user might be authenticated\n    enabled: authService.isAuthenticated(),\n  });\n\n  const isAdmin = user?.role === 'admin';\n\n  // Manual refresh function\n  const checkAuth = useCallback(async () => {\n    await queryClient.invalidateQueries({ queryKey: AUTH_QUERY_KEY });\n  }, [queryClient]);\n\n  // Logout handler\n  const logout = useCallback(async () => {\n    try {\n      await authService.logout();\n      // Clear the cached user data\n      queryClient.setQueryData(AUTH_QUERY_KEY, null);\n      window.dispatchEvent(new Event('auth:logout'));\n    } catch (error) {\n      logAuthError(error as Error, 'LOGOUT');\n    }\n  }, [queryClient]);\n\n  // Listen for auth events (login/logout) to refetch\n  useEffect(() => {\n    const handleAuthLogin = () => {\n      checkAuth();\n    };\n\n    const handleAuthLogout = () => {\n      queryClient.setQueryData(AUTH_QUERY_KEY, null);\n    };\n\n    window.addEventListener('auth:login', handleAuthLogin);\n    window.addEventListener('auth:logout', handleAuthLogout);\n\n    return () => {\n      window.removeEventListener('auth:login', handleAuthLogin);\n      window.removeEventListener('auth:logout', handleAuthLogout);\n    };\n  }, [checkAuth, queryClient]);\n\n  return {\n    user: user || null,\n    isAdmin,\n    isLoading,\n    isAuthenticated: !!user,\n    checkAuth,\n    logout,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\auth\\hooks\\useNavigationState.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\auth\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\products\\hooks\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\products\\hooks\\useGridLayout.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\products\\hooks\\usePagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\products\\hooks\\useProductFilters.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2613,2616],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2613,2616],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":89,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2646,2649],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2646,2649],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":20,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":23,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2767,2770],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2767,2770],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Product Filters Hook\n * Manages all filtering logic for products page\n */\n\nimport { useCallback, useMemo, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport type { Product } from '@/types';\n\nexport interface ProductFiltersState {\n  searchQuery: string;\n  selectedColors: string[];\n  selectedTypes: string[];\n  selectedGenders: string[];\n  selectedBrand: string;\n  brandSearchQuery: string;\n}\n\nexport const useProductFilters = () => {\n  const [searchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedColors, setSelectedColors] = useState<string[]>([]);\n  const [selectedTypes, setSelectedTypes] = useState<string[]>([]);\n  const [selectedGenders, setSelectedGenders] = useState<string[]>([]);\n  const [selectedBrand, setSelectedBrand] = useState('');\n  const [brandSearchQuery, setBrandSearchQuery] = useState('');\n\n  // Get store_id from URL params\n  const storeIdParam = searchParams.get('store_id');\n\n\n  // Toggle filters\n  const toggleColor = useCallback((color: string) => {\n    setSelectedColors((prev) => (prev.includes(color) ? prev.filter((c) => c !== color) : [...prev, color]));\n  }, []);\n\n  const toggleType = useCallback((type: string) => {\n    setSelectedTypes((prev) => (prev.includes(type) ? prev.filter((t) => t !== type) : [...prev, type]));\n  }, []);\n\n  const toggleGender = useCallback((gender: string) => {\n    setSelectedGenders((prev) => (prev.includes(gender) ? prev.filter((g) => g !== gender) : [...prev, gender]));\n  }, []);\n\n  // Clear all filters\n  const clearFilters = useCallback(() => {\n    setSearchQuery('');\n    setSelectedColors([]);\n    setSelectedTypes([]);\n    setSelectedGenders([]);\n    setSelectedBrand('');\n    setBrandSearchQuery('');\n  }, []);\n\n  // Check if any filters are active\n  const hasActiveFilters = useMemo(\n    () =>\n      searchQuery.trim() !== '' ||\n      selectedColors.length > 0 ||\n      selectedTypes.length > 0 ||\n      selectedGenders.length > 0 ||\n      selectedBrand !== '',\n    [searchQuery, selectedColors.length, selectedTypes.length, selectedGenders.length, selectedBrand]\n  );\n\n  return {\n    // State\n    searchQuery,\n    selectedColors,\n    selectedTypes,\n    selectedGenders,\n    selectedBrand,\n    brandSearchQuery,\n    \n    // Setters\n    setSearchQuery,\n    setSelectedBrand,\n    setBrandSearchQuery,\n    \n    // Actions\n    toggleColor,\n    toggleType,\n    toggleGender,\n    clearFilters,\n    \n    // Data (kept for backward compatibility; products are now server-driven in Products page)\n    filteredProducts: [] as Product[],\n    brands: [] as any[],\n    filteredBrands: [] as any[],\n    allProducts: [] as Product[],\n    \n    // Meta\n    hasActiveFilters,\n    isLoading: false,\n    error: null as any,\n    storeIdParam,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\products\\hooks\\useProductPagination.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\products\\hooks\\useProductSort.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\products\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\search\\components\\SearchDropdownContainer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\search\\components\\SearchDropdownView.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\search\\components\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\features\\search\\hooks\\useProductSearch.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'results' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":39,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":39,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":118,"column":18,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":21,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3586,3589],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3586,3589],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":118,"column":75,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":78,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3643,3646],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3643,3646],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":120,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3695,3698],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3695,3698],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":134,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":134,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4141,4144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4141,4144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Product Search Hook\n * Encapsulates search logic and debouncing\n * Supports searching both products and stores\n */\n\nimport { useState, useEffect, useMemo } from 'react';\nimport { useProductsPageData } from '@/hooks/useAggregatedData';\nimport { useQuery } from '@tanstack/react-query';\nimport { storeService } from '@/services/storeService';\n\nexport interface SearchResult {\n  id: string;\n  name: string;\n  type: 'product' | 'store'; // Added type discriminator\n  category?: string;\n  brand?: string;\n  image?: string;\n  price?: string;\n  // Store-specific fields\n  logo_url?: string;\n  product_count?: number;\n}\n\nexport const useProductSearch = () => {\n  const [query, setQuery] = useState('');\n  const [debouncedQuery, setDebouncedQuery] = useState('');\n\n  // Debounce search query\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedQuery(query);\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [query]);\n\n  // Filter and limit results\n  const results = useMemo((): SearchResult[] => {\n    if (debouncedQuery.trim().length < 2) {\n      return [];\n    }\n\n    // results come from server query below\n    return [];\n  }, [debouncedQuery]);\n\n  const hasQuery = debouncedQuery.trim().length >= 2;\n  const apiFilters = useMemo(\n    () => ({\n      page: 1,\n      limit: 5,\n      search: debouncedQuery,\n    }),\n    [debouncedQuery]\n  );\n\n  // Reuse the canonical /pages/products hook (single source of truth)\n  const { data: pageData, isLoading: isLoadingProducts } = useProductsPageData(apiFilters, {\n    enabled: hasQuery,\n    staleTime: 30 * 1000,\n    gcTime: 5 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n\n  // Search stores in parallel\n  const { data: storesData, isLoading: isLoadingStores, error: storesError } = useQuery({\n    queryKey: ['stores-search', debouncedQuery],\n    queryFn: async () => {\n      console.log('[Search] Starting stores fetch...');\n      \n      try {\n        const allStores = await storeService.getAllStores();\n        console.log('[Search] Stores fetched successfully:', allStores.length);\n        \n        const query = debouncedQuery.toLowerCase().trim();\n        \n        // Debug logging\n        console.log('[Search] All stores:', allStores.length, allStores.map(s => s.name));\n        console.log('[Search] Query:', query);\n        \n        // Filter stores by name (more flexible matching)\n        const filtered = allStores.filter(store => {\n          const storeName = store.name.toLowerCase().trim();\n          // Remove spaces and special characters for better matching\n          const normalizedStoreName = storeName.replace(/[^a-z0-9]/g, '');\n          const normalizedQuery = query.replace(/[^a-z0-9]/g, '');\n          \n          const match = storeName.includes(query) || normalizedStoreName.includes(normalizedQuery);\n          \n          if (match) {\n            console.log('[Search] âœ“ Match found:', store.name, '| normalized:', normalizedStoreName);\n          }\n          \n          return match;\n        }).slice(0, 3); // Limit to 3 stores\n        \n        console.log('[Search] Filtered stores:', filtered.length, filtered.map(s => s.name));\n        \n        return filtered;\n      } catch (error) {\n        console.error('[Search] Error fetching stores:', error);\n        throw error;\n      }\n    },\n    enabled: hasQuery,\n    staleTime: 30 * 1000,\n    gcTime: 5 * 60 * 1000,\n    refetchOnWindowFocus: false,\n  });\n  \n  // Log query errors\n  if (storesError) {\n    console.error('[Search] Stores query error:', storesError);\n  }\n\n  const serverResults = useMemo(() => {\n    const items: any[] = Array.isArray(pageData?.products) ? (pageData as any).products : [];\n\n    return items.map((product: any) => ({\n      id: String(product.id),\n      name: product.name,\n      type: 'product' as const,\n      category: product.type || product.category,\n      brand: product.brand,\n      image: product.image_url || product.image,\n      price: product.price ? String(product.price) : undefined,\n    })) as SearchResult[];\n  }, [pageData]);\n\n  const storeResults = useMemo(() => {\n    if (!storesData) return [];\n    \n    return storesData.map((store: any) => ({\n      id: String(store.id),\n      name: store.name,\n      type: 'store' as const,\n      logo_url: store.logo_url,\n      product_count: store.product_count,\n      image: store.logo_url, // For compatibility with UI\n    })) as SearchResult[];\n  }, [storesData]);\n\n  // Combine results: stores first, then products\n  const finalResults = useMemo(() => {\n    return [...storeResults, ...serverResults];\n  }, [storeResults, serverResults]);\n\n  const isLoading = isLoadingProducts || isLoadingStores;\n  const hasResults = finalResults.length > 0;\n  const showNoResults = hasQuery && !isLoading && !hasResults;\n\n  return {\n    query,\n    setQuery,\n    results: finalResults,\n    isLoading,\n    hasQuery,\n    hasResults,\n    showNoResults,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\performance.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\use-mobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\use-toast.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'actionTypes' is assigned a value but only used as a type. Allowed unused vars must match /^_/u.","line":15,"column":7,"nodeType":null,"messageId":"usedOnlyAsType","endLine":15,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\n\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) => (t.id === action.toast.id ? { ...t, ...action.toast } : t)),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t,\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, \"id\">;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\use-touch-device.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useAggregatedData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useAnimationFrame.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a spread element in its dependency array. This means we can't statically verify whether you've passed the correct dependencies.","line":74,"column":16,"nodeType":"SpreadElement","endLine":74,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Request Animation Frame Hook\r\n * Ð”Ð»Ñ smooth animations Ñ‚Ð° high-performance updates\r\n * ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÑ” 60Hz, 120Hz, 144Hz+ Ð´Ð¸ÑÐ¿Ð»ÐµÑ—\r\n */\r\n\r\nimport { useEffect, useRef, useCallback, useState } from 'react';\r\n\r\n/**\r\n * Detect display refresh rate\r\n */\r\nexport function useRefreshRate() {\r\n  const [refreshRate, setRefreshRate] = useState(60);\r\n\r\n  useEffect(() => {\r\n    let frameCount = 0;\r\n    const lastTime = performance.now();\r\n    let rafId: number;\r\n\r\n    const detectRefreshRate = (currentTime: number) => {\r\n      frameCount++;\r\n      \r\n      // Ð’Ð¸Ð¼Ñ–Ñ€ÑŽÑ”Ð¼Ð¾ Ð¿Ñ–ÑÐ»Ñ 60 ÐºÐ°Ð´Ñ€Ñ–Ð²\r\n      if (frameCount === 60) {\r\n        const elapsed = currentTime - lastTime;\r\n        const fps = Math.round((frameCount / elapsed) * 1000);\r\n        setRefreshRate(fps);\r\n        return;\r\n      }\r\n\r\n      if (frameCount < 60) {\r\n        rafId = requestAnimationFrame(detectRefreshRate);\r\n      }\r\n    };\r\n\r\n    rafId = requestAnimationFrame(detectRefreshRate);\r\n\r\n    return () => {\r\n      if (rafId) cancelAnimationFrame(rafId);\r\n    };\r\n  }, []);\r\n\r\n  return refreshRate;\r\n}\r\n\r\n/**\r\n * Hook Ð´Ð»Ñ Ð²Ð¸ÐºÐ¾Ð½Ð°Ð½Ð½Ñ callback Ð² RAF loop\r\n * ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð¾ Ð°Ð´Ð°Ð¿Ñ‚ÑƒÑ”Ñ‚ÑŒÑÑ Ð´Ð¾ refresh rate (60/120/144 FPS)\r\n */\r\nexport function useAnimationFrame(\r\n  callback: (deltaTime: number) => void,\r\n  deps: ReadonlyArray<unknown> = []\r\n) {\r\n  const frame = useRef<number>();\r\n  const last = useRef(performance.now());\r\n\r\n  const animate = useCallback(() => {\r\n    const now = performance.now();\r\n    const deltaTime = (now - last.current) / 1000;\r\n    \r\n    callback(deltaTime);\r\n    \r\n    last.current = now;\r\n    frame.current = requestAnimationFrame(animate);\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    frame.current = requestAnimationFrame(animate);\r\n    return () => {\r\n      if (frame.current) {\r\n        cancelAnimationFrame(frame.current);\r\n      }\r\n    };\r\n  }, [animate, ...deps]);\r\n}\r\n\r\n/**\r\n * Hook Ð´Ð»Ñ throttled RAF updates\r\n * ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÑ” adaptive FPS (60/120/144)\r\n */\r\nexport function useRAFThrottle<T extends (...args: unknown[]) => unknown>(\r\n  callback: T,\r\n  targetFPS: number = 60 // Ð—Ð° Ð·Ð°Ð¼Ð¾Ð²Ñ‡ÑƒÐ²Ð°Ð½Ð½ÑÐ¼ 60, Ð°Ð»Ðµ Ð¿Ñ€Ð°Ñ†ÑŽÑ” Ð´Ð¾ 240 FPS\r\n): T {\r\n  const rafId = useRef<number>();\r\n  const lastTime = useRef<number>(0);\r\n  const frameTime = 1000 / targetFPS;\r\n\r\n  const throttledCallback = useCallback(\r\n    (...args: Parameters<T>) => {\r\n      if (rafId.current) {\r\n        cancelAnimationFrame(rafId.current);\r\n      }\r\n\r\n      rafId.current = requestAnimationFrame((time) => {\r\n        // RAF Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð¾ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·ÑƒÑ”Ñ‚ÑŒÑÑ Ð· refresh rate\r\n        if (time - lastTime.current >= frameTime) {\r\n          callback(...args);\r\n          lastTime.current = time;\r\n        }\r\n      });\r\n    },\r\n    [callback, frameTime]\r\n  ) as T;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (rafId.current) {\r\n        cancelAnimationFrame(rafId.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return throttledCallback;\r\n}\r\n\r\n/**\r\n * Hook Ð´Ð»Ñ smooth scroll Ð· RAF\r\n */\r\nexport function useSmoothScroll() {\r\n  const scrollToTop = useCallback((duration: number = 800) => {\r\n    const start = window.pageYOffset;\r\n    const startTime = performance.now();\r\n\r\n    const scroll = (currentTime: number) => {\r\n      const elapsed = currentTime - startTime;\r\n      const progress = Math.min(elapsed / duration, 1);\r\n      \r\n      // Easing function (easeInOutCubic)\r\n      const eased = progress < 0.5\r\n        ? 4 * progress * progress * progress\r\n        : 1 - Math.pow(-2 * progress + 2, 3) / 2;\r\n\r\n      window.scrollTo(0, start * (1 - eased));\r\n\r\n      if (progress < 1) {\r\n        requestAnimationFrame(scroll);\r\n      }\r\n    };\r\n\r\n    requestAnimationFrame(scroll);\r\n  }, []);\r\n\r\n  const scrollToElement = useCallback((\r\n    element: HTMLElement | null,\r\n    duration: number = 800,\r\n    offset: number = 0\r\n  ) => {\r\n    if (!element) return;\r\n\r\n    const start = window.pageYOffset;\r\n    const target = element.getBoundingClientRect().top + start - offset;\r\n    const distance = target - start;\r\n    const startTime = performance.now();\r\n\r\n    const scroll = (currentTime: number) => {\r\n      const elapsed = currentTime - startTime;\r\n      const progress = Math.min(elapsed / duration, 1);\r\n      \r\n      const eased = progress < 0.5\r\n        ? 4 * progress * progress * progress\r\n        : 1 - Math.pow(-2 * progress + 2, 3) / 2;\r\n\r\n      window.scrollTo(0, start + distance * eased);\r\n\r\n      if (progress < 1) {\r\n        requestAnimationFrame(scroll);\r\n      }\r\n    };\r\n\r\n    requestAnimationFrame(scroll);\r\n  }, []);\r\n\r\n  return { scrollToTop, scrollToElement };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useApi.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useAuthEvents.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useDebounce.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useErrorToast.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ApiError' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getErrorMessage' is defined but never used. Allowed unused vars must match /^_/u.","line":8,"column":32,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Error Toast Hook\n * Provides consistent error handling and display using toast notifications\n */\n\nimport { useToast } from './use-toast';\nimport { useTranslation } from 'react-i18next';\nimport { ApiError, isApiError, getErrorMessage } from '@/services/api/errorHandler';\nimport { getErrorMessage as translateError } from '@/utils/errorTranslation';\n\nexport const useErrorToast = () => {\n  const { toast } = useToast();\n  const { t } = useTranslation();\n  \n  /**\n   * Show error toast with proper translation and formatting\n   */\n  const showError = (error: unknown, customTitle?: string) => {\n    let title = customTitle || t('common.error');\n    let description: string;\n    \n    if (isApiError(error)) {\n      // Use user-friendly message\n      description = error.getUserMessage();\n      \n      // Try to translate if error_code is available\n      if (error.errorCode) {\n        description = translateError(error);\n      }\n      \n      // Customize title based on error type\n      if (error.isAuthError()) {\n        title = t('errors.authError') || 'Authentication Error';\n      } else if (error.isServerError()) {\n        title = t('errors.serverError') || 'Server Error';\n      } else if (error.isNetworkError()) {\n        title = t('errors.networkError') || 'Network Error';\n      }\n    } else if (error instanceof Error) {\n      description = error.message;\n    } else if (typeof error === 'string') {\n      description = error;\n    } else {\n      description = t('errors.unexpected') || 'An unexpected error occurred';\n    }\n    \n    toast({\n      variant: 'destructive',\n      title,\n      description,\n    });\n  };\n  \n  /**\n   * Show success toast\n   */\n  const showSuccess = (message: string, title?: string) => {\n    toast({\n      title: title || t('common.success'),\n      description: message,\n    });\n  };\n  \n  /**\n   * Show info toast\n   */\n  const showInfo = (message: string, title?: string) => {\n    toast({\n      title: title || t('common.info'),\n      description: message,\n    });\n  };\n  \n  /**\n   * Show warning toast\n   */\n  const showWarning = (message: string, title?: string) => {\n    toast({\n      title: title || t('common.warning'),\n      description: message,\n      variant: 'default',\n    });\n  };\n  \n  return {\n    showError,\n    showSuccess,\n    showInfo,\n    showWarning,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useHighRefreshRate.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3024,3027],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3024,3027],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * High Refresh Rate Utilities\r\n * ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ° 120Hz, 144Hz, 240Hz Ð´Ð¸ÑÐ¿Ð»ÐµÑ—Ð²\r\n */\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\n/**\r\n * Ð’Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ÑÑ‚ÐµÐ¹ Ð´Ð¸ÑÐ¿Ð»ÐµÑ\r\n */\r\nexport interface DisplayCapabilities {\r\n  refreshRate: number;\r\n  supportsHighRefreshRate: boolean;\r\n  recommendedFPS: number;\r\n}\r\n\r\n/**\r\n * Hook Ð´Ð»Ñ Ð²Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ refresh rate Ð´Ð¸ÑÐ¿Ð»ÐµÑ\r\n */\r\nexport function useDisplayCapabilities(): DisplayCapabilities {\r\n  const [capabilities, setCapabilities] = useState<DisplayCapabilities>({\r\n    refreshRate: 60,\r\n    supportsHighRefreshRate: false,\r\n    recommendedFPS: 60,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let frameCount = 0;\r\n    let startTime = performance.now();\r\n    let rafId: number;\r\n    const samples: number[] = [];\r\n\r\n    const measureRefreshRate = (currentTime: number) => {\r\n      frameCount++;\r\n\r\n      // Ð—Ð±Ð¸Ñ€Ð°Ñ”Ð¼Ð¾ 120 ÑÐµÐ¼Ð¿Ð»Ñ–Ð² Ð´Ð»Ñ Ñ‚Ð¾Ñ‡Ð½Ð¾ÑÑ‚Ñ–\r\n      if (frameCount <= 120) {\r\n        if (frameCount > 1) {\r\n          const delta = currentTime - startTime;\r\n          samples.push(1000 / delta);\r\n        }\r\n        startTime = currentTime;\r\n        rafId = requestAnimationFrame(measureRefreshRate);\r\n      } else {\r\n        // ÐžÐ±Ñ‡Ð¸ÑÐ»ÑŽÑ”Ð¼Ð¾ Ð¼ÐµÐ´Ñ–Ð°Ð½Ñƒ FPS\r\n        samples.sort((a, b) => a - b);\r\n        const median = samples[Math.floor(samples.length / 2)];\r\n        \r\n        let detectedRate = 60;\r\n        if (median > 115) detectedRate = 120;\r\n        else if (median > 138) detectedRate = 144;\r\n        else if (median > 200) detectedRate = 240;\r\n\r\n        setCapabilities({\r\n          refreshRate: detectedRate,\r\n          supportsHighRefreshRate: detectedRate > 60,\r\n          recommendedFPS: detectedRate,\r\n        });\r\n      }\r\n    };\r\n\r\n    rafId = requestAnimationFrame(measureRefreshRate);\r\n\r\n    return () => {\r\n      if (rafId) cancelAnimationFrame(rafId);\r\n    };\r\n  }, []);\r\n\r\n  return capabilities;\r\n}\r\n\r\n/**\r\n * Adaptive FPS target based on device\r\n */\r\nexport function useAdaptiveFPS() {\r\n  const { refreshRate, supportsHighRefreshRate } = useDisplayCapabilities();\r\n  const [targetFPS, setTargetFPS] = useState(60);\r\n\r\n  useEffect(() => {\r\n    // Ð”Ð»Ñ Ð¼Ð¾Ð±Ñ–Ð»ÑŒÐ½Ð¸Ñ… - Ð¾Ð±Ð¼ÐµÐ¶ÑƒÑ”Ð¼Ð¾ Ð´Ð¾ 60 FPS (ÐµÐºÐ¾Ð½Ð¾Ð¼Ñ–Ñ Ð±Ð°Ñ‚Ð°Ñ€ÐµÑ—)\r\n    const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n    \r\n    if (isMobile) {\r\n      setTargetFPS(60);\r\n    } else {\r\n      // Ð”Ð»Ñ Ð´ÐµÑÐºÑ‚Ð¾Ð¿Ð° - Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ð¼Ð¾ Ð¿Ð¾Ð²Ð½Ð¸Ð¹ refresh rate\r\n      setTargetFPS(refreshRate);\r\n    }\r\n  }, [refreshRate]);\r\n\r\n  return {\r\n    targetFPS,\r\n    refreshRate,\r\n    supportsHighRefreshRate,\r\n    isHighPerformanceMode: !(/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)),\r\n  };\r\n}\r\n\r\n/**\r\n * Performance class based on device capabilities\r\n */\r\nexport type PerformanceClass = 'low' | 'medium' | 'high' | 'ultra';\r\n\r\nexport function usePerformanceClass(): PerformanceClass {\r\n  const [perfClass, setPerfClass] = useState<PerformanceClass>('medium');\r\n  const { refreshRate } = useDisplayCapabilities();\r\n\r\n  useEffect(() => {\r\n    const cores = navigator.hardwareConcurrency || 4;\r\n    const memory = (performance as any).memory?.jsHeapSizeLimit || 0;\r\n    const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\r\n\r\n    let score = 0;\r\n\r\n    // CPU cores\r\n    if (cores >= 8) score += 3;\r\n    else if (cores >= 4) score += 2;\r\n    else score += 1;\r\n\r\n    // Memory\r\n    if (memory > 4000000000) score += 3; // 4GB+\r\n    else if (memory > 2000000000) score += 2; // 2GB+\r\n    else score += 1;\r\n\r\n    // Refresh rate\r\n    if (refreshRate >= 144) score += 3;\r\n    else if (refreshRate >= 120) score += 2;\r\n    else score += 1;\r\n\r\n    // Mobile penalty\r\n    if (isMobile) score -= 2;\r\n\r\n    // Classify\r\n    if (score >= 8) setPerfClass('ultra');\r\n    else if (score >= 6) setPerfClass('high');\r\n    else if (score >= 4) setPerfClass('medium');\r\n    else setPerfClass('low');\r\n  }, [refreshRate]);\r\n\r\n  return perfClass;\r\n}\r\n\r\n/**\r\n * Settings recommendations based on device\r\n */\r\nexport function usePerformanceSettings() {\r\n  const perfClass = usePerformanceClass();\r\n  const { targetFPS, supportsHighRefreshRate } = useAdaptiveFPS();\r\n\r\n  const settings = {\r\n    low: {\r\n      enableBlur: false,\r\n      enableShadows: false,\r\n      enableAnimations: false,\r\n      imageQuality: 'low',\r\n      maxParticles: 10,\r\n      targetFPS: 30,\r\n    },\r\n    medium: {\r\n      enableBlur: true,\r\n      enableShadows: false,\r\n      enableAnimations: true,\r\n      imageQuality: 'medium',\r\n      maxParticles: 25,\r\n      targetFPS: 60,\r\n    },\r\n    high: {\r\n      enableBlur: true,\r\n      enableShadows: true,\r\n      enableAnimations: true,\r\n      imageQuality: 'high',\r\n      maxParticles: 50,\r\n      targetFPS: supportsHighRefreshRate ? 120 : 60,\r\n    },\r\n    ultra: {\r\n      enableBlur: true,\r\n      enableShadows: true,\r\n      enableAnimations: true,\r\n      imageQuality: 'ultra',\r\n      maxParticles: 100,\r\n      targetFPS: targetFPS,\r\n    },\r\n  };\r\n\r\n  return {\r\n    ...settings[perfClass],\r\n    performanceClass: perfClass,\r\n    deviceRefreshRate: targetFPS,\r\n  };\r\n}\r\n\r\n/**\r\n * FPS Monitor Component Data\r\n */\r\nexport function useFPSMonitor() {\r\n  const [fps, setFps] = useState(60);\r\n  const [frameTime, setFrameTime] = useState(16.67);\r\n  const { refreshRate } = useDisplayCapabilities();\r\n\r\n  useEffect(() => {\r\n    let frames = 0;\r\n    let lastTime = performance.now();\r\n    let rafId: number;\r\n\r\n    const measure = (currentTime: number) => {\r\n      frames++;\r\n      const delta = currentTime - lastTime;\r\n\r\n      // ÐžÐ½Ð¾Ð²Ð»ÑŽÑ”Ð¼Ð¾ ÐºÐ¾Ð¶Ð½Ñ– 500ms\r\n      if (delta >= 500) {\r\n        const currentFPS = Math.round((frames / delta) * 1000);\r\n        setFps(currentFPS);\r\n        setFrameTime(delta / frames);\r\n        frames = 0;\r\n        lastTime = currentTime;\r\n      }\r\n\r\n      rafId = requestAnimationFrame(measure);\r\n    };\r\n\r\n    rafId = requestAnimationFrame(measure);\r\n\r\n    return () => {\r\n      if (rafId) cancelAnimationFrame(rafId);\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    fps,\r\n    frameTime,\r\n    refreshRate,\r\n    isOptimal: fps >= refreshRate * 0.95, // 95% Ð²Ñ–Ð´ refresh rate\r\n  };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useImageUpload.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useIntersectionObserver.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'updateEntry'. Either include it or remove the dependency array.","line":48,"column":6,"nodeType":"ArrayExpression","endLine":48,"endColumn":65,"suggestions":[{"desc":"Update the dependencies array to be: [elementRef, threshold, root, rootMargin, frozen, onChange, updateEntry]","fix":{"range":[1356,1415],"text":"[elementRef, threshold, root, rootMargin, frozen, onChange, updateEntry]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Intersection Observer Hook\r\n * Ð”Ð»Ñ lazy rendering Ñ‚Ð° visibility detection\r\n */\r\n\r\nimport { useEffect, useState, RefObject } from 'react';\r\n\r\ninterface UseIntersectionObserverOptions extends IntersectionObserverInit {\r\n  freezeOnceVisible?: boolean;\r\n  onChange?: (isIntersecting: boolean, entry: IntersectionObserverEntry) => void;\r\n}\r\n\r\nexport function useIntersectionObserver(\r\n  elementRef: RefObject<Element>,\r\n  {\r\n    threshold = 0,\r\n    root = null,\r\n    rootMargin = '0px',\r\n    freezeOnceVisible = false,\r\n    onChange,\r\n  }: UseIntersectionObserverOptions = {}\r\n): IntersectionObserverEntry | undefined {\r\n  const [entry, setEntry] = useState<IntersectionObserverEntry>();\r\n\r\n  const frozen = entry?.isIntersecting && freezeOnceVisible;\r\n\r\n  const updateEntry = (entries: IntersectionObserverEntry[]): void => {\r\n    const [entry] = entries;\r\n    setEntry(entry);\r\n\r\n    if (onChange) {\r\n      onChange(entry.isIntersecting, entry);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const node = elementRef?.current;\r\n    const hasIOSupport = !!window.IntersectionObserver;\r\n\r\n    if (!hasIOSupport || frozen || !node) return;\r\n\r\n    const observerParams = { threshold, root, rootMargin };\r\n    const observer = new IntersectionObserver(updateEntry, observerParams);\r\n\r\n    observer.observe(node);\r\n\r\n    return () => observer.disconnect();\r\n  }, [elementRef, threshold, root, rootMargin, frozen, onChange]);\r\n\r\n  return entry;\r\n}\r\n\r\n/**\r\n * Lazy Load Hook\r\n * Wrapper for easier lazy loading\r\n */\r\nexport function useLazyLoad(\r\n  elementRef: RefObject<Element>,\r\n  options?: UseIntersectionObserverOptions\r\n) {\r\n  const entry = useIntersectionObserver(elementRef, {\r\n    ...options,\r\n    freezeOnceVisible: true,\r\n  });\r\n\r\n  return entry?.isIntersecting ?? false;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\usePassiveEvent.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":106,"column":68,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":106,"endColumn":71,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2602,2605],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2602,2605],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2724,2727],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2724,2727],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":112,"column":64,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":112,"endColumn":67,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2843,2846],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2843,2846],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":117,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":117,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2997,3000],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2997,3000],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":120,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":120,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3109,3112],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3109,3112],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":123,"column":69,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":123,"endColumn":72,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3218,3221],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3218,3221],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Passive Event Listeners Hook\r\n * Ð”Ð»Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ñ–Ð·Ð°Ñ†Ñ–Ñ— scroll/touch Ð¿Ð¾Ð´Ñ–Ð¹\r\n */\r\n\r\nimport { useEffect, useRef, useCallback } from 'react';\r\n\r\ntype EventHandler = (event: Event) => void;\r\n\r\ninterface UsePassiveEventOptions {\r\n  passive?: boolean;\r\n  capture?: boolean;\r\n}\r\n\r\n/**\r\n * Hook Ð´Ð»Ñ Ð´Ð¾Ð´Ð°Ð²Ð°Ð½Ð½Ñ passive event listeners\r\n * ÐŸÐ¾ÐºÑ€Ð°Ñ‰ÑƒÑ” scroll performance Ð½Ð° 30-40%\r\n */\r\nexport function usePassiveEvent(\r\n  eventName: string,\r\n  handler: EventHandler,\r\n  element: HTMLElement | Window | null = window,\r\n  options: UsePassiveEventOptions = {}\r\n) {\r\n  const savedHandler = useRef<EventHandler>();\r\n  const { passive = true, capture = false } = options;\r\n\r\n  useEffect(() => {\r\n    savedHandler.current = handler;\r\n  }, [handler]);\r\n\r\n  useEffect(() => {\r\n    if (!element) return;\r\n\r\n    const eventListener = (event: Event) => {\r\n      if (savedHandler.current) {\r\n        savedHandler.current(event);\r\n      }\r\n    };\r\n\r\n    const opts = { passive, capture };\r\n    element.addEventListener(eventName, eventListener, opts);\r\n\r\n    return () => {\r\n      element.removeEventListener(eventName, eventListener, opts);\r\n    };\r\n  }, [eventName, element, passive, capture]);\r\n}\r\n\r\n/**\r\n * Hook Ð´Ð»Ñ scroll events Ð· throttling\r\n */\r\nexport function usePassiveScroll(\r\n  handler: (event: Event) => void,\r\n  throttleMs: number = 100,\r\n  element: HTMLElement | Window | null = window\r\n) {\r\n  const lastRan = useRef<number>(0);\r\n  const rafId = useRef<number>();\r\n\r\n  const throttledHandler = useCallback(\r\n    (event: Event) => {\r\n      const now = Date.now();\r\n      \r\n      if (rafId.current) {\r\n        cancelAnimationFrame(rafId.current);\r\n      }\r\n\r\n      if (now - lastRan.current >= throttleMs) {\r\n        handler(event);\r\n        lastRan.current = now;\r\n      } else {\r\n        rafId.current = requestAnimationFrame(() => {\r\n          handler(event);\r\n          lastRan.current = Date.now();\r\n        });\r\n      }\r\n    },\r\n    [handler, throttleMs]\r\n  );\r\n\r\n  usePassiveEvent('scroll', throttledHandler, element, { passive: true });\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (rafId.current) {\r\n        cancelAnimationFrame(rafId.current);\r\n      }\r\n    };\r\n  }, []);\r\n}\r\n\r\n/**\r\n * Hook Ð´Ð»Ñ touch events\r\n */\r\nexport function usePassiveTouch(\r\n  onTouchStart?: (event: TouchEvent) => void,\r\n  onTouchMove?: (event: TouchEvent) => void,\r\n  onTouchEnd?: (event: TouchEvent) => void,\r\n  element: HTMLElement | null = null\r\n) {\r\n  useEffect(() => {\r\n    const targetElement = element || document.body;\r\n\r\n    if (onTouchStart) {\r\n      targetElement.addEventListener('touchstart', onTouchStart as any, { passive: true });\r\n    }\r\n    if (onTouchMove) {\r\n      targetElement.addEventListener('touchmove', onTouchMove as any, { passive: true });\r\n    }\r\n    if (onTouchEnd) {\r\n      targetElement.addEventListener('touchend', onTouchEnd as any, { passive: true });\r\n    }\r\n\r\n    return () => {\r\n      if (onTouchStart) {\r\n        targetElement.removeEventListener('touchstart', onTouchStart as any);\r\n      }\r\n      if (onTouchMove) {\r\n        targetElement.removeEventListener('touchmove', onTouchMove as any);\r\n      }\r\n      if (onTouchEnd) {\r\n        targetElement.removeEventListener('touchend', onTouchEnd as any);\r\n      }\r\n    };\r\n  }, [onTouchStart, onTouchMove, onTouchEnd, element]);\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\hooks\\useSEO.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\i18n.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\integrations\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\integrations\\supabase\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\About.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'index' is defined but never used. Allowed unused args must match /^_/u.","line":111,"column":33,"nodeType":null,"messageId":"unusedVar","endLine":111,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowLeft, Sparkles, Shield, Globe, Heart } from \"lucide-react\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport { NeonAbstractions } from \"@/components/NeonAbstractions\";\nimport { useSEO } from \"@/hooks/useSEO\";\n\nconst About = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n\n  useSEO({\n    title: t('about.seoTitle', 'About'),\n    description: t('about.seoDescription', 'Learn about WearSearch and our mission to help you find the best fashion products across stores.'),\n    keywords: 'about, mission, fashion search, wearsearch',\n    type: 'website',\n  });\n\n  const values = [\n    {\n      icon: Sparkles,\n      title: t('about.value1Title'),\n      description: t('about.value1Desc')\n    },\n    {\n      icon: Shield,\n      title: t('about.value2Title'),\n      description: t('about.value2Desc')\n    },\n    {\n      icon: Globe,\n      title: t('about.value3Title'),\n      description: t('about.value3Desc')\n    },\n    {\n      icon: Heart,\n      title: t('about.value4Title'),\n      description: t('about.value4Desc')\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground\">\n      <Navigation />\n      \n      {/* Hero Section */}\n      <section className=\"relative pt-32 pb-20 overflow-hidden\">\n        {/* NeonAbstractions background - stars and round objects ONLY */}\n        <div className=\"absolute inset-0 z-0\">\n          <NeonAbstractions />\n        </div>\n        \n        {/* Background Effects */}\n        <div className=\"absolute inset-0 opacity-30 z-[1]\">\n          <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-white/5 rounded-full blur-3xl\" />\n          <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-white/3 rounded-full blur-3xl\" />\n        </div>\n        \n        <div className=\"container mx-auto px-6 relative z-10\">\n          <Button \n            variant=\"ghost\" \n            onClick={() => navigate(-1)} \n            className=\"mb-8 text-muted-foreground hover:text-foreground\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back\n          </Button>\n          \n          <div className=\"max-w-3xl mx-auto text-center\">\n            <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-border/50 bg-card/30 backdrop-blur-sm mb-8\">\n              <Sparkles className=\"w-4 h-4\" />\n              <span className=\"text-xs tracking-wider uppercase\">Our Story</span>\n            </div>\n            \n            <h1 className=\"font-display text-5xl sm:text-6xl md:text-7xl font-bold mb-6 tracking-tight\">\n              <span className=\"block\">{t('about.title')}</span>\n            </h1>\n            \n            <p className=\"text-xl text-muted-foreground leading-relaxed mb-8\">\n              {t('about.description')}\n            </p>\n          </div>\n        </div>\n      </section>\n\n      {/* Mission Section */}\n      <section className=\"py-20 border-y border-border/20\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"max-w-3xl mx-auto text-center\">\n            <h2 className=\"font-display text-3xl sm:text-4xl font-bold mb-6\">{t('about.missionTitle')}</h2>\n            <p className=\"text-lg text-muted-foreground leading-relaxed\">\n              {t('about.mission')}\n            </p>\n          </div>\n        </div>\n      </section>\n\n      {/* Values Section */}\n      <section className=\"py-20\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"font-display text-3xl sm:text-4xl font-bold mb-4\">{t('about.valuesTitle')}</h2>\n            <p className=\"text-muted-foreground max-w-2xl mx-auto\">\n              {t('about.description')}\n            </p>\n          </div>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto\">\n            {values.map((value, index) => (\n              <div \n                key={value.title}\n                className=\"p-8 rounded-2xl border border-border/30 bg-card/20 backdrop-blur-sm hover:bg-card/40 transition-all duration-300 group\"\n              >\n                <div className=\"w-12 h-12 rounded-xl border border-border/50 bg-card/50 flex items-center justify-center mb-5 group-hover:border-foreground/30 transition-colors\">\n                  <value.icon className=\"w-5 h-5 text-muted-foreground group-hover:text-foreground transition-colors\" />\n                </div>\n                <h3 className=\"font-display font-semibold text-xl mb-3\">{value.title}</h3>\n                <p className=\"text-muted-foreground leading-relaxed\">{value.description}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* CTA Section */}\n      <section className=\"py-20 relative overflow-hidden\">\n        <div className=\"absolute inset-0 opacity-20\">\n          <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-white/5 rounded-full blur-3xl\" />\n        </div>\n        \n        <div className=\"container mx-auto px-6 relative z-10 text-center\">\n          <h2 className=\"font-display text-3xl sm:text-4xl font-bold mb-6\">\n            Ready to Explore?\n          </h2>\n          <p className=\"text-lg text-muted-foreground max-w-xl mx-auto mb-8\">\n            Discover our curated collection of exceptional fashion pieces.\n          </p>\n          <Button \n            size=\"lg\" \n            className=\"px-8 h-14 text-base rounded-full\"\n            onClick={() => navigate(\"/products\")}\n          >\n            Browse Collections\n          </Button>\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default About;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Admin.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used. Allowed unused caught errors must match /^_/u.","line":314,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":314,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":453,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":453,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[17193,17196],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[17193,17196],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":487,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":487,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[18272,18275],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[18272,18275],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":550,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":550,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20033,20036],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20033,20036],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":578,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":578,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[20884,20887],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[20884,20887],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":611,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":611,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[22116,22119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[22116,22119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":645,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":645,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23175,23178],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23175,23178],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":656,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":656,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[23419,23422],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[23419,23422],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":695,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":695,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[24567,24570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[24567,24570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":719,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":719,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[25333,25336],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[25333,25336],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1100,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1100,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[45538,45541],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[45538,45541],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1301,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1301,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[55385,55388],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[55385,55388],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1357,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1357,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[57643,57646],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[57643,57646],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":1415,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1415,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[60392,60395],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[60392,60395],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback, useRef, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Combobox } from \"@/components/ui/combobox\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport { Package, Store, Plus, Edit, Trash2, Search, ShieldCheck } from \"lucide-react\";\nimport { ImageUploader } from \"@/components/ImageUploader\";\nimport { productService } from \"@/services/productService\";\nimport { storeService } from \"@/services/storeService\";\nimport { brandsApi } from \"@/services/api/brands.api\";\nimport { useAdminDashboardData } from \"@/hooks/useAggregatedData\";\nimport { getCategoryTranslation, getColorTranslation } from \"@/utils/translations\";\nimport { useProducts, useStores, useBrands } from \"@/hooks/useApi\";\nimport { useAuth } from \"@/features/auth/hooks/useAuth\";\nimport { useSEO } from \"@/hooks/useSEO\";\n\nconst isRecord = (value: unknown): value is Record<string, unknown> => typeof value === \"object\" && value !== null;\n\nconst getRecord = (value: unknown, key: string): Record<string, unknown> | undefined => {\n  if (!isRecord(value)) return undefined;\n  const nested = value[key];\n  return isRecord(nested) ? nested : undefined;\n};\n\nconst getArray = (value: unknown, key: string): unknown[] | undefined => {\n  if (!isRecord(value)) return undefined;\n  const nested = value[key];\n  return Array.isArray(nested) ? nested : undefined;\n};\n\nconst Admin = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const { toast } = useToast();\n  const { isAdmin, isAuthenticated, isLoading: authLoading } = useAuth();\n  const didInitRef = useRef(false);\n\n  const normalizeCategoryValue = useCallback((raw: unknown): string => {\n    const value = String(raw || '').trim();\n    if (!value) return '';\n    const lower = value.toLowerCase();\n\n    if (lower === 'tshirts' || lower === 't-shirts' || lower === 'tshirts ') return 'T-shirts';\n    if (lower === 't-shirts' || lower === 'tshirts') return 'T-shirts';\n\n    // Keep canonical values used by SelectItem.value\n    if (lower === 'jackets') return 'jackets';\n    if (lower === 'hoodies') return 'hoodies';\n    if (lower === 'pants') return 'pants';\n    if (lower === 'jeans') return 'jeans';\n    if (lower === 'shorts') return 'shorts';\n    if (lower === 'shoes') return 'shoes';\n    if (lower === 'accessories') return 'accessories';\n\n    // If backend already returns the canonical casing, keep it\n    if (value === 'T-shirts') return 'T-shirts';\n\n    return value;\n  }, []);\n\n  useSEO({\n    title: 'Admin',\n    description: 'Admin dashboard for managing marketplace content.',\n    keywords: 'admin, dashboard',\n    type: 'website',\n    noindex: true,\n  });\n  \n  // v1: Single dashboard request for initial admin load\n  const {\n    data: dashboardData,\n    isLoading: _dashboardLoading,\n    refetch: refetchDashboard,\n  } = useAdminDashboardData();\n\n  // Legacy hooks kept for now (mutations and non-dashboard flows may still rely on them)\n  // NOTE: They are not used for the initial lists anymore.\n  const { data: productsData = [] } = useProducts({ enabled: false });\n  const { data: storesData = [] } = useStores({ enabled: false });\n  const { data: brandsData = [] } = useBrands({ enabled: false });\n  \n  // Normalize data (handle different API response formats)\n  const products = useMemo(() => {\n    const body: unknown = dashboardData;\n    const items = getArray(getRecord(body, \"products\"), \"items\");\n    if (items) return items;\n\n    // Fallback (should not be the main path)\n    if (Array.isArray(productsData)) return productsData;\n    if (isRecord(productsData) && productsData.success === true) {\n      const data = productsData.data;\n      return Array.isArray(data) ? data : [];\n    }\n    if (isRecord(productsData) && Array.isArray(productsData.products)) return productsData.products;\n    return [];\n  }, [dashboardData, productsData]);\n  \n  const stores = useMemo(() => {\n    const body: unknown = dashboardData;\n    const items = getArray(getRecord(body, \"stores\"), \"items\");\n    if (items) return items;\n\n    // Fallback\n    if (Array.isArray(storesData)) return storesData;\n    if (isRecord(storesData) && storesData.success === true) {\n      const data = storesData.data;\n      return Array.isArray(data) ? data : [];\n    }\n    return [];\n  }, [dashboardData, storesData]);\n  \n  const brands = useMemo(() => {\n    const body: unknown = dashboardData;\n    const items = getArray(getRecord(body, \"brands\"), \"items\");\n    if (items) return items;\n\n    // Fallback\n    if (Array.isArray(brandsData)) return brandsData;\n\n    if (isRecord(brandsData)) {\n      const data = brandsData.data;\n      if (isRecord(data) && Array.isArray(data.brands)) return data.brands;\n      if (Array.isArray(brandsData.brands)) return brandsData.brands;\n      if (Array.isArray(data)) return data;\n      if (brandsData.success === true && Array.isArray(data)) return data;\n    }\n    return [];\n  }, [dashboardData, brandsData]);\n  \n  // Product form state - always initialize with empty string to avoid controlled/uncontrolled issues\n  const [productName, setProductName] = useState(\"\");\n  const [productCategory, setProductCategory] = useState(\"\");\n  const [productColor, setProductColor] = useState(\"\");\n  const [productGender, setProductGender] = useState(\"\");\n  const [productBrandId, setProductBrandId] = useState(\"\");\n  const [productDescription, setProductDescription] = useState(\"\");\n  const [productImageUrl, setProductImageUrl] = useState(\"\");\n  \n  // Multi-store selection state\n  const [selectedStores, setSelectedStores] = useState<Array<{ store_id: string; store_name: string; price: number }>>([]);\n  const [currentStore, setCurrentStore] = useState(\"\");\n  const [currentStorePrice, setCurrentStorePrice] = useState(\"\");\n  const [storeSearchQuery, setStoreSearchQuery] = useState(\"\");\n  \n  // Editing state (for tracking which product is being edited)\n  const [editingProductId, setEditingProductId] = useState<string | null>(null);\n  \n  // Tab state\n  const [activeTab, setActiveTab] = useState(\"add-product\");\n  \n  // Contacts state\n  const [contactTelegram, setContactTelegram] = useState(\"@wearsearch\");\n  const [contactInstagram, setContactInstagram] = useState(\"@wearsearch\");\n  const [contactTiktok, setContactTiktok] = useState(\"@wearsearch\");\n  const [contactEmail, setContactEmail] = useState(\"support@wearsearch.com\");\n  const [savingContacts, setSavingContacts] = useState(false);\n  \n  // Store form state\n  const [storeName, setStoreName] = useState(\"\");\n  const [storeTelegram, setStoreTelegram] = useState(\"\");\n  const [storeInstagram, setStoreInstagram] = useState(\"\");\n  const [storeTiktok, setStoreTiktok] = useState(\"\");\n  const [storeShipping, setStoreShipping] = useState(\"\");\n  const [storeLogoUrl, setStoreLogoUrl] = useState(\"\");\n  const [storeRecommended, setStoreRecommended] = useState<boolean>(false);\n  const [editingStore, setEditingStore] = useState<Record<string, unknown> | null>(null);\n  \n  const [submitting, setSubmitting] = useState(false);\n  \n  // Predefined colors\n  const COLORS = [\n    \"Black\", \"White\", \"Gray\", \"Beige\", \"Brown\",\n    \"Red\", \"Blue\", \"Navy\", \"Green\", \"Olive\",\n    \"Yellow\", \"Orange\", \"Pink\", \"Purple\", \"Cream\"\n  ];\n\n  const editProduct = useCallback((product: unknown) => {\n    if (!isRecord(product)) return;\n\n    // Load product data into form\n    setProductName(typeof product.name === \"string\" ? product.name : String(product.name ?? \"\"));\n\n    const rawCategory = product.type ?? product.category ?? \"\";\n    const categoryValue = normalizeCategoryValue(rawCategory);\n    setProductCategory(categoryValue);\n    setProductColor(typeof product.color === \"string\" ? product.color : String(product.color ?? \"\"));\n    setProductGender(typeof product.gender === \"string\" ? product.gender : String(product.gender ?? \"\"));\n    setProductBrandId(typeof product.brand_id === \"string\" ? product.brand_id : String(product.brand_id ?? \"\"));\n    setProductDescription(typeof product.description === \"string\" ? product.description : String(product.description ?? \"\"));\n    setProductImageUrl(typeof product.image_url === \"string\" ? product.image_url : String(product.image_url ?? \"\"));\n    \n    // Load stores from product_stores\n    const productStoresRaw = product.product_stores;\n    if (Array.isArray(productStoresRaw) && productStoresRaw.length > 0) {\n      const productStores = productStoresRaw\n        .map((ps: unknown) => {\n          if (!isRecord(ps)) return null;\n\n          const storesObj = isRecord(ps.stores) ? ps.stores : undefined;\n          const storeId = typeof ps.store_id === \"string\" ? ps.store_id : String(ps.store_id ?? \"\");\n          const storeName =\n            (storesObj && typeof storesObj.name === \"string\" ? storesObj.name : undefined) ??\n            (typeof ps.store_name === \"string\" ? ps.store_name : undefined) ??\n            \"Unknown Store\";\n\n          const priceRaw = ps.price ?? (storesObj ? storesObj.price : undefined) ?? 0;\n          const price = typeof priceRaw === \"number\" ? priceRaw : Number(priceRaw || 0);\n\n          if (!storeId) return null;\n          return { store_id: storeId, store_name: storeName, price };\n        })\n        .filter(Boolean) as Array<{ store_id: string; store_name: string; price: number }>;\n\n      setSelectedStores(productStores);\n    } else {\n      setSelectedStores([]);\n    }\n    \n    // Store product ID for update\n    const productIdValue = product.id;\n    const normalizedProductId = typeof productIdValue === \"string\" ? productIdValue : productIdValue != null ? String(productIdValue) : null;\n    if (normalizedProductId) setEditingProductId(normalizedProductId);\n    \n    // Switch to \"Add Product\" tab (which is now dual-purpose)\n    setActiveTab(\"add-product\");\n    \n    // Scroll to form\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  }, [normalizeCategoryValue]);\n\n  const loadProductForEdit = useCallback(async (productId: string) => {\n    try {\n      // Do not fail the whole edit flow if stores endpoint fails.\n      const [productSettled, storesSettled] = await Promise.allSettled([\n        productService.getProductById(productId),\n        productService.getProductStores(productId),\n      ]);\n\n      if (productSettled.status !== 'fulfilled') {\n        throw productSettled.reason;\n      }\n\n      const productResult: unknown = productSettled.value;\n      const productDataCandidate =\n        (isRecord(productResult) ? productResult.item : undefined) ||\n        (getRecord(productResult, \"data\") ? getRecord(productResult, \"data\")!.item : undefined) ||\n        (isRecord(productResult) ? productResult.data : undefined) ||\n        (isRecord(productResult) ? productResult.product : undefined) ||\n        productResult;\n\n      if (!isRecord(productDataCandidate)) return;\n      const productData: Record<string, unknown> = { ...productDataCandidate };\n\n      let rawStores: unknown[] = [];\n      if (storesSettled.status === \"fulfilled\") {\n        const storesValue: unknown = storesSettled.value;\n        rawStores = getArray(storesValue, \"items\") ?? (Array.isArray(storesValue) ? storesValue : []);\n      } else {\n        const fromProduct = productData.product_stores;\n        rawStores = Array.isArray(fromProduct) ? (fromProduct as unknown[]) : [];\n      }\n\n      if (!productData?.id) return;\n\n      const normalizedStores: unknown[] = Array.isArray(rawStores) ? rawStores : [];\n\n      if (normalizedStores.length > 0) {\n        productData.product_stores = normalizedStores\n          .map((store: unknown) => {\n            if (!isRecord(store)) return null;\n\n            const storesObj = (isRecord(store.stores) ? store.stores : undefined) ?? (isRecord(store.store) ? store.store : undefined);\n\n            const storeId =\n              (typeof store.store_id === \"string\" ? store.store_id : undefined) ??\n              (typeof store.id === \"string\" ? store.id : undefined) ??\n              (storesObj && typeof storesObj.id === \"string\" ? storesObj.id : undefined);\n\n            const storeName =\n              (typeof store.store_name === \"string\" ? store.store_name : undefined) ??\n              (typeof store.name === \"string\" ? store.name : undefined) ??\n              (storesObj && typeof storesObj.name === \"string\" ? storesObj.name : undefined);\n\n            const storePrice = store.price ?? store.store_price ?? store.product_price;\n\n            if (!storeId) return null;\n\n            const resolvedStoresObj = storesObj ?? {\n              id: storeId,\n              name: storeName || \"Unknown Store\",\n            };\n\n            return {\n              store_id: storeId,\n              store_name: storeName || (isRecord(resolvedStoresObj) && typeof resolvedStoresObj.name === \"string\" ? resolvedStoresObj.name : undefined) || \"Unknown Store\",\n              price: typeof storePrice === 'number' ? storePrice : Number(storePrice || 0),\n              stores: resolvedStoresObj,\n            };\n          })\n          .filter(Boolean);\n      } else {\n        productData.product_stores = [];\n      }\n\n      editProduct(productData);\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to load product for editing',\n        variant: 'destructive',\n      });\n    }\n  }, [editProduct, toast]);\n\n  // Auth / access guard\n  useEffect(() => {\n    if (authLoading) return;\n\n    if (!isAuthenticated) {\n      navigate('/auth');\n      return;\n    }\n\n    if (!isAdmin) {\n      toast({\n        title: \"Access Denied\",\n        description: \"Admin access required\",\n        variant: \"destructive\",\n      });\n      navigate('/');\n    }\n  }, [authLoading, isAuthenticated, isAdmin, navigate, toast]);\n\n  // One-time admin-only initialization\n  useEffect(() => {\n    if (!isAdmin) return;\n    if (didInitRef.current) return;\n    didInitRef.current = true;\n\n    // Load saved contacts from localStorage\n    const savedContacts = localStorage.getItem('site_contacts');\n    if (savedContacts) {\n      try {\n        const contacts = JSON.parse(savedContacts);\n        if (contacts.telegram) setContactTelegram(contacts.telegram);\n        if (contacts.instagram) setContactInstagram(contacts.instagram);\n        if (contacts.tiktok) setContactTiktok(contacts.tiktok);\n        if (contacts.email) setContactEmail(contacts.email);\n      } catch (_e) {\n        console.error('Failed to load saved contacts');\n      }\n    }\n\n    // Check if we should edit a product from URL\n    const urlParams = new URLSearchParams(window.location.search);\n    const editProductId = urlParams.get('editProduct');\n    if (editProductId) {\n      loadProductForEdit(editProductId);\n    }\n  }, [isAdmin, loadProductForEdit]);\n\n  const addStoreToProduct = () => {\n    if (!currentStore || !currentStorePrice) {\n      toast({\n        title: \"Error\",\n        description: \"Please select a store and enter a price\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const store = stores.find(s => s.name === currentStore);\n    if (!store) {\n      toast({\n        title: \"Error\",\n        description: \"Store not found\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Check if store already added\n    if (selectedStores.some(s => s.store_id === store.id)) {\n      toast({\n        title: \"Error\",\n        description: \"This store is already added\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setSelectedStores([\n      ...selectedStores,\n      {\n        store_id: store.id,\n        store_name: store.name,\n        price: parseFloat(currentStorePrice)\n      }\n    ]);\n\n    // Reset current selection\n    setCurrentStore(\"\");\n    setCurrentStorePrice(\"\");\n  };\n\n  const removeStoreFromProduct = (storeId: string) => {\n    setSelectedStores(selectedStores.filter(s => s.store_id !== storeId));\n  };\n\n  const handleUpdateProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!editingProductId) return;\n\n    if (selectedStores.length === 0) {\n      toast({\n        title: \"Error\",\n        description: \"Please add at least one store\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setSubmitting(true);\n\n    try {\n      const avgPrice = selectedStores.reduce((sum, store) => sum + store.price, 0) / selectedStores.length;\n\n      const updateData = {\n        name: productName,\n        price: avgPrice,\n        type: productCategory,\n        category: productCategory,\n        color: productColor,\n        gender: productGender || null,\n        brand_id: productBrandId || null,\n        description: productDescription || null,\n        image_url: productImageUrl,\n        stores: selectedStores.map(store => ({\n          store_id: store.store_id,\n          price: store.price\n        }))\n      };\n\n      const result: any = await productService.updateProduct(editingProductId, updateData);\n\n      if (result?.success === false) {\n        throw new Error(result.error || 'Failed to update product');\n      }\n\n      {\n        const normalized = result?.data ?? result;\n\n        // Backend may not return stores in response; fall back to selectedStores.\n        const storesCount = normalized?.stores?.length || selectedStores.length;\n        \n        toast({\n          title: \"Success\",\n          description: `Product and ${storesCount} store(s) updated successfully!`,\n        });\n\n        // Reset form\n        setEditingProductId(null);\n        setProductName(\"\");\n        setProductCategory(\"\");\n        setProductColor(\"\");\n        setProductGender(\"\");\n        setProductBrandId(\"\");\n        setProductDescription(\"\");\n        setProductImageUrl(\"\");\n        setSelectedStores([]);\n        setCurrentStore(\"\");\n        setCurrentStorePrice(\"\");\n        refetchDashboard();\n        \n        // Clear URL param\n        window.history.replaceState({}, '', '/admin');\n      }\n    } catch (error: any) {\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: error.message || \"Failed to update product\",\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditingProductId(null);\n    setProductName(\"\");\n    setProductCategory(\"\");\n    setProductColor(\"\");\n    setProductGender(\"\");\n    setProductBrandId(\"\");\n    setProductDescription(\"\");\n    setProductImageUrl(\"\");\n    setSelectedStores([]);\n    setCurrentStore(\"\");\n    setCurrentStorePrice(\"\");\n    window.history.replaceState({}, '', '/admin');\n  };\n\n  const handleCreateProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (selectedStores.length === 0) {\n      toast({\n        title: \"Error\",\n        description: \"Please add at least one store\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setSubmitting(true);\n\n    try {\n      // Calculate average price for the main product record\n      const avgPrice = selectedStores.reduce((sum, store) => sum + store.price, 0) / selectedStores.length;\n\n      const createData = {\n        name: productName,\n        price: avgPrice,\n        type: productCategory,\n        category: productCategory,\n        color: productColor,\n        gender: productGender || null,\n        brand_id: productBrandId || null,\n        description: productDescription || null,\n        image_url: productImageUrl,\n        stores: selectedStores.map(store => ({\n          store_id: store.store_id,\n          price: store.price\n        }))\n      };\n\n      // Try NEW format first: Create ONE product with multiple stores.\n      // NOTE: productService throws on HTTP errors; don't rely on { success: false } envelopes.\n      try {\n        const result: any = await productService.createProduct(createData);\n\n        if (result?.success === false) {\n          throw new Error(result.error || 'Failed to create product');\n        }\n\n        toast({\n          title: \"Success\",\n          description: `Product created and added to ${selectedStores.length} store(s)!`,\n        });\n\n        // Reset form\n        setEditingProductId(null);\n        setProductName(\"\");\n        setProductCategory(\"\");\n        setProductColor(\"\");\n        setProductGender(\"\");\n        setProductBrandId(\"\");\n        setProductDescription(\"\");\n        setProductImageUrl(\"\");\n        setSelectedStores([]);\n        setCurrentStore(\"\");\n        setCurrentStorePrice(\"\");\n        refetchDashboard();\n\n        // Clear URL param if editing\n        window.history.replaceState({}, '', '/admin');\n        return;\n      } catch (err: any) {\n        const message = String(err?.message || '');\n        const looksLikeMultiStoreNotSupported =\n          /stores|store_id|product_stores/i.test(message);\n\n        if (!looksLikeMultiStoreNotSupported) {\n          throw err;\n        }\n\n        console.warn('âš ï¸ Backend doesn\\'t support multi-store format, using fallback...', message);\n\n        // OLD FORMAT: Create separate product for each store\n        const results = await Promise.allSettled(\n          selectedStores.map(async (store) => {\n            const fallbackData = {\n              name: productName,\n              price: store.price,\n              store_price: store.price,\n              type: productCategory,\n              category: productCategory,\n              color: productColor,\n              gender: productGender || null,\n              brand_id: productBrandId || null,\n              description: productDescription || null,\n              image_url: productImageUrl,\n              store_id: store.store_id,\n            };\n            return await productService.createProduct(fallbackData);\n          })\n        );\n\n        const successCount = results.filter((r) => {\n          if (r.status !== 'fulfilled') return false;\n          const value: any = r.value;\n          return value?.success !== false;\n        }).length;\n\n        if (successCount > 0) {\n          toast({\n            title: \"Success\",\n            description: `Product created in ${successCount} store(s) using fallback`,\n          });\n\n          // Reset form\n          setEditingProductId(null);\n          setProductName(\"\");\n          setProductCategory(\"\");\n          setProductColor(\"\");\n          setProductGender(\"\");\n          setProductBrandId(\"\");\n          setProductDescription(\"\");\n          setProductImageUrl(\"\");\n          setSelectedStores([]);\n          setCurrentStore(\"\");\n          setCurrentStorePrice(\"\");\n          refetchDashboard();\n\n          // Clear URL param if editing\n          window.history.replaceState({}, '', '/admin');\n        } else {\n          console.error('âŒ All fallback attempts failed');\n          throw new Error('Failed to create products in any store');\n        }\n      }\n      \n      // Clear URL param if editing\n      window.history.replaceState({}, '', '/admin');\n    } catch (error: any) {\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: error.message || \"Failed to create product\",\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const loadStoreForEdit = (store: any) => {\n    setEditingStore(store);\n    setStoreName(store.name);\n    setStoreTelegram(store.telegram_url || \"\");\n    setStoreInstagram(store.instagram_url || \"\");\n    setStoreTiktok(store.tiktok_url || \"\");\n    setStoreShipping(store.shipping_info || \"\");\n    setStoreLogoUrl(store.logo_url || \"\");\n    setStoreRecommended(store.is_recommended || false);\n    // Scroll to form\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  const cancelStoreEdit = () => {\n    setEditingStore(null);\n    setStoreName(\"\");\n    setStoreTelegram(\"\");\n    setStoreInstagram(\"\");\n    setStoreTiktok(\"\");\n    setStoreShipping(\"\");\n    setStoreLogoUrl(\"\");\n    setStoreRecommended(false);\n  };\n\n  const handleCreateStore = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    try {\n      const payload = {\n        name: storeName,\n        telegram_url: storeTelegram || null,\n        instagram_url: storeInstagram || null,\n        tiktok_url: storeTiktok || null,\n        shipping_info: storeShipping || null,\n        logo_url: storeLogoUrl || null,\n        is_recommended: storeRecommended,\n      };\n\n      const result: any = editingStore\n        ? await storeService.updateStore(editingStore.id, payload)\n        : await storeService.createStore(payload);\n\n      if (result?.success === false) {\n        throw new Error(result.error || `Failed to ${editingStore ? 'update' : 'create'} store`);\n      }\n\n      {\n        toast({\n          title: \"Success\",\n          description: editingStore ? \"Store updated successfully\" : \"Store created successfully\",\n        });\n        // Reset form\n        setEditingStore(null);\n        setStoreName(\"\");\n        setStoreTelegram(\"\");\n        setStoreInstagram(\"\");\n        setStoreTiktok(\"\");\n        setStoreShipping(\"\");\n        setStoreLogoUrl(\"\");\n        setStoreRecommended(false);\n        refetchDashboard();\n      }\n    } catch (error: any) {\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description: error.message || `Failed to ${editingStore ? 'update' : 'create'} store`,\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground font-sans\">\n      <Navigation />\n      \n      {/* Header */}\n      <section className=\"relative pt-28 pb-12 border-b border-border/30\">\n        <div className=\"absolute inset-0 opacity-30 pointer-events-none overflow-hidden\">\n          <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-foreground/5 rounded-full blur-[120px]\" />\n        </div>\n\n        <div className=\"container mx-auto px-6 relative z-10\">\n          <div className=\"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-border/50 bg-card/30 backdrop-blur-sm mb-6\">\n            <ShieldCheck className=\"w-4 h-4\" />\n            <span className=\"text-xs text-foreground tracking-wider uppercase font-medium\">{t('admin.title')}</span>\n          </div>\n          <h1 className=\"font-display text-4xl sm:text-5xl font-bold mb-3\">\n            {t('admin.dashboard')}\n          </h1>\n          <p className=\"text-lg text-muted-foreground\">\n            {t('admin.manageProducts')}, {t('admin.manageStores')}, and marketplace content\n          </p>\n        </div>\n      </section>\n\n      {/* Admin Tabs */}\n      <section className=\"py-6 md:py-12 overflow-visible\">\n        <div className=\"container mx-auto px-4 md:px-6 overflow-visible\">\n          <Tabs defaultValue=\"add-product\" className=\"max-w-6xl mx-auto overflow-visible\" value={activeTab} onValueChange={setActiveTab}>\n            <TabsList className=\"flex w-full overflow-x-auto md:grid md:grid-cols-5 bg-card/40 border border-border/50 backdrop-blur-sm mb-4 md:mb-8 p-1 rounded-xl gap-1\">\n              <TabsTrigger \n                value=\"add-product\"\n                className=\"flex-shrink-0 data-[state=active]:bg-foreground data-[state=active]:text-background rounded-lg transition-all text-xs md:text-sm px-3 py-2.5 min-h-[44px]\"\n              >\n                <Plus className=\"w-4 h-4 md:mr-2\" />\n                <span className=\"hidden md:inline ml-1\">{t('admin.addProduct')}</span>\n                <span className=\"md:hidden ml-1\">{t('admin.add')}</span>\n              </TabsTrigger>\n              <TabsTrigger \n                value=\"manage-products\"\n                className=\"flex-shrink-0 data-[state=active]:bg-foreground data-[state=active]:text-background rounded-lg transition-all text-xs md:text-sm px-3 py-2.5 min-h-[44px]\"\n              >\n                <Package className=\"w-4 h-4 md:mr-2\" />\n                <span className=\"hidden md:inline ml-1\">{t('common.products')} ({products.length})</span>\n                <span className=\"md:hidden ml-1\">{t('admin.list')}</span>\n              </TabsTrigger>\n              <TabsTrigger \n                value=\"stores\"\n                className=\"flex-shrink-0 data-[state=active]:bg-foreground data-[state=active]:text-background rounded-lg transition-all text-xs md:text-sm px-3 py-2.5 min-h-[44px]\"\n              >\n                <Store className=\"w-4 h-4 md:mr-2\" />\n                <span className=\"hidden md:inline ml-1\">{t('admin.stores')}</span>\n                <span className=\"md:hidden ml-1\">{t('admin.stores')}</span>\n              </TabsTrigger>\n              <TabsTrigger \n                value=\"brands\"\n                className=\"flex-shrink-0 data-[state=active]:bg-foreground data-[state=active]:text-background rounded-lg transition-all text-xs md:text-sm px-3 py-2.5 min-h-[44px]\"\n              >\n                <Package className=\"w-4 h-4 md:mr-2\" />\n                <span className=\"hidden md:inline ml-1\">{t('admin.brands')}</span>\n                <span className=\"md:hidden ml-1\">{t('admin.brands')}</span>\n              </TabsTrigger>\n              <TabsTrigger \n                value=\"contacts\"\n                className=\"flex-shrink-0 data-[state=active]:bg-foreground data-[state=active]:text-background rounded-lg transition-all text-xs md:text-sm px-3 py-2.5 min-h-[44px]\"\n              >\n                <Package className=\"w-4 h-4 md:mr-2\" />\n                <span className=\"hidden md:inline ml-1\">{t('admin.contacts')}</span>\n                <span className=\"md:hidden ml-1\">{t('admin.contact')}</span>\n              </TabsTrigger>\n            </TabsList>\n\n            {/* ADD/EDIT PRODUCT TAB */}\n            <TabsContent value=\"add-product\" className=\"space-y-4 md:space-y-8\">\n              {/* Add/Edit Product Form */}\n              <div className=\"p-4 md:p-8 rounded-xl md:rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm overflow-visible\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h2 className=\"font-display text-lg md:text-2xl font-bold flex items-center gap-2\">\n                    {editingProductId ? <Edit className=\"w-4 h-4 md:w-6 md:h-6\" /> : <Plus className=\"w-4 h-4 md:w-6 md:h-6\" />}\n                    {editingProductId ? 'Edit Product' : 'Add New Product'}\n                </h2>\n                  {editingProductId && (\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      onClick={cancelEdit}\n                      className=\"text-muted-foreground hover:text-foreground\"\n                    >\n                      Cancel Edit\n                    </Button>\n                  )}\n                </div>\n                <p className=\"text-muted-foreground mb-6\">\n                  {editingProductId ? 'Update product information and prices' : 'Create a new product with multiple stores and prices'}\n                </p>\n\n                <form onSubmit={editingProductId ? handleUpdateProduct : handleCreateProduct} className=\"space-y-6 overflow-visible\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 overflow-visible\">\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.productName')}</Label>\n                      <Input\n                        value={productName}\n                        onChange={(e) => setProductName(e.target.value)}\n                        placeholder={t('admin.productNamePlaceholder')}\n                        required\n                        className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Category *</Label>\n                      <Combobox\n                        value={productCategory}\n                        onValueChange={setProductCategory}\n                        placeholder={t('admin.categoryPlaceholder')}\n                        searchPlaceholder=\"Search category...\"\n                        items={[\n                          { value: 'jackets', label: getCategoryTranslation('jackets') },\n                          { value: 'hoodies', label: getCategoryTranslation('hoodies') },\n                          { value: 'T-shirts', label: getCategoryTranslation('T-shirts') },\n                          { value: 'pants', label: getCategoryTranslation('pants') },\n                          { value: 'jeans', label: getCategoryTranslation('jeans') },\n                          { value: 'shorts', label: getCategoryTranslation('shorts') },\n                          { value: 'shoes', label: getCategoryTranslation('shoes') },\n                          { value: 'accessories', label: getCategoryTranslation('accessories') },\n                        ]}\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.color')}</Label>\n                      <Combobox\n                        value={productColor}\n                        onValueChange={setProductColor}\n                        placeholder={t('admin.colorPlaceholder')}\n                        searchPlaceholder=\"Search color...\"\n                        items={COLORS.map(color => ({ value: color, label: color }))}\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>{t('admin.gender')}</Label>\n                      <Combobox\n                        value={productGender}\n                        onValueChange={setProductGender}\n                        placeholder={t('admin.genderPlaceholder')}\n                        searchPlaceholder=\"Search gender...\"\n                        items={[\n                          { value: 'men', label: t('admin.men') },\n                          { value: 'women', label: t('admin.women') },\n                          { value: 'unisex', label: t('admin.unisex') },\n                        ]}\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Brand (Optional)</Label>\n                      <Combobox\n                        value={productBrandId || \"none\"}\n                        onValueChange={(value) => setProductBrandId(value === \"none\" ? \"\" : value)}\n                        placeholder={t('admin.brandPlaceholder')}\n                        searchPlaceholder=\"Search brand...\"\n                        items={[\n                          { value: 'none', label: 'No Brand' },\n                          ...brands.map(brand => ({ value: brand.id, label: brand.name })),\n                        ]}\n                      />\n                    </div>\n\n                  </div>\n\n                  {/* Store Selection Section */}\n                  <div className=\"space-y-4 p-6 rounded-xl border border-border/50 bg-card/20 overflow-visible\">\n                    <Label className=\"text-lg font-semibold\">{t('admin.addStorePrice')}</Label>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {t('admin.manageStores')}\n                    </p>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                      <div className=\"md:col-span-2 space-y-2\">\n                        <Label>{t('admin.storeName')}</Label>\n                        <Combobox\n                          value={currentStore}\n                          onValueChange={(value) => {\n                            setCurrentStore(value);\n                            setStoreSearchQuery(\"\");\n                          }}\n                          placeholder={t('admin.storeNamePlaceholder')}\n                          searchPlaceholder={t('admin.searchStores')}\n                          searchValue={storeSearchQuery}\n                          onSearchChange={setStoreSearchQuery}\n                          items={stores\n                            .filter(store => !selectedStores.some(s => s.store_id === store.id))\n                            .map(store => ({ value: store.name, label: store.name }))}\n                          emptyMessage=\"No stores found\"\n                          className=\"pl-10\"\n                        />\n                        <Search className=\"absolute left-3 top-10 w-4 h-4 text-muted-foreground pointer-events-none\" />\n                      </div>\n\n                      <div className=\"space-y-2\">\n                        <Label>{t('admin.price')} ($)</Label>\n                        <Input\n                          type=\"number\"\n                          step=\"0.01\"\n                          value={currentStorePrice}\n                          onChange={(e) => setCurrentStorePrice(e.target.value)}\n                          placeholder={t('admin.pricePlaceholder')}\n                          className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                        />\n                      </div>\n                    </div>\n\n                    <Button\n                      type=\"button\"\n                      onClick={addStoreToProduct}\n                      className=\"w-full md:w-auto bg-primary hover:bg-primary/90 text-primary-foreground\"\n                      disabled={!currentStore || !currentStorePrice}\n                    >\n                      <Plus className=\"w-4 h-4 mr-2\" />\n                      {t('admin.addStore')}\n                    </Button>\n\n                    {/* List of added stores */}\n                    {selectedStores.length > 0 && (\n                      <div className=\"space-y-2 mt-4\">\n                        <Label className=\"text-sm text-muted-foreground\">Added Stores ({selectedStores.length})</Label>\n                        <div className=\"space-y-2\">\n                          {selectedStores.map((store) => (\n                            <div\n                              key={store.store_id}\n                              className=\"flex items-center justify-between p-3 rounded-lg bg-card/40 border border-border/50\"\n                            >\n                              <div className=\"flex items-center gap-3\">\n                                <Store className=\"w-4 h-4 text-primary\" />\n                                <div>\n                                  <p className=\"font-medium\">{store.store_name}</p>\n                                  <p className=\"text-sm text-muted-foreground\">${store.price}</p>\n                                </div>\n                              </div>\n                              <Button\n                                type=\"button\"\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                onClick={() => removeStoreFromProduct(store.store_id)}\n                                className=\"text-destructive hover:text-destructive hover:bg-destructive/10\"\n                              >\n                                <Trash2 className=\"w-4 h-4\" />\n                              </Button>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label>Description</Label>\n                    <Textarea\n                      value={productDescription}\n                      onChange={(e) => setProductDescription(e.target.value)}\n                      placeholder=\"Detailed product description...\"\n                      className=\"min-h-24 bg-card/50 border-border/50 rounded-lg\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <ImageUploader\n                      onImageUpload={setProductImageUrl}\n                      currentImage={productImageUrl}\n                      label=\"Product Image\"\n                    />\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <Label>Or paste Image URL directly</Label>\n                    <Input\n                      placeholder=\"https://example.com/image.jpg\"\n                      value={productImageUrl}\n                      onChange={(e) => setProductImageUrl(e.target.value)}\n                      className=\"bg-card/50 border-border/50 rounded-lg\"\n                    />\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    disabled={submitting}\n                    className=\"w-full h-12 bg-foreground text-background hover:bg-foreground/90 hover:shadow-[0_0_30px_rgba(255,255,255,0.3)] rounded-lg font-medium transition-all\"\n                  >\n                    {submitting \n                      ? (editingProductId ? 'Updating Product...' : 'Creating Product...') \n                      : (editingProductId ? 'Update Product' : 'Create Product')\n                    }\n                  </Button>\n                </form>\n              </div>\n\n            </TabsContent>\n\n            {/* MANAGE PRODUCTS TAB - List with search and multi-select delete */}\n            <TabsContent value=\"manage-products\" className=\"space-y-6\">\n              <div className=\"p-8 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm\">\n                <div className=\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-6\">\n                  <div>\n                    <h3 className=\"font-display text-2xl font-bold mb-2\">All Products</h3>\n                    <p className=\"text-muted-foreground\">{products.length} total products</p>\n                  </div>\n                  <div className=\"flex gap-3 w-full md:w-auto\">\n                    <div className=\"relative flex-1 md:w-64\">\n                      <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                      <Input\n                        placeholder=\"Search products...\"\n                        className=\"pl-10 bg-card/50 border-border/50\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                \n                {products.length > 0 ? (\n                  <div className=\"space-y-3\">\n                    {products.map((product) => (\n                      <div\n                        key={product.id}\n                        className=\"group flex items-center gap-4 p-4 rounded-xl border border-border/50 bg-card/20 hover:bg-card/40 hover:border-foreground/30 transition-all\"\n                      >\n                        {product.image_url && (\n                          <div className=\"w-20 h-24 rounded-lg overflow-hidden bg-muted/30 flex-shrink-0 border border-border/50\">\n                            <img\n                              src={product.image_url}\n                              alt={product.name}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                        )}\n                        <div className=\"flex-1 min-w-0\">\n                          <h4 className=\"font-semibold text-lg mb-1\">{product.name}</h4>\n                          <div className=\"flex flex-wrap gap-2 text-sm text-muted-foreground\">\n                            <span className=\"px-2 py-0.5 rounded bg-foreground/10\">${product.price}</span>\n                            <span className=\"px-2 py-0.5 rounded bg-foreground/10\">{getCategoryTranslation(product.type || product.category)}</span>\n                            <span className=\"px-2 py-0.5 rounded bg-foreground/10\">{getColorTranslation(product.color)}</span>\n                            {product.brand && <span className=\"px-2 py-0.5 rounded bg-foreground/10\">{product.brand}</span>}\n                          </div>\n                        </div>\n                        <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"hover:bg-foreground/10 border-border/50\"\n                            onClick={() => {\n                              // Fetch fresh product data with stores\n                              loadProductForEdit(product.id);\n                              // Switch to add-product tab\n                              setActiveTab(\"add-product\");\n                            }}\n                          >\n                            <Edit className=\"w-4 h-4 mr-2\" />\n                            Edit\n                          </Button>\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            className=\"hover:bg-red-500/20 hover:text-red-400 border-border/50\"\n                            onClick={async () => {\n                              if (window.confirm(`Delete \"${product.name}\"?`)) {\n                                try {\n                                  await productService.deleteProduct(product.id);\n                                  toast({\n                                    title: \"Success\",\n                                    description: \"Product deleted\",\n                                  });\n                                  refetchDashboard();\n                                } catch (error: any) {\n                                  toast({\n                                    variant: \"destructive\",\n                                    title: \"Error\",\n                                    description: error.message || \"Failed to delete\",\n                                  });\n                                }\n                              }\n                            }}\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-20 border border-dashed border-border/50 rounded-xl\">\n                    <Package className=\"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50\" />\n                    <p className=\"text-muted-foreground text-lg mb-2\">No products yet</p>\n                    <p className=\"text-sm text-muted-foreground\">Create your first product in the Add Product tab</p>\n                  </div>\n                )}\n              </div>\n            </TabsContent>\n\n            {/* Stores Tab */}\n            <TabsContent value=\"stores\" className=\"space-y-8\">\n              {/* Create/Edit Store Form */}\n              <div className=\"p-8 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h2 className=\"font-display text-2xl font-bold flex items-center gap-2\">\n                    {editingStore ? <Edit className=\"w-6 h-6\" /> : <Plus className=\"w-6 h-6\" />}\n                    {editingStore ? 'Edit Store' : 'Add New Store'}\n                </h2>\n                  {editingStore && (\n                    <Button\n                      type=\"button\"\n                      variant=\"ghost\"\n                      onClick={cancelStoreEdit}\n                      className=\"text-muted-foreground hover:text-foreground\"\n                    >\n                      Cancel Edit\n                    </Button>\n                  )}\n                </div>\n\n                <form onSubmit={handleCreateStore} className=\"space-y-6\">\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    <div className=\"space-y-2\">\n                      <Label>Store Name</Label>\n                      <Input\n                        value={storeName}\n                        onChange={(e) => setStoreName(e.target.value)}\n                        placeholder=\"Atlas Studio\"\n                        required\n                        className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Telegram URL</Label>\n                      <Input\n                        value={storeTelegram}\n                        onChange={(e) => setStoreTelegram(e.target.value)}\n                        placeholder=\"https://t.me/storename\"\n                        className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Instagram URL</Label>\n                      <Input\n                        value={storeInstagram}\n                        onChange={(e) => setStoreInstagram(e.target.value)}\n                        placeholder=\"https://instagram.com/storename\"\n                        className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>TikTok URL</Label>\n                      <Input\n                        value={storeTiktok}\n                        onChange={(e) => setStoreTiktok(e.target.value)}\n                        placeholder=\"https://tiktok.com/@storename\"\n                        className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                      />\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Shipping Info</Label>\n                      <Input\n                        value={storeShipping}\n                        onChange={(e) => setStoreShipping(e.target.value)}\n                        placeholder=\"Worldwide shipping\"\n                        className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                      />\n                    </div>\n                    \n                    {/* Store Logo Field */}\n                    <div className=\"space-y-2 md:col-span-2\">\n                      <Label>Store Logo (Optional)</Label>\n                      <ImageUploader\n                        onImageUpload={(url) => setStoreLogoUrl(url)}\n                        currentImage={storeLogoUrl}\n                        label=\"\"\n                      />\n                      <Input\n                        value={storeLogoUrl}\n                        onChange={(e) => setStoreLogoUrl(e.target.value)}\n                        placeholder=\"Or paste image URL\"\n                        className=\"h-12 bg-card/50 border-border/50 rounded-lg mt-2\"\n                      />\n                    </div>\n\n                    {/* Recommended Checkbox */}\n                    <div className=\"space-y-2 md:col-span-2\">\n                      <div className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id=\"recommended\"\n                          checked={storeRecommended}\n                          onCheckedChange={(checked) => setStoreRecommended(checked as boolean)}\n                          className=\"border-foreground/20 data-[state=checked]:bg-purple-500 data-[state=checked]:text-white\"\n                        />\n                        <Label htmlFor=\"recommended\" className=\"cursor-pointer\">\n                          â­ Recommended Store (Featured)\n                        </Label>\n                      </div>\n                      <p className=\"text-sm text-muted-foreground ml-6\">\n                        Mark this store as recommended/verified to feature it prominently on the platform\n                      </p>\n                    </div>\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    disabled={submitting}\n                    className=\"w-full h-12 bg-foreground text-background hover:bg-foreground/90 hover:shadow-[0_0_30px_rgba(255,255,255,0.3)] rounded-lg font-medium transition-all\"\n                  >\n                    {submitting ? (editingStore ? 'Updating...' : 'Creating...') : (editingStore ? 'Update Store' : 'Create Store')}\n                  </Button>\n                </form>\n              </div>\n\n              {/* Stores List */}\n              <div className=\"p-8 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h3 className=\"font-display text-xl font-bold\">\n                    All Stores ({stores.length})\n                  </h3>\n                  <div className=\"relative w-64\">\n                    <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n                    <Input\n                      placeholder=\"Search stores...\"\n                      value={storeSearchQuery}\n                      onChange={(e) => setStoreSearchQuery(e.target.value)}\n                      className=\"h-10 pl-10 bg-card/50 border-border/50 rounded-lg\"\n                    />\n                  </div>\n                </div>\n                \n                {stores.filter(store => \n                  store.name.toLowerCase().includes(storeSearchQuery.toLowerCase())\n                ).length > 0 ? (\n                  <div className=\"space-y-4\">\n                    {stores.filter(store => \n                      store.name.toLowerCase().includes(storeSearchQuery.toLowerCase())\n                    ).map((store) => (\n                      <div\n                        key={store.id}\n                        className=\"flex items-center gap-4 p-4 rounded-lg border border-border/50 bg-card/20 hover:bg-card/40 transition-colors\"\n                      >\n                        <div className=\"flex-1 min-w-0\">\n                          <h4 className=\"font-semibold\">{store.name}</h4>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {store.shipping_info || 'No shipping info'}\n                          </p>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"hover:bg-white/10 hover:text-white border border-white/20\"\n                            onClick={() => loadStoreForEdit(store)}\n                          >\n                            <Edit className=\"w-4 h-4\" />\n                          </Button>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"hover:bg-red-500/20 hover:text-red-400 border border-white/20\"\n                            onClick={async () => {\n                              if (window.confirm(`Delete \"${store.name}\"?`)) {\n                                try {\n                                  await storeService.deleteStore(store.id);\n                                  toast({\n                                    title: \"Success\",\n                                    description: \"Store deleted successfully\",\n                                  });\n                                  refetchDashboard();\n                                } catch (error: any) {\n                                  toast({\n                                    variant: \"destructive\",\n                                    title: \"Error\",\n                                    description: error.message || \"Failed to delete store\",\n                                  });\n                                }\n                              }\n                            }}\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </Button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-12 text-muted-foreground\">\n                    No stores yet\n                  </div>\n                )}\n              </div>\n            </TabsContent>\n\n            {/* BRANDS TAB - Manage brands */}\n            <TabsContent value=\"brands\" className=\"space-y-8\">\n              {/* Create Brand Form */}\n              <div className=\"p-8 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm\">\n                <h2 className=\"font-display text-2xl font-bold mb-6 flex items-center gap-2\">\n                  <Plus className=\"w-6 h-6\" />\n                  Add New Brand\n                </h2>\n\n                <form onSubmit={async (e) => {\n                  e.preventDefault();\n                  const form = e.target as HTMLFormElement;\n                  const brandName = (form.elements.namedItem('brandName') as HTMLInputElement).value;\n                  \n                  if (!brandName.trim()) {\n                    toast({\n                      variant: \"destructive\",\n                      title: \"Error\",\n                      description: \"Brand name is required\",\n                    });\n                    return;\n                  }\n\n                  try {\n                    await brandsApi.create({ name: brandName });\n\n                    toast({\n                      title: \"Success\",\n                      description: \"Brand created successfully\",\n                    });\n                    refetchDashboard();\n                    (form.elements.namedItem('brandName') as HTMLInputElement).value = '';\n                  } catch (error: any) {\n                    toast({\n                      variant: \"destructive\",\n                      title: \"Error\",\n                      description: error.message || \"Failed to create brand\",\n                    });\n                  }\n                }} className=\"space-y-6\">\n                  <div className=\"space-y-2\">\n                    <Label>Brand Name</Label>\n                    <Input\n                      name=\"brandName\"\n                      placeholder=\"Nike, Adidas, Supreme...\"\n                      required\n                      className=\"h-12 bg-card/50 border-border/50 rounded-lg\"\n                    />\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    className=\"w-full h-12 bg-foreground text-background hover:bg-foreground/90 hover:shadow-[0_0_30px_rgba(255,255,255,0.3)] rounded-lg font-medium transition-all\"\n                  >\n                    Create Brand\n                  </Button>\n                </form>\n              </div>\n\n              {/* Brands List */}\n              <div className=\"p-8 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm\">\n                <h3 className=\"font-display text-xl font-bold mb-6\">\n                  All Brands ({brands.length})\n                </h3>\n                \n                {brands.length > 0 ? (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {brands.map((brand) => (\n                      <div\n                        key={brand.id}\n                        className=\"flex items-center justify-between p-4 rounded-lg border border-border/50 bg-card/20 hover:bg-card/40 transition-colors\"\n                      >\n                        <div className=\"flex-1 min-w-0\">\n                          <h4 className=\"font-semibold truncate\">{brand.name}</h4>\n                          <p className=\"text-xs text-muted-foreground\">ID: {brand.id}</p>\n                        </div>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"hover:bg-red-500/20 hover:text-red-400 border border-white/20 ml-2\"\n                          onClick={async () => {\n                            if (window.confirm(`Delete brand \"${brand.name}\"?`)) {\n                              try {\n                                await brandsApi.delete(brand.id);\n\n                                toast({\n                                  title: \"Success\",\n                                  description: \"Brand deleted successfully\",\n                                });\n                                refetchDashboard();\n                              } catch (error: any) {\n                                toast({\n                                  variant: \"destructive\",\n                                  title: \"Error\",\n                                  description: error.message || \"Failed to delete brand\",\n                                });\n                              }\n                            }\n                          }}\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-12 text-muted-foreground\">\n                    No brands yet\n                  </div>\n                )}\n              </div>\n            </TabsContent>\n\n            {/* CONTACTS TAB */}\n            <TabsContent value=\"contacts\" className=\"space-y-6\">\n              <div className=\"p-8 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm\">\n                <div className=\"flex items-center gap-3 mb-6\">\n                  <div className=\"w-10 h-10 rounded-lg bg-foreground/5 flex items-center justify-center\">\n                    <Package className=\"w-5 h-5\" />\n                  </div>\n                  <div>\n                    <h2 className=\"text-xl font-bold\">Contact Information</h2>\n                    <p className=\"text-sm text-muted-foreground\">Manage site contact details displayed in the Contacts dialog</p>\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"contact-telegram\">Telegram Username</Label>\n                    <Input\n                      id=\"contact-telegram\"\n                      type=\"text\"\n                      placeholder=\"@wearsearch\"\n                      value={contactTelegram}\n                      onChange={(e) => setContactTelegram(e.target.value)}\n                      className=\"mt-1.5\"\n                    />\n                    <p className=\"text-xs text-muted-foreground mt-1\">Include the @ symbol</p>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"contact-instagram\">Instagram Username</Label>\n                    <Input\n                      id=\"contact-instagram\"\n                      type=\"text\"\n                      placeholder=\"@wearsearch\"\n                      value={contactInstagram}\n                      onChange={(e) => setContactInstagram(e.target.value)}\n                      className=\"mt-1.5\"\n                    />\n                    <p className=\"text-xs text-muted-foreground mt-1\">Include the @ symbol</p>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"contact-tiktok\">TikTok Username</Label>\n                    <Input\n                      id=\"contact-tiktok\"\n                      type=\"text\"\n                      placeholder=\"@wearsearch\"\n                      value={contactTiktok}\n                      onChange={(e) => setContactTiktok(e.target.value)}\n                      className=\"mt-1.5\"\n                    />\n                    <p className=\"text-xs text-muted-foreground mt-1\">Include the @ symbol</p>\n                  </div>\n\n                  <div>\n                    <Label htmlFor=\"contact-email\">Support Email</Label>\n                    <Input\n                      id=\"contact-email\"\n                      type=\"email\"\n                      placeholder=\"support@wearsearch.com\"\n                      value={contactEmail}\n                      onChange={(e) => setContactEmail(e.target.value)}\n                      className=\"mt-1.5\"\n                    />\n                  </div>\n\n                  <Button\n                    onClick={() => {\n                      setSavingContacts(true);\n                      // Save to localStorage for now (later can be saved to backend)\n                      localStorage.setItem('site_contacts', JSON.stringify({\n                        telegram: contactTelegram,\n                        instagram: contactInstagram,\n                        tiktok: contactTiktok,\n                        email: contactEmail\n                      }));\n                      setTimeout(() => {\n                        setSavingContacts(false);\n                        toast({\n                          title: \"Success\",\n                          description: \"Contact information saved successfully\",\n                        });\n                      }, 500);\n                    }}\n                    disabled={savingContacts}\n                    className=\"w-full\"\n                  >\n                    {savingContacts ? \"Saving...\" : \"Save Contact Information\"}\n                  </Button>\n                </div>\n\n                <div className=\"mt-6 p-4 rounded-lg bg-foreground/5 border border-foreground/10\">\n                  <p className=\"text-xs text-muted-foreground\">\n                    ðŸ’¡ <strong>Note:</strong> These contact details will be displayed in the Contacts dialog \n                    accessible from the main navigation menu.\n                  </p>\n                </div>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Admin;\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\AdminBrands.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The ref value 'debounceTimerRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'debounceTimerRef.current' to a variable inside the effect, and use that variable in the cleanup function.","line":74,"column":39,"nodeType":"Identifier","endLine":74,"endColumn":46}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback, useRef, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport { Plus, Edit, Trash2, Search, Tag, ArrowLeft } from \"lucide-react\";\nimport { ImageUploader } from \"@/components/ImageUploader\";\nimport { useBrands, useCreateBrand, useUpdateBrand, useDeleteBrand } from \"@/hooks/useApi\";\nimport { useSEO } from \"@/hooks/useSEO\";\n\ninterface Brand {\n  id: string;\n  name: string;\n  logo_url?: string;\n  description?: string;\n  website_url?: string;\n  created_at: string;\n  product_count?: number;\n}\n\nconst AdminBrands = () => {\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  useSEO({\n    title: 'Admin â€¢ Brands',\n    description: 'Admin panel for managing brands.',\n    keywords: 'admin, brands',\n    type: 'website',\n  });\n  \n  // Use React Query hook - single source of truth\n  const { data: brandsData = [], isLoading, refetch: refetchBrands } = useBrands();\n\n  const createBrandMutation = useCreateBrand();\n  const updateBrandMutation = useUpdateBrand();\n  const deleteBrandMutation = useDeleteBrand();\n  \n  const allBrands = useMemo(() => (Array.isArray(brandsData) ? brandsData : []), [brandsData]);\n  \n  // UI state\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingBrand, setEditingBrand] = useState<Brand | null>(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  // Form state\n  const [formData, setFormData] = useState({\n    name: \"\",\n    logo_url: \"\",\n    description: \"\",\n    website_url: \"\",\n  });\n\n  // Debounce timer ref for search\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\n  \n  // Filter brands locally based on search query\n  const brands = useMemo(() => {\n    if (!searchQuery.trim()) return allBrands;\n    const query = searchQuery.toLowerCase();\n    return allBrands.filter((brand: Brand) => \n      brand.name?.toLowerCase().includes(query) ||\n      brand.description?.toLowerCase().includes(query)\n    );\n  }, [allBrands, searchQuery]);\n\n  useEffect(() => {\n    return () => {\n      if (debounceTimerRef.current) {\n        clearTimeout(debounceTimerRef.current);\n      }\n    };\n  }, []);\n\n  const checkAdmin = useCallback(async () => {\n    const token = localStorage.getItem('access_token');\n    if (!token) {\n      navigate('/auth');\n      return;\n    }\n\n    const cachedUser = localStorage.getItem('user');\n    if (cachedUser) {\n      try {\n        const userData = JSON.parse(cachedUser);\n        if (userData.role !== 'admin') {\n          toast({\n            title: \"Access Denied\",\n            description: \"Admin access required\",\n            variant: \"destructive\",\n          });\n          navigate('/');\n        }\n      } catch (_e) {\n        navigate('/auth');\n      }\n    }\n  }, [navigate, toast]);\n\n  // Check admin access\n  useEffect(() => {\n    checkAdmin();\n  }, [checkAdmin]);\n\n  // Create brand\n  const handleCreateBrand = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim()) {\n      toast({\n        title: \"Error\",\n        description: \"Brand name is required\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      await createBrandMutation.mutateAsync(formData);\n      toast({\n        title: \"Success\",\n        description: \"Brand created successfully!\",\n      });\n      setIsModalOpen(false);\n      refetchBrands();\n      resetForm();\n    } catch (error: unknown) {\n      toast({\n        title: \"Error\",\n        description: getErrorMessage(error, \"Failed to create brand\"),\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  // Update brand\n  const handleUpdateBrand = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!editingBrand) return;\n\n    try {\n      await updateBrandMutation.mutateAsync({ id: editingBrand.id, data: formData });\n      toast({\n        title: \"Success\",\n        description: \"Brand updated successfully!\",\n      });\n      setIsModalOpen(false);\n      refetchBrands();\n      resetForm();\n    } catch (error: unknown) {\n      toast({\n        title: \"Error\",\n        description: getErrorMessage(error, \"Failed to update brand\"),\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  // Delete brand\n  const handleDeleteBrand = async (brandId: string, brandName: string) => {\n    if (!confirm(`Are you sure you want to delete \"${brandName}\"? This cannot be undone.`)) return;\n\n    try {\n      await deleteBrandMutation.mutateAsync(brandId);\n      toast({\n        title: \"Success\",\n        description: \"Brand deleted successfully!\",\n      });\n      refetchBrands();\n    } catch (error: unknown) {\n      toast({\n        title: \"Error\",\n        description: getErrorMessage(error, \"Failed to delete brand. It may have products linked to it.\"),\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({ name: \"\", logo_url: \"\", description: \"\", website_url: \"\" });\n    setEditingBrand(null);\n  };\n\n  const openCreateModal = () => {\n    resetForm();\n    setIsModalOpen(true);\n  };\n\n  const openEditModal = (brand: Brand) => {\n    setEditingBrand(brand);\n    setFormData({\n      name: brand.name,\n      logo_url: brand.logo_url || \"\",\n      description: brand.description || \"\",\n      website_url: brand.website_url || \"\",\n    });\n    setIsModalOpen(true);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground font-sans\">\n      <Navigation />\n      \n      {/* Header */}\n      <section className=\"relative py-20 border-b border-border/50 overflow-hidden\">\n        <div className=\"absolute inset-0 opacity-30 pointer-events-none\">\n          <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-foreground/5 rounded-full blur-[120px]\" />\n        </div>\n\n        <div className=\"container mx-auto px-6 relative z-10\">\n          <Button \n            variant=\"ghost\" \n            onClick={() => navigate('/admin')} \n            className=\"mb-6 text-muted-foreground hover:text-foreground\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Admin\n          </Button>\n          \n          <div className=\"flex items-center gap-3 mb-6\">\n            <Tag className=\"w-8 h-8\" />\n            <span className=\"text-sm text-muted-foreground uppercase tracking-[0.2em]\">Admin Panel</span>\n          </div>\n          <h1 className=\"font-display text-5xl md:text-6xl font-bold mb-3\">\n            <span className=\"text-gradient\">Brands Management</span>\n          </h1>\n          <p className=\"text-lg text-muted-foreground\">\n            Manage all brands in your marketplace\n          </p>\n        </div>\n      </section>\n\n      {/* Main Content */}\n      <section className=\"py-12\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"max-w-7xl mx-auto\">\n            {/* Actions Bar */}\n            <div className=\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-8\">\n              <div className=\"relative flex-1 max-w-md\">\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search brands...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"pl-10 bg-card/50 border-border/50\"\n                />\n              </div>\n              <Button \n                onClick={openCreateModal}\n                className=\"bg-foreground text-background hover:bg-foreground/90 hover:shadow-[0_0_30px_rgba(255,255,255,0.3)]\"\n              >\n                <Plus className=\"w-4 h-4 mr-2\" />\n                Add Brand\n              </Button>\n            </div>\n\n            {/* Brands Grid */}\n            {isLoading ? (\n              <div className=\"flex items-center justify-center py-20\">\n                <div className=\"animate-spin w-8 h-8 border-2 border-foreground border-t-transparent rounded-full\"></div>\n              </div>\n            ) : (\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                {brands.length > 0 ? (\n                  brands.map((brand) => (\n                    <div \n                      key={brand.id} \n                      className=\"group p-6 rounded-2xl border border-border/50 bg-card/40 backdrop-blur-sm hover:bg-card/60 hover:border-foreground/30 transition-all\"\n                    >\n                      {brand.logo_url && (\n                        <div className=\"w-full h-32 mb-4 rounded-lg overflow-hidden bg-muted/20 flex items-center justify-center border border-border/50\">\n                          <img \n                            src={brand.logo_url} \n                            alt={brand.name}\n                            className=\"max-w-full max-h-full object-contain p-2\"\n                          />\n                        </div>\n                      )}\n                      <h3 className=\"text-xl font-bold mb-2\">{brand.name}</h3>\n                      {brand.description && (\n                        <p className=\"text-sm text-muted-foreground mb-3 line-clamp-2\">\n                          {brand.description}\n                        </p>\n                      )}\n                      {brand.website_url && (\n                        <a \n                          href={brand.website_url} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\"\n                          className=\"text-sm text-primary hover:underline mb-3 block\"\n                        >\n                          Visit Website â†’\n                        </a>\n                      )}\n                      {brand.product_count !== undefined && (\n                        <p className=\"text-xs text-muted-foreground mb-4\">\n                          {brand.product_count} product{brand.product_count !== 1 ? 's' : ''}\n                        </p>\n                      )}\n                      <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <Button \n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => openEditModal(brand)}\n                          className=\"flex-1 border-border/50 hover:bg-foreground/10\"\n                        >\n                          <Edit className=\"w-4 h-4 mr-2\" />\n                          Edit\n                        </Button>\n                        <Button \n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleDeleteBrand(brand.id, brand.name)}\n                          className=\"flex-1 border-border/50 hover:bg-red-500/20 hover:text-red-400\"\n                        >\n                          <Trash2 className=\"w-4 h-4 mr-2\" />\n                          Delete\n                        </Button>\n                      </div>\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"col-span-full text-center py-20 border border-dashed border-border/50 rounded-xl\">\n                    <Tag className=\"w-16 h-16 mx-auto mb-4 text-muted-foreground opacity-50\" />\n                    <p className=\"text-muted-foreground text-lg mb-2\">\n                      {searchQuery ? 'No brands found' : 'No brands yet'}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {searchQuery ? 'Try a different search term' : 'Create your first brand to get started'}\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </section>\n\n      {/* Modal for Create/Edit */}\n      {isModalOpen && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-card rounded-2xl border border-border/50 p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <h2 className=\"text-3xl font-bold mb-6\">\n              {editingBrand ? 'Edit Brand' : 'Create Brand'}\n            </h2>\n            \n            <form onSubmit={editingBrand ? handleUpdateBrand : handleCreateBrand} className=\"space-y-6\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"name\" className=\"text-base font-semibold\">\n                  Brand Name *\n                </Label>\n                <Input\n                  id=\"name\"\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  required\n                  placeholder=\"Nike\"\n                  className=\"h-12 bg-card/50 border-border/50\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"logo\" className=\"text-base font-semibold\">\n                  Brand Logo <span className=\"text-muted-foreground font-normal\">(Optional)</span>\n                </Label>\n                <ImageUploader\n                  onImageUpload={(url) => setFormData({ ...formData, logo_url: url })}\n                  currentImage={formData.logo_url}\n                  label=\"\"\n                />\n                <Input\n                  id=\"logo\"\n                  type=\"url\"\n                  value={formData.logo_url}\n                  onChange={(e) => setFormData({ ...formData, logo_url: e.target.value })}\n                  placeholder=\"Or paste logo URL\"\n                  className=\"h-12 bg-card/50 border-border/50\"\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"description\" className=\"text-base font-semibold\">\n                  Description <span className=\"text-muted-foreground font-normal\">(Optional)</span>\n                </Label>\n                <Textarea\n                  id=\"description\"\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Brief description of the brand...\"\n                  className=\"min-h-24 bg-card/50 border-border/50\"\n                  rows={4}\n                />\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"website\" className=\"text-base font-semibold\">\n                  Website URL <span className=\"text-muted-foreground font-normal\">(Optional)</span>\n                </Label>\n                <Input\n                  id=\"website\"\n                  type=\"url\"\n                  value={formData.website_url}\n                  onChange={(e) => setFormData({ ...formData, website_url: e.target.value })}\n                  placeholder=\"https://example.com\"\n                  className=\"h-12 bg-card/50 border-border/50\"\n                />\n              </div>\n\n              <div className=\"flex gap-3 pt-6\">\n                <Button \n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setIsModalOpen(false);\n                    resetForm();\n                  }}\n                  className=\"flex-1 h-12 border-border/50 hover:bg-card/80\"\n                >\n                  Cancel\n                </Button>\n                <Button \n                  type=\"submit\"\n                  className=\"flex-1 h-12 bg-foreground text-background hover:bg-foreground/90 hover:shadow-[0_0_30px_rgba(255,255,255,0.3)]\"\n                >\n                  {editingBrand ? 'Update Brand' : 'Create Brand'}\n                </Button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default AdminBrands;\n\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Auth.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'res' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":32,"column":13,"nodeType":null,"messageId":"unusedVar","endLine":32,"endColumn":16}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\nimport { authService } from '@/services/authService';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { ArrowLeft } from 'lucide-react';\nimport { useSEO } from '@/hooks/useSEO';\n\nconst Auth: React.FC = () => {\n  const [identifier, setIdentifier] = useState(''); // Can be email or username\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isSignUp, setIsSignUp] = useState(false);\n  const navigate = useNavigate();\n  const { toast } = useToast();\n  const { t } = useTranslation();\n\n  useSEO({\n    title: isSignUp ? t('auth.seoTitleSignup', 'Sign Up') : t('auth.seoTitleLogin', 'Log In'),\n    description: t('auth.seoDescription', 'Log in or create an account to save favorites and manage your profile.'),\n    keywords: 'login, signup, account, authentication',\n    type: 'website',\n  });\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await authService.login({ identifier, password });\n      \n      // Check if login was successful by verifying token is stored\n      if (authService.isAuthenticated()) {\n        toast({\n          title: 'Success',\n          description: 'Logged in successfully!',\n        });\n        \n        // Trigger auth change events\n        window.dispatchEvent(new Event('authChange'));\n        window.dispatchEvent(new Event('auth:login'));\n        \n        navigate('/');\n      } else {\n        console.error('âŒ Login failed - no token stored');\n        throw new Error('Login failed - no authentication token received');\n      }\n    } catch (err: unknown) {\n      if (process.env.NODE_ENV === 'development') {\n        console.error('âŒ Login error:', err);\n      }\n      toast({\n        title: 'Login Failed',\n        description: getErrorMessage(err, 'Invalid credentials'),\n        variant: 'destructive',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await authService.register({ email: identifier, password });\n      if (res.success && res.user) {\n        toast({\n          title: 'Account created',\n          description: 'Registration successful! You can now log in.',\n        });\n        setIsSignUp(false);\n        setIdentifier('');\n        setPassword('');\n      } else {\n        throw new Error(res.error || 'Registration failed');\n      }\n    } catch (err: unknown) {\n      toast({\n        title: 'Registration Failed',\n        description: getErrorMessage(err, 'Failed to create account'),\n        variant: 'destructive',\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-4 relative overflow-hidden\">\n      {/* Background Effects */}\n      <div className=\"absolute inset-0 opacity-30\">\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-white/5 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-1/4 right-1/4 w-80 h-80 bg-white/3 rounded-full blur-3xl\" />\n      </div>\n      \n      {/* Decorative circles */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] border border-white/5 rounded-full\" />\n        <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] border border-white/3 rounded-full\" />\n      </div>\n\n      {/* Back Button */}\n      <Link \n        to=\"/\" \n        className=\"absolute top-6 left-6 flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors z-10\"\n      >\n        <ArrowLeft className=\"w-4 h-4\" />\n        <span className=\"text-sm\">{t('common.backToHome')}</span>\n      </Link>\n\n      <div className=\"w-full max-w-md relative z-10\">\n        {/* Logo */}\n        <div className=\"text-center mb-8\">\n          <Link to=\"/\" className=\"inline-flex items-center gap-3 mb-6\">\n            <div className=\"w-12 h-12 rounded-xl border border-foreground/30 flex items-center justify-center bg-card/30 backdrop-blur-sm\">\n              <span className=\"font-display font-bold text-xl\">W</span>\n            </div>\n            <span className=\"font-display text-2xl font-semibold tracking-tight\">\n              Wearsearch\n            </span>\n          </Link>\n          <h1 className=\"font-display text-3xl font-bold mb-2\">\n            {isSignUp ? 'Create Account' : 'Welcome Back'}\n          </h1>\n          <p className=\"text-muted-foreground\">\n            {isSignUp ? 'Join the world of exceptional fashion' : 'Sign in to continue your journey'}\n          </p>\n        </div>\n\n        {/* Form Card */}\n        <div className=\"p-8 rounded-2xl border border-border/30 bg-card/20 backdrop-blur-xl\">\n          <form onSubmit={isSignUp ? handleSignup : handleLogin} className=\"space-y-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"identifier\" className=\"text-sm font-medium\">\n                {isSignUp ? 'Email' : 'Email or Username'}\n              </Label>\n              <Input\n                id=\"identifier\"\n                type={isSignUp ? \"email\" : \"text\"}\n                value={identifier}\n                onChange={(e) => setIdentifier(e.target.value)}\n                required\n                placeholder={isSignUp ? \"your@email.com\" : \"Email or username\"}\n                className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-foreground/30\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\" className=\"text-sm font-medium\">{t('common.password')}</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                placeholder={t('common.enterPassword')}\n                minLength={6}\n                className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-foreground/30\"\n              />\n            </div>\n            \n            <Button \n              type=\"submit\" \n              disabled={loading} \n              className=\"w-full h-12 rounded-full text-base font-medium\"\n            >\n              {loading ? 'Please wait...' : (isSignUp ? 'Create Account' : 'Sign In')}\n            </Button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-muted-foreground\">\n              {isSignUp ? 'Already have an account?' : \"Don't have an account?\"}{' '}\n              <button\n                type=\"button\"\n                onClick={() => setIsSignUp(!isSignUp)}\n                className=\"text-foreground hover:underline font-medium\"\n              >\n                {isSignUp ? 'Sign In' : 'Sign Up'}\n              </button>\n            </p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <p className=\"text-center text-xs text-muted-foreground mt-8\">\n          By continuing, you agree to our Terms of Service and Privacy Policy\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Contacts.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Favorites.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used. Allowed unused vars must match /^_/u.","line":11,"column":25,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":36},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"The 'favorites' logical expression could make the dependencies of useMemo Hook (at line 99) change on every render. To fix this, wrap the initialization of 'favorites' in its own useMemo() Hook.","line":69,"column":9,"nodeType":"VariableDeclarator","endLine":69,"endColumn":41},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":168,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":168,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7005,7008],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7005,7008],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'searchParams'. Either include it or remove the dependency array.","line":49,"column":6,"nodeType":"ArrayExpression","endLine":49,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [searchParams]","fix":{"range":[1951,1953],"text":"[searchParams]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport ProductCard from \"@/components/ProductCard\";\nimport { ProductGridSkeleton } from \"@/components/common/SkeletonLoader\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Search, Heart, AlertCircle } from \"lucide-react\";\nimport { isAuthenticated } from \"@/utils/authStorage\";\nimport { useDebounce } from \"@/hooks/useDebounce\";\nimport { useFavoritesContext } from \"@/contexts/FavoritesContext\";\nimport { useFavoritesPage } from \"@/hooks/useApi\";\nimport { useSEO } from \"@/hooks/useSEO\";\n\nconst Favorites = () => {\n  const navigate = useNavigate();\n  const { toast } = useToast();\n  const { t } = useTranslation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const debouncedSearch = useDebounce(searchQuery, 300);\n\n  useSEO({\n    title: t('favorites.seoTitle', 'Favorites'),\n    description: t('favorites.seoDescription', 'View and manage your favorite products.'),\n    keywords: 'favorites, wishlist, saved products',\n    type: 'website',\n  });\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 24;\n\n  // Initialize page from URL\n  useEffect(() => {\n    const raw = searchParams.get('page');\n    const parsed = raw ? Number(raw) : NaN;\n    if (Number.isFinite(parsed) && parsed >= 1) {\n      setCurrentPage(Math.floor(parsed));\n    }\n\n    const initialSearch = searchParams.get('search');\n    if (typeof initialSearch === 'string' && initialSearch.trim() !== '') {\n      setSearchQuery(initialSearch);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Keep URL in sync with currentPage\n  useEffect(() => {\n    const next = new URLSearchParams(searchParams);\n    next.set('page', String(currentPage));\n\n    const trimmed = searchQuery.trim();\n    if (trimmed) next.set('search', trimmed);\n    else next.delete('search');\n\n    if (next.toString() !== searchParams.toString()) {\n      setSearchParams(next, { replace: true });\n    }\n  }, [currentPage, searchQuery, searchParams, setSearchParams]);\n  \n  // Use context for favorites (prevents duplicate requests)\n  const { favorites: favoritesArray, isLoading: loading } = useFavoritesContext();\n  \n  // Extract favorites array\n  const favorites = favoritesArray || [];\n\n  // v1 paginated list (full products + favorited_at)\n  const { data: favoritesPageData, isLoading: favoritesPageLoading, isFetching: favoritesPageFetching } = useFavoritesPage({\n    page: currentPage,\n    limit: itemsPerPage,\n  });\n\n  const pagination = favoritesPageData?.pagination;\n  \n  // Check authentication on mount\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      toast({\n        title: \"Login Required\",\n        description: \"Please login to view your favorites\",\n        variant: \"destructive\",\n      });\n      navigate(\"/auth\");\n    }\n  }, [navigate, toast]);\n\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [debouncedSearch]);\n\n  // v1 BFF returns full product objects (plus optional favorited_at)\n  const products = useMemo(() => {\n    const pageItems = favoritesPageData?.items;\n    return Array.isArray(pageItems) ? pageItems : Array.isArray(favorites) ? favorites : [];\n  }, [favoritesPageData, favorites]);\n\n  const filteredFavorites = Array.isArray(products) \n    ? products.filter(product => {\n        if (!product) return false;\n        const name = product.name || product.product_name || product.item_name || '';\n        const hasValidData = name && (product.price || product.product_price || product.image_url || product.image);\n        if (!hasValidData) return false;\n        return name.toLowerCase().includes(debouncedSearch.toLowerCase());\n      })\n    : [];\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground\">\n      <Navigation />\n      \n      <main className=\"container mx-auto px-6 pt-28 pb-16\">\n        {/* Header */}\n        <div className=\"mb-10\">\n          <div className=\"inline-flex items-center gap-2 mb-4 select-none\">\n            <Heart className=\"w-4 h-4 text-red-500\" />\n            <span className=\"text-xs text-muted-foreground uppercase tracking-wider\">Your Collection</span>\n          </div>\n          <h1 className=\"font-display text-4xl sm:text-5xl font-bold mb-3 select-none\">My Favorites</h1>\n          <p className=\"text-muted-foreground text-lg select-none\">Items you've saved for later</p>\n        </div>\n\n        {/* Search */}\n        {favorites.length > 0 && (\n          <div className=\"relative max-w-md mb-10 group\">\n            <div className=\"absolute -inset-0.5 bg-gradient-to-r from-foreground/10 to-foreground/5 rounded-full blur opacity-0 group-hover:opacity-30 transition duration-500\"></div>\n            <div className=\"relative flex items-center\">\n              <Search className=\"absolute left-4 w-5 h-5 text-muted-foreground group-focus-within:text-foreground transition-colors\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Search your favorites...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"w-full pl-12 pr-4 h-12 bg-card/50 border-border/50 rounded-full text-foreground placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-foreground/30 transition-all backdrop-blur-sm\"\n              />\n            </div>\n          </div>\n        )}\n\n        {/* Content */}\n        {loading || favoritesPageLoading ? (\n          <ProductGridSkeleton count={12} columns={4} />\n        ) : filteredFavorites.length === 0 ? (\n          <div className=\"text-center py-20 border border-dashed border-border/30 rounded-3xl bg-card/10\">\n            <div className=\"w-16 h-16 rounded-full border-2 border-border/30 flex items-center justify-center mx-auto mb-6 select-none\">\n              <Heart className=\"w-8 h-8 text-muted-foreground\" />\n            </div>\n            <h3 className=\"font-display text-xl font-semibold mb-2 select-none\">\n              {searchQuery ? \"No favorites match your search\" : \"No favorites yet\"}\n            </h3>\n            <p className=\"text-muted-foreground mb-6 max-w-md mx-auto select-none\">\n              {searchQuery \n                ? \"Try adjusting your search terms\" \n                : \"Start exploring and save items you love to see them here\"}\n            </p>\n            <Button \n              onClick={() => navigate(\"/products\")}\n              className=\"rounded-full\"\n            >\n              Browse Products\n            </Button>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n            {filteredFavorites.map((product: any, index: number) => {\n              // Product is already extracted from the nested structure\n              const productId = product.id;\n              const productName = product.name || 'Unknown';\n              \n              // Handle image from various formats - same as Products page\n              const productImage = product.image_url || product.image || '';\n              const productPrice = String(product.price || '0');\n              const productCategory = product.type || '';\n              const productBrand = product.brand || (product.brands?.name) || '';\n              \n              return (\n                <ProductCard\n                  key={`${productId}-${index}`}\n                  id={productId}\n                  name={productName}\n                  image={productImage}\n                  price={productPrice}\n                  category={productCategory}\n                  brand={productBrand}\n                />\n              );\n            })}\n          </div>\n        )}\n\n        {!!pagination && pagination.totalPages > 1 && (\n          <div className=\"flex items-center justify-center gap-4 mt-12\">\n            <Button\n              variant=\"outline\"\n              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n              disabled={!pagination.hasPrev || favoritesPageFetching}\n            >\n              Prev\n            </Button>\n            <span className=\"text-sm text-muted-foreground\">\n              Page {pagination.page} of {pagination.totalPages}\n            </span>\n            <Button\n              variant=\"outline\"\n              onClick={() => setCurrentPage((p) => p + 1)}\n              disabled={!pagination.hasNext || favoritesPageFetching}\n            >\n              Next\n            </Button>\n          </div>\n        )}\n      </main>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Favorites;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Index.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":76,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3043,3046],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3043,3046],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":76,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3088,3091],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3088,3091],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":77,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3141,3144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3141,3144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useMemo } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from 'react-i18next';\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport ProductCard from \"@/components/ProductCard\";\nimport { Button } from \"@/components/ui/button\";\nimport { Product } from \"@/services/productService\";\nimport { NeonAbstractions } from \"@/components/NeonAbstractions\";\nimport { useHomepageData } from \"@/hooks/useAggregatedData\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { ProductGridSkeleton } from \"@/components/common/SkeletonLoader\";\nimport { seoApi, type SEOData } from \"@/services/api/seo.api\";\n\nconst Index: React.FC = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  \n  // Dynamic SEO from API\n  const [seoData, setSeoData] = useState<SEOData | null>(null);\n  \n  // Fetch SEO data\n  useEffect(() => {\n    const fetchSEO = async () => {\n      try {\n        const data = await seoApi.getHomeSEO();\n        setSeoData(data);\n      } catch (error) {\n        console.error('Failed to fetch home SEO:', error);\n      }\n    };\n    fetchSEO();\n  }, []);\n  \n  // SEO Meta Tags - use dynamic data if available, fallback to translations\n  useSEO({\n    title: seoData?.meta_title || t('home.seoTitle', 'Wearsearch - Discover Exceptional Fashion'),\n    description: seoData?.meta_description || t('home.seoDescription', 'Discover and shop the latest fashion trends. Find clothing, footwear, and accessories from top stores with worldwide shipping.'),\n    keywords: seoData?.keywords || 'fashion, clothing, shopping, streetwear, designer, brands, online shopping',\n    type: 'website',\n    image: 'https://wearsearch.com/og-image.jpg',\n    canonical: seoData?.canonical_url,\n  });\n  \n  // Defer API calls - use enabled flag to prevent automatic fetching\n  // Fetch data after initial render to not block FCP/LCP\n  const [shouldFetchData, setShouldFetchData] = useState(false);\n  \n  // Use aggregated hook to reduce API requests (2-3 requests â†’ 1 request)\n  const { data: homepageData, isLoading: productsLoading } = useHomepageData({ \n    enabled: shouldFetchData \n  });\n  \n  // Trigger data fetching after component mounts (after first paint)\n  useEffect(() => {\n    // Use requestIdleCallback or setTimeout to defer non-critical data\n    const timeoutId = setTimeout(() => {\n      setShouldFetchData(true);\n    }, 100); // Small delay to ensure first paint happens\n    \n    return () => clearTimeout(timeoutId);\n  }, []);\n\n  // Process products data from aggregated response\n  const products = useMemo(() => {\n    if (!homepageData) return [];\n    \n    const productsData = homepageData.products;\n    if (!productsData) return [];\n    \n    let productsList: Product[] = [];\n    if (Array.isArray(productsData)) {\n      productsList = productsData;\n    } else if (productsData.products && Array.isArray(productsData.products)) {\n      productsList = productsData.products;\n    } else if ((productsData as any).items && Array.isArray((productsData as any).items)) {\n      productsList = (productsData as any).items;\n    }\n    \n    return productsList.slice(0, 6);\n  }, [homepageData]);\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      <Navigation />\n\n      {/* Hero Section */}\n      <main id=\"main-content\">\n        <section className=\"relative min-h-screen flex items-center justify-center overflow-hidden pt-16 sm:pt-20\">\n          {/* NeonAbstractions background */}\n          <div className=\"absolute inset-0 z-0\" aria-hidden=\"true\">\n            <NeonAbstractions />\n          </div>\n\n          <div className=\"container mx-auto px-4 sm:px-6 relative z-10\">\n            <div className=\"max-w-4xl mx-auto text-center mt-4 sm:mt-16 md:mt-20\">\n              {/* Main headline - LCP element, render immediately */}\n              <h1 className=\"font-display text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold mb-4 sm:mb-6 tracking-tight\">\n                <span className=\"block text-white filter brightness-110\">\n                  {seoData?.h1_title || t('home.discover')}\n                </span>\n                {!seoData?.h1_title && (\n                  <>\n                    <span className=\"block relative inline-block\">\n                      <span className=\"text-white filter brightness-125\">{t('home.exceptional')}</span>\n                    </span>\n                    <span className=\"block text-white filter brightness-110\">{t('home.fashion')}</span>\n                  </>\n                )}\n              </h1>\n\n              {/* Subheadline */}\n              <p className=\"text-base sm:text-lg md:text-xl text-white/80 max-w-2xl mx-auto mb-6 sm:mb-10 leading-relaxed backdrop-blur-sm px-4\">\n                {seoData?.content_text || t('home.heroSubtitle')}\n              </p>\n\n            {/* Scroll down button */}\n            <div className=\"flex justify-center mb-6 sm:mb-10\">\n              <button\n                onClick={() => {\n                  const productsSection = document.getElementById('products-section');\n                  productsSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                }}\n                className=\"relative w-12 h-12 sm:w-16 sm:h-16 rounded-full border-2 border-white/30 bg-white/5 backdrop-blur-md hover:bg-white/10 hover:border-white/40 transition-all duration-300 flex items-center justify-center group cursor-pointer\"\n                aria-label=\"Scroll to products\"\n              >\n                <svg\n                  className=\"w-6 h-6 text-white \"\n                  fill=\"none\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth=\"2\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path d=\"M19 14l-7 7m0 0l-7-7m7 7V3\"></path>\n                </svg>\n              </button>\n            </div>\n\n            {/* CTAs - Glassmorphism */}\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <Button \n                onClick={() => navigate(\"/stores\")}\n                size=\"lg\" \n                variant=\"outline\"\n                className=\"relative border border-white/20 text-white bg-white/5 backdrop-blur-xl hover:bg-white/10 hover:border-white/30 transition-all overflow-hidden group\"\n              >\n                {t('home.viewStores')}\n              </Button>\n            </div>\n            </div>\n          </div>\n        </section>\n\n        {/* New Arrivals Section */}\n        <section id=\"products-section\" className=\"py-12 sm:py-16 md:py-20 bg-black\">\n          <div className=\"container mx-auto px-4 sm:px-6\">\n            {/* Section Header */}\n            <header className=\"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4 sm:gap-6 mb-6 sm:mb-10\">\n              <div>\n                <div className=\"inline-flex items-center gap-2 mb-2 sm:mb-3\">\n                  <div className=\"w-1.5 h-1.5 rounded-full bg-white\" aria-hidden=\"true\" />\n                  <span className=\"text-[10px] sm:text-xs text-white/60 uppercase tracking-wider\">{t('home.justIn')}</span>\n                </div>\n                <h2 className=\"font-display text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white\">{t('home.newArrivals')}</h2>\n                <p className=\"text-sm sm:text-base text-white/70 mt-1 sm:mt-2\">{t('home.freshPieces')}</p>\n              </div>\n            </header>\n\n            {/* Products Grid - Smaller cards */}\n            {productsLoading ? (\n              <ProductGridSkeleton count={10} columns={6} />\n            ) : (\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4\">\n                {products.slice(0, 10).map((product) => (\n                  <ProductCard\n                    key={product.id}\n                    id={product.id}\n                    name={product.name}\n                    image={product.image_url || product.image}\n                    price={product.price}\n                    category={product.type}\n                  />\n                ))}\n              </div>\n            )}\n\n            {/* View All Button - Glassmorphism */}\n            <nav className=\"text-center mt-12\">\n              <button \n                onClick={() => navigate(\"/products\")}\n                className=\"relative px-8 py-3 rounded-full border border-white/20 bg-white/5 backdrop-blur-[30px] text-white font-medium text-sm hover:bg-white/10 hover:border-white/30 transition-all duration-300 overflow-hidden group\"\n              >\n                <span className=\"relative\">{t('home.viewAllProducts')}</span>\n              </button>\n            </nav>\n          </div>\n        </section>\n      </main>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Index;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\NotFound.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\ProductDetail.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":111,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":111,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4142,4145],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4142,4145],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":664,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":664,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28749,28752],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28749,28752],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":664,"column":92,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":664,"endColumn":95,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[28789,28792],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[28789,28792],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useParams, useNavigate } from \"react-router-dom\";\nimport { useState, useEffect, useMemo, useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { ArrowLeft, Edit, Package, Tag, MapPin, Search, Filter, ChevronDown, SortAsc, Star, Send, Instagram, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { convertS3UrlToHttps } from \"@/lib/utils\";\nimport { FavoriteButton } from \"@/components/FavoriteButton\";\nimport { RelatedProducts } from \"@/components/RelatedProducts\";\nimport { translateGender } from \"@/utils/errorTranslation\";\nimport { getCategoryTranslation, getColorTranslation } from \"@/utils/translations\";\nimport { useProductDetailData } from \"@/hooks/useAggregatedData\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { logError } from \"@/services/logger\";\nimport { seoApi, type SEOData } from \"@/services/api/seo.api\";\n\nconst ProductDetail = () => {\n  const { id } = useParams();\n  const { toast } = useToast();\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [selectedImage, _setSelectedImage] = useState(0);\n  const [isAdmin, setIsAdmin] = useState(false);\n  \n  // Dynamic SEO from API\n  const [seoData, setSeoData] = useState<SEOData | null>(null);\n  \n  // Store filters\n  const [storeSearch, setStoreSearch] = useState(\"\");\n  const [sortBy, setSortBy] = useState<\"name\" | \"price-asc\" | \"price-desc\">(\"name\");\n  const [showRecommendedOnly, setShowRecommendedOnly] = useState(false);\n  const [currentStorePage, setCurrentStorePage] = useState(1);\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const filterButtonRef = useRef<HTMLButtonElement>(null);\n  const filterDropdownRef = useRef<HTMLDivElement>(null);\n  const storesPerPage = 3;\n\n  // Use aggregated hook for better performance (3 requests â†’ 1 request)\n  const { data: detailData, isLoading: detailLoading, error: productError } = useProductDetailData(id || '');\n  \n  // Extract data from aggregated response\n  const productData = detailData?.product;\n  const storesData = detailData?.stores;\n  const brandData = detailData?.brand;\n  const productLoading = detailLoading;\n  \n  // Extract product from response\n  const product = useMemo(() => {\n    if (!productData) return null;\n    \n    // Handle both response formats\n    if (productData.success) {\n      const data = productData.data || productData;\n      delete data.success;\n      return data;\n    } else if (productData.id) {\n      return productData;\n    }\n    \n    return null;\n  }, [productData]);\n\n  // Fetch SEO data when product ID changes\n  useEffect(() => {\n    if (!id) return;\n    \n    const fetchSEO = async () => {\n      try {\n        const data = await seoApi.getProductSEO(id);\n        setSeoData(data);\n      } catch (error) {\n        console.error('Failed to fetch product SEO:', error);\n      }\n    };\n    \n    fetchSEO();\n  }, [id]);\n\n  useSEO({\n    title: seoData?.meta_title || (product?.name ? String(product.name) : t('product.seoTitle', 'Product')),\n    description: seoData?.meta_description || (product?.description\n      ? String(product.description)\n      : t('product.seoDescription', 'View product details and compare prices across stores.')),\n    keywords: seoData?.keywords || 'product, fashion, stores, prices',\n    type: 'product',\n    image: product?.image_url || product?.image,\n    canonical: seoData?.canonical_url,\n  });\n  \n  // Extract brand from aggregated response\n  const brand = useMemo(() => {\n    if (!brandData) return null;\n    \n    if (brandData.success && brandData.data) {\n      return brandData.data;\n    } else if (brandData.id) {\n      return brandData;\n    }\n    \n    return null;\n  }, [brandData]);\n  \n  // Extract stores array\n  const stores = useMemo(() => {\n    // The stores from the API might have price in different fields\n    const rawStores = Array.isArray(storesData) ? storesData : [];\n    \n    const normalized = rawStores.map((store: Record<string, any>) => {\n      // Try multiple possible price field names from backend\n      const rawPrice = store.product_price ?? store.price ?? store.item_price ?? store.store_price ?? null;\n      // Convert to number if it's a string\n      const numericPrice = rawPrice != null ? parseFloat(String(rawPrice)) : null;\n      const finalPrice = numericPrice != null && !isNaN(numericPrice) ? numericPrice : null;\n      \n      return {\n        ...store,\n        price: finalPrice,\n        // Normalize URL fields\n        telegram_url: store.telegram_url || store.telegram || null,\n        instagram_url: store.instagram_url || store.instagram || null,\n        shipping_info: store.shipping_info || store.shipping || store.location || null,\n      };\n    });\n    \n    return normalized;\n  }, [storesData]);\n  \n  // Check admin status once\n  useEffect(() => {\n    // First try to get from localStorage user\n    const userStr = localStorage.getItem('user');\n    if (userStr) {\n      try {\n        const user = JSON.parse(userStr);\n        setIsAdmin(user.role === 'admin');\n        return;\n      } catch (_e) {\n        logError(new Error('Failed to parse user data'), { component: 'ProductDetail', action: 'PARSE_USER' });\n      }\n    }\n    \n    // Fallback: try to decode token\n    const token = localStorage.getItem('access_token');\n    if (token) {\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        setIsAdmin(payload.role === 'admin');\n      } catch (_e) {\n        setIsAdmin(false);\n      }\n    }\n  }, []);\n  \n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (\n        isFilterOpen &&\n        filterDropdownRef.current &&\n        filterButtonRef.current &&\n        !filterDropdownRef.current.contains(event.target as Node) &&\n        !filterButtonRef.current.contains(event.target as Node)\n      ) {\n        setIsFilterOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isFilterOpen]);\n  \n  // Handle product loading error\n  useEffect(() => {\n    if (productError) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to load product\",\n        variant: \"destructive\",\n      });\n    }\n  }, [productError, toast]);\n\n  // Filter and sort stores using useMemo\n  const filteredStores = useMemo(() => {\n    let filtered = [...stores];\n\n    // Search filter\n    if (storeSearch) {\n      filtered = filtered.filter(store =>\n        store.name.toLowerCase().includes(storeSearch.toLowerCase())\n      );\n    }\n\n    // Sort - when showRecommendedOnly is true, show recommended first, then others\n    filtered.sort((a, b) => {\n      // If showRecommendedOnly is active, prioritize recommended stores\n      if (showRecommendedOnly) {\n        if (a.is_recommended && !b.is_recommended) return -1;\n        if (!a.is_recommended && b.is_recommended) return 1;\n      }\n\n      // Then apply the selected sort\n      switch (sortBy) {\n        case \"name\":\n          return a.name.localeCompare(b.name);\n        case \"price-asc\":\n          return (a.price || 0) - (b.price || 0);\n        case \"price-desc\":\n          return (b.price || 0) - (a.price || 0);\n        default:\n          return 0;\n      }\n    });\n\n    return filtered;\n  }, [stores, storeSearch, sortBy, showRecommendedOnly]);\n\n  // Paginate stores\n  const paginatedStores = useMemo(() => {\n    const startIndex = (currentStorePage - 1) * storesPerPage;\n    return filteredStores.slice(startIndex, startIndex + storesPerPage);\n  }, [filteredStores, currentStorePage, storesPerPage]);\n\n  // Get price range from stores\n  const priceRange = useMemo(() => {\n    if (stores.length === 0) return null;\n    \n    const prices = stores.map(s => s.price).filter(p => p != null);\n    if (prices.length === 0) return null;\n    \n    const min = Math.min(...prices);\n    const max = Math.max(...prices);\n    \n    if (min === max) return `â‚´${min}`;\n    return `â‚´${min} - â‚´${max}`;\n  }, [stores]);\n\n  // Loading state\n  if (productLoading) {\n    return (\n      <div className=\"min-h-screen bg-background text-foreground flex items-center justify-center\">\n        <div className=\"animate-spin w-12 h-12 border-2 border-foreground border-t-transparent rounded-full\" />\n      </div>\n    );\n  }\n\n  if (!product) {\n    return (\n      <div className=\"min-h-screen bg-background text-foreground flex flex-col items-center justify-center\">\n        <h2 className=\"font-display text-2xl font-bold mb-4\">Product Not Found</h2>\n        <Button onClick={() => navigate('/')} className=\"rounded-full\">Go Home</Button>\n      </div>\n    );\n  }\n\n  const productImages = product.image_url ? [product.image_url] : [];\n  const httpsImageUrl = convertS3UrlToHttps(productImages[selectedImage] || '/placeholder.svg');\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground font-sans\">\n      <Navigation />\n\n      <div className=\"container mx-auto px-4 sm:px-6 py-12 pt-28\">\n        {/* Back Button & Edit */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <Button\n            variant=\"ghost\"\n            onClick={() => navigate(-1)}\n            className=\"group\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-2 md:group-hover:-translate-x-1 transition-transform\" />\n            {t('common.back')}\n          </Button>\n          \n          {isAdmin && (\n            <Button\n              variant=\"outline\"\n              onClick={() => navigate(`/admin?editProduct=${id}`)}\n              className=\"gap-2\"\n            >\n              <Edit className=\"w-4 h-4\" />\n              {t('products.editProduct')}\n            </Button>\n          )}\n        </div>\n\n        {/* Product Layout - Two Columns (big image, right sidebar) */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-[1fr,360px] gap-8 mb-16 items-start\">\n          {/* Left: Image & Details */}\n          <div className=\"space-y-8\">\n            {/* Image Section */}\n            <div className=\"relative animate-fade-in\">\n              <div className=\"relative rounded-3xl overflow-hidden border border-transparent bg-transparent group\">\n                {product && (\n                  <div className=\"absolute top-4 right-4 z-10\">\n                    <FavoriteButton \n                      productId={String(id)}\n                      variant=\"ghost\"\n                      className=\"w-12 h-12 rounded-full bg-black/60 backdrop-blur-sm text-white md:hover:bg-white md:hover:text-black active:bg-white active:text-black transition-all\"\n                    />\n                  </div>\n                )}\n                <div className=\"w-full rounded-3xl flex items-center justify-center p-8\" style={{\n                  background: 'radial-gradient(circle at 20% 30%, rgba(255,255,255,0.08) 0%, transparent 50%), radial-gradient(circle at 80% 70%, rgba(255,255,255,0.06) 0%, transparent 50%), linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(20,20,20,0.95) 100%)'\n                }}>\n                  <img\n                    src={httpsImageUrl}\n                    alt={product.name}\n                    className=\"max-h-[72vh] object-contain\"\n                    loading=\"lazy\"\n                    draggable={false}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Product Info */}\n            <div className=\"animate-fade-in-up\" style={{ animationDelay: '0.2s' }}>\n              {/* Brand */}\n              {(brand?.name || product.brand) && (\n                <p className=\"text-sm text-muted-foreground uppercase tracking-[0.2em] mb-3\">\n                  {brand?.name || product.brand}\n                </p>\n              )}\n\n              {/* Title */}\n              <h1 className=\"font-display text-4xl md:text-5xl font-bold tracking-tight mb-4\">\n                {product.name}\n              </h1>\n\n              {/* Details */}\n              <div className=\"space-y-4 mb-8\">\n                {product.type && (\n                  <div className=\"flex items-center gap-3\">\n                    <Tag className=\"w-5 h-5 text-muted-foreground\" />\n                    <span className=\"text-muted-foreground\">{t('products.category')}:</span>\n                    <span className=\"font-medium capitalize\">{getCategoryTranslation(product.type)}</span>\n                  </div>\n                )}\n                {product.color && (\n                  <div className=\"flex items-center gap-3\">\n                    <Package className=\"w-5 h-5 text-muted-foreground\" />\n                    <span className=\"text-muted-foreground\">{t('products.color')}:</span>\n                    <span className=\"font-medium capitalize\">{getColorTranslation(product.color)}</span>\n                  </div>\n                )}\n                {product.gender && (\n                  <div className=\"flex items-center gap-3\">\n                    <Package className=\"w-5 h-5 text-muted-foreground\" />\n                    <span className=\"text-muted-foreground\">{t('products.gender')}:</span>\n                    <span className=\"font-medium capitalize\">\n                      {translateGender(product.gender)}\n                    </span>\n                  </div>\n                )}\n              </div>\n\n              {/* Description */}\n              {product.description && (\n                <div className=\"mb-8 p-6 rounded-xl border border-border/50 bg-card/40 backdrop-blur-sm\">\n                  <h3 className=\"font-semibold mb-2\">{t('productDetail.description')}</h3>\n                  <p className=\"text-muted-foreground leading-relaxed\">{product.description}</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Right: Stores Sidebar */}\n          <div className=\"h-fit animate-fade-in-up\" style={{ animationDelay: '0.3s' }}>\n            <div className=\"rounded-2xl border border-white/6 bg-white/5 p-6\">\n              {/* Price Range - Moved Here */}\n              <div className=\"mb-6 pb-6 border-b border-border/50\">\n                <div className=\"flex items-baseline gap-2 mb-2\">\n                  {priceRange ? (\n                    <span className=\"font-display text-3xl font-extrabold\">{priceRange}</span>\n                  ) : (\n                    <span className=\"font-display text-2xl font-bold text-white/60\">Price N/A</span>\n                  )}\n                </div>\n                <p className=\"text-sm text-muted-foreground\">Price range across all stores</p>\n              </div>\n\n              {/* Header */}\n              <div className=\"mb-6\">\n                <h2 className=\"font-display text-2xl font-bold mb-2\">{t('productDetail.availableAt')}</h2>\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                  <MapPin className=\"w-4 h-4\" />\n                  <span>{stores.length} {t('productDetail.stores')}</span>\n                </div>\n              </div>\n\n              {/* Search & Filters */}\n              {stores.length > 0 && (\n                <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 mb-6 pb-6 border-b border-white/6\">\n                  {/* Search */}\n                  <div className=\"relative flex-1\">\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n                    <Input\n                      type=\"text\"\n                      placeholder={t('productDetail.searchStores')}\n                      value={storeSearch}\n                      onChange={(e) => setStoreSearch(e.target.value)}\n                      className=\"pl-10 bg-black/30 border-white/6 text-white h-10\"\n                    />\n                  </div>\n\n                  {/* Filter Dropdown - Custom */}\n                  <div className=\"relative\">\n                    <Button \n                      ref={filterButtonRef}\n                      variant=\"outline\" \n                      size=\"default\" \n                      className=\"border-white/20 bg-black/30 text-white hover:bg-black/50 hover:border-white/30 w-full sm:w-auto h-10\"\n                      onClick={() => setIsFilterOpen(!isFilterOpen)}\n                    >\n                      <Filter className=\"w-4 h-4 mr-2\" />\n                      <span className=\"sm:inline\">{t('products.filters')}</span>\n                      {(showRecommendedOnly || sortBy !== 'name') && (\n                        <span className=\"ml-2 bg-primary text-primary-foreground rounded-full w-5 h-5 flex items-center justify-center text-[10px] font-bold\">\n                          {(showRecommendedOnly ? 1 : 0) + (sortBy !== 'name' ? 1 : 0)}\n                        </span>\n                      )}\n                    </Button>\n\n                    {/* Custom Dropdown Menu */}\n                    {isFilterOpen && (\n                      <div \n                        ref={filterDropdownRef}\n                        className=\"absolute left-0 top-full mt-2 w-64 max-h-[80vh] overflow-y-auto z-[1100] rounded-2xl border border-white/10 bg-zinc-900/95 backdrop-blur-2xl text-white p-1.5 shadow-[0_8px_32px_rgba(0,0,0,0.4)] animate-in fade-in-0 zoom-in-95 slide-in-from-top-2\"\n                      >\n                        {/* Sort By Section */}\n                        <div className=\"text-xs uppercase tracking-widest text-muted-foreground px-3 py-2 font-medium\">\n                          {t('productDetail.sortBy')}\n                        </div>\n                        \n                        <button\n                          onClick={() => {\n                            setSortBy('name');\n                          }}\n                          className=\"w-full flex items-center cursor-pointer mx-1 rounded-lg px-3 py-2.5 text-sm text-white/80 hover:bg-white/10 hover:text-white transition-colors\"\n                        >\n                          <Tag className=\"h-4 w-4 mr-3 text-muted-foreground\" />\n                          <span className=\"flex-1 text-left\">{t('productDetail.name')}</span>\n                          {sortBy === 'name' && <span className=\"ml-2 text-primary\">âœ“</span>}\n                        </button>\n                        \n                        <button\n                          onClick={() => {\n                            setSortBy('price-asc');\n                          }}\n                          className=\"w-full flex items-center cursor-pointer mx-1 rounded-lg px-3 py-2.5 text-sm text-white/80 hover:bg-white/10 hover:text-white transition-colors\"\n                        >\n                          <SortAsc className=\"h-4 w-4 mr-3 text-muted-foreground\" />\n                          <span className=\"flex-1 text-left\">{t('productDetail.priceAsc')}</span>\n                          {sortBy === 'price-asc' && <span className=\"ml-2 text-primary\">âœ“</span>}\n                        </button>\n                        \n                        <button\n                          onClick={() => {\n                            setSortBy('price-desc');\n                          }}\n                          className=\"w-full flex items-center cursor-pointer mx-1 rounded-lg px-3 py-2.5 text-sm text-white/80 hover:bg-white/10 hover:text-white transition-colors\"\n                        >\n                          <ChevronDown className=\"h-4 w-4 mr-3 text-muted-foreground\" />\n                          <span className=\"flex-1 text-left\">{t('productDetail.priceDesc')}</span>\n                          {sortBy === 'price-desc' && <span className=\"ml-2 text-primary\">âœ“</span>}\n                        </button>\n                        \n                        <div className=\"my-2 h-px bg-border/50 mx-1\" />\n                        \n                        {/* Recommended Section */}\n                        <div className=\"text-xs uppercase tracking-widest text-muted-foreground px-3 py-2 font-medium\">\n                          {t('common.recommended')}\n                        </div>\n                        \n                        <button\n                          onClick={() => {\n                            setShowRecommendedOnly(!showRecommendedOnly);\n                          }}\n                          className=\"w-full flex items-center cursor-pointer mx-1 rounded-lg px-3 py-2.5 text-sm text-white/80 hover:bg-white/10 hover:text-white transition-colors\"\n                        >\n                          <Star className=\"h-4 w-4 mr-3 text-muted-foreground\" />\n                          <span className=\"flex-1 text-left\">{t('productDetail.recommendedOnly')}</span>\n                          <div className={`w-4 h-4 rounded border ${showRecommendedOnly ? 'bg-primary border-primary' : 'border-white/30'} flex items-center justify-center`}>\n                            {showRecommendedOnly && <span className=\"text-[10px]\">âœ“</span>}\n                          </div>\n                        </button>\n                        \n                        {(showRecommendedOnly || sortBy !== 'name') && (\n                          <>\n                            <div className=\"my-2 h-px bg-border/50 mx-1\" />\n                            <button\n                              onClick={() => {\n                                setShowRecommendedOnly(false);\n                                setSortBy('name');\n                                setIsFilterOpen(false);\n                              }}\n                              className=\"w-full flex items-center cursor-pointer mx-1 rounded-lg px-3 py-2.5 text-sm text-destructive hover:bg-destructive/10 transition-colors\"\n                            >\n                              <X className=\"h-4 w-4 mr-3\" />\n                              <span className=\"flex-1 text-left\">{t('products.clearFilters')}</span>\n                            </button>\n                          </>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Stores List */}\n              <div className=\"space-y-4 max-h-[600px] overflow-y-auto pr-2\">\n                {filteredStores.length > 0 ? (\n                  <>\n                    {paginatedStores.map((store) => (\n                      <div\n                        key={store.id}\n                        className=\"p-4 rounded-xl border border-white/6 bg-black/20 hover:bg-white/6 transition-colors\"\n                      >\n                      {/* Store Header */}\n                      <div className=\"flex items-start gap-3 mb-3\">\n                        {/* Store Logo */}\n                        {store.logo_url && (\n                          <div className=\"w-12 h-12 rounded-lg overflow-hidden bg-white/5 flex-shrink-0\">\n                            <img \n                              src={store.logo_url} \n                              alt={store.name}\n                              className=\"w-full h-full object-cover\"\n                              loading=\"lazy\"\n                            />\n                          </div>\n                        )}\n                        \n                        <div className=\"flex-1\">\n                          <h3 className=\"font-semibold mb-1\">{store.name}</h3>\n                          {store.is_recommended && (\n                            <div className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/10 border border-white/20 text-white\">\n                              <Star className=\"w-3 h-3 fill-current\" />\n                              <span className=\"text-xs font-medium\">{t('productDetail.recommended')}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n\n                      {/* Price */}\n                      {store.price && (\n                        <div className=\"mb-3\">\n                          <p className=\"font-display text-2xl font-bold\">â‚´{store.price}</p>\n                        </div>\n                      )}\n\n                      {/* Shipping Info */}\n                      {store.shipping_info && (\n                        <p className=\"text-sm text-muted-foreground mb-3 line-clamp-2\">\n                          {store.shipping_info}\n                        </p>\n                      )}\n\n                      {/* Contact Buttons */}\n                      <div className=\"flex gap-2\">\n                        {store.telegram_url && (\n                          <a\n                            href={store.telegram_url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"flex-1\"\n                          >\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              className=\"w-full\"\n                            >\n                              <Send className=\"w-4 h-4 mr-1\" />\n                              Telegram\n                            </Button>\n                          </a>\n                        )}\n                        {store.instagram_url && (\n                          <a\n                            href={store.instagram_url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"flex-1\"\n                          >\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              className=\"w-full\"\n                            >\n                              <Instagram className=\"w-4 h-4 mr-1\" />\n                              Instagram\n                            </Button>\n                          </a>\n                        )}\n                      </div>\n                    </div>\n                  ))\n                }\n                \n                {/* Pagination Controls */}\n                {filteredStores.length > storesPerPage && (\n                  <div className=\"flex items-center justify-between pt-4 border-t border-white/6\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setCurrentStorePage(prev => Math.max(1, prev - 1))}\n                      disabled={currentStorePage === 1}\n                      className=\"gap-2\"\n                    >\n                      â† Previous\n                    </Button>\n                    <span className=\"text-sm text-white/70\">\n                      Page {currentStorePage} of {Math.ceil(filteredStores.length / storesPerPage)}\n                    </span>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setCurrentStorePage(prev => Math.min(Math.ceil(filteredStores.length / storesPerPage), prev + 1))}\n                      disabled={currentStorePage === Math.ceil(filteredStores.length / storesPerPage)}\n                      className=\"gap-2\"\n                    >\n                      Next â†’\n                    </Button>\n                  </div>\n                )}\n              </>\n                ) : stores.length > 0 ? (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    <p>{t('productDetail.noStoresMatch')}</p>\n                    <Button\n                      variant=\"link\"\n                      onClick={() => {\n                        setStoreSearch(\"\");\n                        setShowRecommendedOnly(false);\n                      }}\n                      className=\"mt-2\"\n                    >\n                      {t('productDetail.clearFilters')}\n                    </Button>\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8 border border-dashed border-border/50 rounded-xl\">\n                    <Package className=\"w-12 h-12 mx-auto mb-3 text-muted-foreground\" />\n                    <p className=\"text-muted-foreground select-none mb-2\">{t('productDetail.noStoresAvailable')}</p>\n                    {isAdmin && (\n                      <p className=\"text-xs text-muted-foreground\">\n                        {t('productDetail.addStores')}\n                      </p>\n                    )}\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Related Products Section */}\n        {product && (\n          <RelatedProducts \n            productId={String(id)} \n            products={Array.isArray((detailData as any)?.relatedProducts) ? (detailData as any).relatedProducts : undefined}\n            className=\"mb-16 animate-fade-in-up\" \n          />\n        )}\n      </div>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default ProductDetail;\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Products.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'types' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":93,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":93,"endColumn":14},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":162,"column":29,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":162,"endColumn":32,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6411,6414],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6411,6414],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useMemo has an unnecessary dependency: 'itemsPerPage'. Either exclude it or remove the dependency array.","line":182,"column":6,"nodeType":"ArrayExpression","endLine":182,"endColumn":86,"suggestions":[{"desc":"Update the dependencies array to be: [storeIdParam, pageData, storeProductsData, currentPage, products]","fix":{"range":[7049,7129],"text":"[storeIdParam, pageData, storeProductsData, currentPage, products]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useMemo } from \"react\";\nimport { useSmoothScroll } from '@/hooks/useAnimationFrame';\nimport { useTranslation } from \"react-i18next\";\nimport { useSearchParams } from \"react-router-dom\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport { NeonAbstractions } from \"@/components/NeonAbstractions\";\nimport ProductCard from \"@/components/ProductCard\";\nimport { ProductGridSkeleton } from \"@/components/common/SkeletonLoader\";\nimport { NoProductsFound, NoStoreProducts, ErrorState } from \"@/components/common/EmptyState\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Filter, Search, Grid3x3, LayoutGrid, Columns3 } from \"lucide-react\";\nimport {\n  Pagination,\n  PaginationContent,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n  PaginationEllipsis,\n} from \"@/components/ui/pagination\";\nimport { useStoreProducts } from \"@/hooks/useApi\";\nimport { useProductsPageData } from \"@/hooks/useAggregatedData\";\nimport { useDebounce } from \"@/hooks/useDebounce\";\nimport { useProductFilters, useProductSort, useGridLayout } from \"@/features/products\";\nimport { PRODUCT_CATEGORIES } from \"@/constants/categories\";\nimport type { Product } from \"@/types\";\nimport { translateGender } from \"@/utils/errorTranslation\";\nimport { getColorTranslation, getCategoryTranslation } from \"@/utils/translations\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { seoApi, type SEOData } from \"@/services/api/seo.api\";\n\nconst Products = () => {\n  const { t } = useTranslation();\n  const [searchParams] = useSearchParams();\n  const { scrollToTop } = useSmoothScroll();\n  \n  // Dynamic SEO based on filters\n  const [seoData, setSeoData] = useState<SEOData | null>(null);\n  const typeParam = searchParams.get('type');\n  const colorParam = searchParams.get('color');\n  const storeIdParam = searchParams.get('store_id');\n  \n  // Fetch dynamic SEO data when filters change\n  useEffect(() => {\n    const fetchSEO = async () => {\n      try {\n        let data: SEOData | null = null;\n        \n        // Priority: category > color > default\n        if (typeParam) {\n          data = await seoApi.getCategorySEO(typeParam);\n        } else if (colorParam) {\n          data = await seoApi.getColorSEO(colorParam);\n        }\n        \n        setSeoData(data);\n      } catch (error) {\n        console.error('Failed to fetch products SEO:', error);\n        setSeoData(null);\n      }\n    };\n    \n    fetchSEO();\n  }, [typeParam, colorParam]);\n  \n  // SEO Meta Tags - use dynamic data if available\n  useSEO({\n    title: seoData?.meta_title || (storeIdParam \n      ? t('products.seoTitleStore', 'Shop Products from Store')\n      : t('products.seoTitle', 'Shop All Fashion Products')),\n    description: seoData?.meta_description || t('products.seoDescription', 'Browse our complete collection of fashion items. Filter by category, color, brand, and more. Find your perfect style.'),\n    keywords: seoData?.keywords || 'fashion products, clothing, shoes, accessories, brands, online shopping',\n    type: 'website',\n    canonical: seoData?.canonical_url,\n  });\n  \n  // Use custom hooks for state management\n  const filters = useProductFilters();\n  const sort = useProductSort();\n  const layout = useGridLayout(6);\n  const [brandSearchQuery, setBrandSearchQuery] = useState(\"\");\n  \n  // Debounce search query\n  const debouncedSearch = useDebounce(filters.searchQuery, 300);\n\n  const colors = [\"Black\", \"White\", \"Gray\", \"Beige\", \"Brown\", \"Red\", \"Blue\", \"Navy\", \"Green\", \"Olive\", \"Yellow\", \"Orange\", \"Pink\", \"Purple\", \"Cream\"];\n  const types = [\"Outerwear\", \"Tops\", \"Bottoms\", \"Dresses\", \"Shoes\", \"Accessories\"];\n  const genders = [\"men\", \"women\", \"unisex\"];\n  const categories = [...PRODUCT_CATEGORIES];\n  \n  const itemsPerPage = 24;\n\n  // Server-driven pagination\n  const [currentPage, setCurrentPage] = useState(1);\n  \n  // Defer data fetching until after initial render\n  const [shouldFetchData, setShouldFetchData] = useState(false);\n  \n  useEffect(() => {\n    const timeoutId = setTimeout(() => setShouldFetchData(true), 50);\n    return () => clearTimeout(timeoutId);\n  }, []);\n  \n  // Build API filters object (memoized to avoid query-key churn)\n  const apiFilters = useMemo(\n    () => ({\n      page: currentPage,\n      limit: itemsPerPage,\n      search: debouncedSearch || undefined,\n      type: filters.selectedTypes?.length ? filters.selectedTypes : undefined,\n      color: filters.selectedColors?.length ? filters.selectedColors : undefined,\n      gender: filters.selectedGenders?.length ? filters.selectedGenders : undefined,\n      brandId: filters.selectedBrand ? [filters.selectedBrand] : undefined,\n      sort: sort.sortBy !== 'default' ? sort.sortBy : undefined,\n    }),\n    [\n      currentPage,\n      itemsPerPage,\n      debouncedSearch,\n      filters.selectedTypes,\n      filters.selectedColors,\n      filters.selectedGenders,\n      filters.selectedBrand,\n      sort.sortBy,\n    ]\n  );\n  \n  // Use aggregated hook for better performance\n  const { data: pageData, isLoading: pageLoading } = useProductsPageData(apiFilters, { \n    enabled: !storeIdParam && shouldFetchData \n  });\n  \n  // Use store-specific endpoint if store_id is present\n  const storeProductsParams = useMemo(\n    () => ({ page: currentPage, limit: itemsPerPage }),\n    [currentPage, itemsPerPage]\n  );\n\n  const { data: storeProductsData, isLoading: storeLoading, error: storeError } = useStoreProducts(\n    storeIdParam || '', \n    storeProductsParams,\n    { enabled: !!storeIdParam && shouldFetchData }\n  );\n  \n  // Extract data\n  const productsData = !storeIdParam ? pageData?.products : null;\n  const brandsData = !storeIdParam ? pageData?.brands : null;\n  const loading = !storeIdParam ? pageLoading : false;\n  \n  // Use store products if filtering by store, otherwise use server-paged products\n  const products = useMemo(() => {\n    if (storeIdParam && storeProductsData) {\n      return storeProductsData.products || [];\n    }\n    if (!productsData) return [];\n    return (productsData as any)?.products || productsData || [];\n  }, [productsData, storeProductsData, storeIdParam]);\n\n  const serverPagination = useMemo(() => {\n    // Aggregated endpoint: pageData.pagination\n    if (!storeIdParam && pageData?.pagination) return pageData.pagination;\n\n    // Store products endpoint may return pagination-ish fields\n    if (storeIdParam && storeProductsData?.pagination) {\n      return storeProductsData.pagination;\n    }\n\n    // Fallback\n    return {\n      page: currentPage,\n      totalPages: 1,\n      totalItems: Array.isArray(products) ? products.length : 0,\n      hasNext: false,\n      hasPrev: currentPage > 1,\n    };\n  }, [storeIdParam, pageData, storeProductsData, currentPage, itemsPerPage, products]);\n\n  const brands = useMemo(() => {\n    if (!brandsData) return [];\n    return Array.isArray(brandsData) ? brandsData : [];\n  }, [brandsData]);\n\n  const filteredBrands = useMemo(() => {\n    if (!brandSearchQuery.trim()) return brands;\n    const query = brandSearchQuery.toLowerCase();\n    return brands.filter((brand: { id: string; name: string }) => \n      brand.name?.toLowerCase().includes(query)\n    );\n  }, [brands, brandSearchQuery]);\n\n  // Handle loading and error states\n  const isLoading = storeIdParam ? storeLoading : loading;\n  const currentError = storeIdParam ? storeError : null;\n\n  // Filter toggle handlers are now provided by useProductFilters hook:\n  // - filters.toggleColor(color)\n  // - filters.toggleType(type)\n  // - filters.toggleGender(gender)\n  // - filters.clearFilters()\n\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [filters.searchQuery]);\n\n  // Scroll to top when navigating between pages or changing filters\n  useEffect(() => {\n    scrollToTop(500); // RAF-based smooth scroll\n  }, [currentPage, sort.sortBy, filters.selectedBrand, scrollToTop]);\n\n  return (\n    <div className=\"min-h-screen bg-black text-white overflow-x-hidden font-sans\">\n      <Navigation />\n      \n      {/* Hero Section with NeonAbstractions */}\n      <section className=\"relative min-h-[40vh] flex items-center justify-center overflow-hidden pt-28 pb-12\">\n        <NeonAbstractions />\n        \n        <div className=\"container mx-auto px-6 relative z-10 text-center\">\n          <h1 className=\"font-display text-5xl sm:text-6xl md:text-7xl font-bold mb-4 tracking-tight\">\n            <span className=\"neon-text\">{t('products.title')}</span>\n          </h1>\n          \n          <p className=\"text-lg text-muted-foreground max-w-2xl mx-auto mb-8\">\n            {t('home.subtitle')}\n          </p>\n          \n          {/* Search Bar */}\n          <div className=\"relative max-w-2xl mx-auto\">\n            <div className=\"relative flex items-center\">\n              <Search className=\"absolute left-5 w-5 h-5 text-muted-foreground\" />\n              <Input\n                type=\"text\"\n                placeholder={t('home.searchPlaceholder')}\n                value={filters.searchQuery}\n                onChange={(e) => filters.setSearchQuery(e.target.value)}\n                className=\"w-full pl-14 pr-5 h-14 glass-card rounded-full text-foreground placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-foreground/20 border-foreground/10\"\n              />\n            </div>\n          </div>\n        </div>\n      </section>\n      \n      <main className=\"container mx-auto px-6 pb-16\">\n        <div className=\"flex flex-col gap-10\">\n\n          {/* Filters and Sort */}\n          <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\n            <div className=\"flex items-center gap-3 flex-wrap\">\n              <Dialog open={layout.filterOpen} onOpenChange={layout.setFilterOpen}>\n                <DialogTrigger asChild>\n                  <Button variant=\"outline\" size=\"lg\" className=\"border-foreground/20 bg-card/50 text-foreground hover:bg-card hover:border-foreground/30 min-h-[48px] text-base touch-manipulation active:scale-95\">\n                    <Filter className=\"w-5 h-5 mr-2\" />\n                    {t('products.filters')}\n                    {filters.hasActiveFilters && (\n                      <span className=\"ml-2 bg-primary text-primary-foreground rounded-full min-w-[24px] h-6 flex items-center justify-center px-2 text-xs font-bold\">\n                        {filters.selectedColors.length + filters.selectedTypes.length + filters.selectedGenders.length + (filters.selectedBrand ? 1 : 0)}\n                      </span>\n                    )}\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"bg-card border-foreground/10 text-foreground w-[95vw] max-w-md max-h-[85vh] overflow-y-auto p-4 sm:p-6\">\n                  <DialogHeader>\n                    <DialogTitle className=\"text-xl sm:text-2xl font-bold\">{t('products.filter')}</DialogTitle>\n                  </DialogHeader>\n                  <div className=\"space-y-6 py-4\">\n                    {/* Color Filter */}\n                    <div>\n                      <h3 className=\"font-semibold mb-3 text-sm uppercase tracking-widest text-muted-foreground\">{t('products.color')}</h3>\n                      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                        {colors.map((color) => (\n                          <div key={color} className=\"flex items-center gap-3 py-2 min-h-[44px] touch-manipulation\">\n                            <Checkbox \n                              id={`filter-color-${color}`}\n                              checked={filters.selectedColors.includes(color)}\n                              onCheckedChange={() => filters.toggleColor(color)}\n                              className=\"min-w-[20px] min-h-[20px] h-5 w-5\"\n                            />\n                            <Label \n                              htmlFor={`filter-color-${color}`}\n                              className=\"text-sm cursor-pointer active:text-foreground/80 transition-colors capitalize flex-1\"\n                            >\n                              {getColorTranslation(color)}\n                            </Label>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Category Filter */}\n                    <div>\n                      <h3 className=\"font-semibold mb-3 text-sm uppercase tracking-widest text-muted-foreground\">{t('products.category')}</h3>\n                      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\n                        {categories.map((category) => (\n                          <div key={category} className=\"flex items-center gap-3 py-2 min-h-[44px] touch-manipulation\">\n                            <Checkbox \n                              id={`filter-category-${category}`}\n                              checked={filters.selectedTypes.includes(category)}\n                              onCheckedChange={() => filters.toggleType(category)}\n                              className=\"min-w-[20px] min-h-[20px] h-5 w-5\"\n                            />\n                            <Label \n                              htmlFor={`filter-category-${category}`}\n                              className=\"text-sm cursor-pointer active:text-foreground/80 transition-colors capitalize flex-1\"\n                            >\n                              {getCategoryTranslation(category)}\n                            </Label>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Gender Filter */}\n                    <div>\n                      <h3 className=\"font-semibold mb-3 text-sm uppercase tracking-widest text-muted-foreground\">{t('products.gender')}</h3>\n                      <div className=\"grid grid-cols-3 gap-2\">\n                        {genders.map((gender) => (\n                          <div key={gender} className=\"flex items-center gap-3 py-2 min-h-[44px] touch-manipulation\">\n                            <Checkbox \n                              id={`filter-gender-${gender}`}\n                              checked={filters.selectedGenders.includes(gender)}\n                              onCheckedChange={() => filters.toggleGender(gender)}\n                              className=\"min-w-[20px] min-h-[20px] h-5 w-5\"\n                            />\n                            <Label \n                              htmlFor={`filter-gender-${gender}`}\n                              className=\"text-sm cursor-pointer active:text-foreground/80 transition-colors capitalize flex-1\"\n                            >\n                              {translateGender(gender)}\n                            </Label>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Brand Filter */}\n                    <div>\n                      <h3 className=\"font-semibold mb-3 text-sm uppercase tracking-widest text-muted-foreground\">{t('products.brand')}</h3>\n                      {filters.selectedBrand && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => { filters.setSelectedBrand(\"\"); setCurrentPage(1); }}\n                          className=\"mb-2 text-xs text-muted-foreground hover:text-foreground h-7\"\n                        >\n                          Clear: {filters.selectedBrand}\n                        </Button>\n                      )}\n                      <Input\n                        type=\"text\"\n                        placeholder={t('products.searchBrand')}\n                        value={brandSearchQuery}\n                        onChange={(e) => setBrandSearchQuery(e.target.value)}\n                        className=\"mb-2 h-9 text-sm\"\n                      />\n                      <div className=\"max-h-40 overflow-y-auto space-y-1 border border-foreground/10 rounded-lg p-2\">\n                        {filteredBrands.length > 0 ? (\n                          filteredBrands.map((brand: { id: string; name: string }) => (\n                            <button\n                              key={brand.id}\n                              onClick={() => {\n                                filters.setSelectedBrand(brand.name);\n                                setCurrentPage(1);\n                              }}\n                              className={`w-full text-left px-2 py-1.5 rounded-md text-sm transition-colors ${\n                                filters.selectedBrand === brand.name\n                                  ? \"bg-primary text-primary-foreground\"\n                                  : \"hover:bg-foreground/5\"\n                              }`}\n                            >\n                              {brand.name}\n                            </button>\n                          ))\n                        ) : (\n                          <p className=\"text-xs text-muted-foreground text-center py-3\">{t('common.noResults')}</p>\n                        )}\n                      </div>\n                    </div>\n\n                    <div className=\"flex gap-2 pt-4 border-t border-foreground/10\">\n                      <Button \n                        variant=\"ghost\" \n                        className=\"flex-1 text-muted-foreground hover:text-foreground h-10\"\n                        onClick={filters.clearFilters}\n                      >\n                        {t('products.clearFilters')}\n                      </Button>\n                      <Button \n                        className=\"flex-1 bg-primary text-primary-foreground hover:bg-primary/90 h-10\"\n                        onClick={() => layout.setFilterOpen(false)}\n                      >\n                        {t('products.applyFilters')}\n                      </Button>\n                    </div>\n                  </div>\n                </DialogContent>\n              </Dialog>\n              \n              {filters.hasActiveFilters && (\n                <Button \n                  variant=\"ghost\" \n                  onClick={filters.clearFilters}\n                  className=\"text-muted-foreground hover:text-foreground\"\n                >\n                  {t('products.clearFilters')}\n                </Button>\n              )}\n            </div>\n\n            <div className=\"flex items-center gap-3 w-full md:w-auto\">\n              {/* Grid Layout Selector - Visual Gallery View */}\n              <div className=\"flex items-center gap-1 border border-foreground/20 rounded-lg p-1 bg-card/50\">\n                <Button\n                  variant={layout.columns === 2 ? \"default\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => layout.setColumns(2)}\n                  className=\"h-9 w-9 p-0\"\n                  title=\"Ð’ÐµÐ»Ð¸ÐºÑ– Ð¿Ð»Ð¸Ñ‚ÐºÐ¸ (2 ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸)\"\n                >\n                  <Columns3 className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant={layout.columns === 4 ? \"default\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => layout.setColumns(4)}\n                  className=\"h-9 w-9 p-0\"\n                  title=\"Ð¡ÐµÑ€ÐµÐ´Ð½Ñ– Ð¿Ð»Ð¸Ñ‚ÐºÐ¸ (4 ÐºÐ¾Ð»Ð¾Ð½ÐºÐ¸)\"\n                >\n                  <LayoutGrid className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  variant={layout.columns === 6 ? \"default\" : \"ghost\"}\n                  size=\"sm\"\n                  onClick={() => layout.setColumns(6)}\n                  className=\"h-9 w-9 p-0\"\n                  title=\"ÐœÐ°Ð»ÐµÐ½ÑŒÐºÑ– Ð¿Ð»Ð¸Ñ‚ÐºÐ¸ (6 ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº)\"\n                >\n                  <Grid3x3 className=\"h-4 w-4\" />\n                </Button>\n              </div>\n\n              {/* Sort */}\n              <Select value={sort.sortBy} onValueChange={sort.setSortBy}>\n                <SelectTrigger className=\"w-[200px] h-10 border-foreground/20 bg-card/50 text-foreground focus:ring-foreground/20\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent position=\"popper\" className=\"bg-card border-foreground/10 text-foreground\">\n                  <SelectItem value=\"default\">{t('products.default')}</SelectItem>\n                  <SelectItem value=\"name-asc\">Name (A-Z)</SelectItem>\n                  <SelectItem value=\"name-desc\">Name (Z-A)</SelectItem>\n                  <SelectItem value=\"price-asc\">{t('products.priceAsc')}</SelectItem>\n                  <SelectItem value=\"price-desc\">{t('products.priceDesc')}</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n          \n          {/* Products Grid */}\n          {isLoading ? (\n            <ProductGridSkeleton count={24} columns={6} />\n          ) : currentError ? (\n            <ErrorState \n              title=\"Failed to load products\"\n              description=\"We couldn't load the products. Please check your connection and try again.\"\n              onRetry={() => window.location.reload()}\n              technicalDetails={currentError instanceof Error ? currentError.message : String(currentError)}\n            />\n          ) : products.length === 0 ? (\n            storeIdParam ? (\n              <NoStoreProducts />\n            ) : filters.searchQuery ? (\n              <NoSearchResults \n                query={filters.searchQuery}\n                onClearSearch={() => { filters.setSearchQuery(''); setCurrentPage(1); }}\n              />\n            ) : (\n              <NoProductsFound \n                hasFilters={filters.hasActiveFilters}\n                onClearFilters={filters.clearFilters}\n              />\n            )\n          ) : (\n            <>\n              <div className={`grid gap-x-6 gap-y-12 ${\n                layout.columns === 2 ? 'grid-cols-1 sm:grid-cols-2' :\n                layout.columns === 4 ? 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4' :\n                'grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6'\n              }`}>\n                {products.map((product: Product) => (\n                  <ProductCard\n                    key={product.id}\n                    id={product.id}\n                    name={product.name}\n                    image={product.image_url || product.image || \"\"}\n                    price={String(product.price)}\n                    category={product.type}\n                    brand={product.brand}\n                  />\n                ))}\n              </div>\n\n              {/* Pagination */}\n              {products.length > 0 && serverPagination.totalPages > 1 && (\n                <Pagination className=\"mt-20\">\n                  <PaginationContent>\n                    <PaginationItem>\n                      <PaginationPrevious \n                        onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                        disabled={currentPage === 1}\n                        className=\"cursor-pointer text-foreground hover:bg-card hover:text-foreground\"\n                      />\n                    </PaginationItem>\n                    \n                    {[...Array(serverPagination.totalPages)].map((_, i) => {\n                      const pageNum = i + 1;\n                      if (\n                        pageNum === 1 ||\n                        pageNum === serverPagination.totalPages ||\n                        (pageNum >= currentPage - 1 && pageNum <= currentPage + 1)\n                      ) {\n                        return (\n                          <PaginationItem key={pageNum}>\n                            <PaginationLink\n                              onClick={() => setCurrentPage(pageNum)}\n                              isActive={currentPage === pageNum}\n                              className=\"cursor-pointer border-foreground/20 text-foreground hover:bg-card hover:text-foreground\"\n                            >\n                              {pageNum}\n                            </PaginationLink>\n                          </PaginationItem>\n                        );\n                      } else if (\n                        pageNum === currentPage - 2 ||\n                        pageNum === currentPage + 2\n                      ) {\n                        return (\n                          <PaginationItem key={pageNum}>\n                            <PaginationEllipsis className=\"text-muted-foreground\" />\n                          </PaginationItem>\n                        );\n                      }\n                      return null;\n                    })}\n                    \n                    <PaginationItem>\n                      <PaginationNext \n                        onClick={() => setCurrentPage((p) => Math.min(serverPagination.totalPages, p + 1))}\n                        disabled={currentPage === serverPagination.totalPages}\n                        className=\"cursor-pointer text-foreground hover:bg-card hover:text-foreground\"\n                      />\n                    </PaginationItem>\n                  </PaginationContent>\n                </Pagination>\n              )}\n            </>\n          )}\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Products;\n\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Profile.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Star' is defined but never used. Allowed unused vars must match /^_/u.","line":25,"column":40,"nodeType":null,"messageId":"unusedVar","endLine":25,"endColumn":44},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":41,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1587,1590],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1587,1590],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport { authService } from \"@/services/authService\";\nimport { userService } from \"@/services/userService\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n} from \"@/components/ui/alert-dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport { NeonAbstractions } from \"@/components/NeonAbstractions\";\nimport { User, Lock, LogOut, Sparkles, Star, Trash2 } from \"lucide-react\";\nimport { useSEO } from \"@/hooks/useSEO\";\nimport { getErrorMessage, isCanceledError } from \"@/utils/errorUtils\";\n\nconst Profile = () => {\n  const navigate = useNavigate();\n  const { toast } = useToast();\n  const { t } = useTranslation();\n\n  useSEO({\n    title: t('profile.seoTitle', 'Profile'),\n    description: t('profile.seoDescription', 'Manage your profile, security settings, and account preferences.'),\n    keywords: 'profile, account, settings',\n    type: 'website',\n  });\n  const [loading, setLoading] = useState(false);\n  const [user, setUser] = useState<any>(null);\n  \n  // Profile fields\n  const [displayName, setDisplayName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  \n  // Password change fields\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  \n  // Delete account fields\n  const [deletePassword, setDeletePassword] = useState(\"\");\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n\n  // Track mounted state and abort controller\n  const isMounted = useRef(true);\n  const abortControllerRef = useRef<AbortController | null>(null);\n\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n      if (abortControllerRef.current) {\n        abortControllerRef.current.abort();\n      }\n    };\n  }, []);\n\n  const checkUser = useCallback(async () => {\n    if (!authService.isAuthenticated()) {\n      navigate(\"/auth\");\n      return;\n    }\n\n    // Cancel previous request if exists\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n    }\n\n    abortControllerRef.current = new AbortController();\n\n    try {\n      const userData = await authService.getCurrentUser();\n      if (isMounted.current) {\n        setUser(userData);\n        setEmail(userData.email || \"\");\n        setDisplayName(userData.display_name || userData.displayName || \"\");\n        setUsername(userData.username || \"\");\n      }\n    } catch (error: unknown) {\n      // Don't show error if request was aborted\n      if (isCanceledError(error)) {\n        return;\n      }\n      \n      // Don't redirect here - let the axios interceptor handle auth errors\n      // Only redirect if it's a network error or other non-auth error\n      if (isMounted.current && !error.isAuthError?.()) {\n        toast({\n          title: 'Error',\n          description: 'Failed to load user data. Please try again.',\n          variant: 'destructive',\n        });\n      }\n    }\n  }, [navigate, toast]);\n\n  useEffect(() => {\n    checkUser();\n  }, [checkUser]);\n\n  const handleUpdateProfile = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      if (!user) throw new Error(\"No user logged in\");\n\n      if (displayName.length > 50) {\n        throw new Error(\"Display name must be 50 characters or less\");\n      }\n\n      if (username && username.length > 30) {\n        throw new Error(\"Username must be 30 characters or less\");\n      }\n\n      // Canonical v1: PUT /api/v1/auth/me\n      try {\n        await authService.updateProfile({ \n          display_name: displayName,\n          username: username || undefined\n        });\n      } catch (e: unknown) {\n        if (typeof e?.isNotFound === 'function' && e.isNotFound()) {\n          throw new Error('Backend does not implement profile update endpoint yet (PUT /api/v1/auth/me).');\n        }\n        throw e;\n      }\n\n      // Refresh user state so UI reflects persisted value\n      await checkUser();\n\n      toast({\n        title: \"Success\",\n        description: \"Profile updated successfully!\",\n      });\n    } catch (error: unknown) {\n      toast({\n        title: \"Error\",\n        description: getErrorMessage(error, \"Failed to update profile\"),\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChangePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      if (!currentPassword) {\n        throw new Error(\"Please enter your current password\");\n      }\n\n      if (newPassword !== confirmPassword) {\n        throw new Error(\"New passwords don't match\");\n      }\n\n      if (newPassword.length < 6) {\n        throw new Error(\"Password must be at least 6 characters\");\n      }\n\n      await authService.changePassword({\n        current_password: currentPassword,\n        new_password: newPassword,\n      });\n\n      toast({\n        title: \"Success\",\n        description: \"Password changed successfully!\",\n      });\n\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n    } catch (error: unknown) {\n      toast({\n        title: \"Error\",\n        description: getErrorMessage(error, \"Failed to change password\"),\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    await authService.logout();\n    toast({\n      title: \"Logged out\",\n      description: \"You have been logged out successfully\",\n    });\n    navigate(\"/\");\n  };\n\n  const handleDeleteAccount = async () => {\n    if (!deletePassword.trim()) {\n      toast({\n        title: t('common.error'),\n        description: t('profile.enterPasswordToConfirm'),\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const result = await userService.deleteAccount(deletePassword);\n      \n      toast({\n        title: t('profile.accountDeleted'),\n        description: result.message || t('profile.accountDeletedDesc'),\n      });\n\n      // Logout and redirect to home\n      await authService.logout();\n      navigate(\"/\");\n    } catch (error: unknown) {\n      toast({\n        title: t('common.error'),\n        description: getErrorMessage(error, \"Failed to delete account\"),\n        variant: \"destructive\",\n      });\n    } finally {\n      setLoading(false);\n      setDeletePassword(\"\");\n      setShowDeleteDialog(false);\n    }\n  };\n\n  if (!user) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      <Navigation />\n      \n      {/* Hero Section */}\n      <section className=\"relative min-h-[35vh] flex items-center justify-center overflow-hidden pt-28 pb-8\">\n        <NeonAbstractions />\n        \n        <div className=\"container mx-auto px-6 relative z-10 text-center\">\n          <div className=\"inline-flex items-center gap-2 px-5 py-2.5 glass-card-strong rounded-full mb-6\">\n            <Sparkles className=\"w-3 h-3\" />\n            <span className=\"text-xs text-foreground/80 tracking-wider uppercase font-medium\">\n              Account Settings\n            </span>\n          </div>\n          \n          <h1 className=\"font-display text-4xl sm:text-5xl md:text-6xl font-bold mb-3 tracking-tight\">\n            {t('profile.myAccount')} <span className=\"neon-text\">{t('profile.title')}</span>\n          </h1>\n          \n          <p className=\"text-lg text-muted-foreground\">\n            {email}\n          </p>\n        </div>\n      </section>\n      \n      <main className=\"container mx-auto px-6 pb-16\">\n        <div className=\"max-w-2xl mx-auto\">\n          {/* Logout Button */}\n          <div className=\"flex justify-end mb-6\">\n            <Button \n              variant=\"outline\" \n              onClick={handleLogout}\n              className=\"rounded-full border-border/50 hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50\"\n            >\n              <LogOut className=\"w-4 h-4 mr-2\" />\n              {t('common.logout')}\n            </Button>\n          </div>\n\n          <Tabs defaultValue=\"profile\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-3 glass-card p-1 rounded-xl mb-8\">\n              <TabsTrigger \n                value=\"profile\"\n                className=\"data-[state=active]:bg-foreground data-[state=active]:text-background rounded-lg transition-all\"\n              >\n                <User className=\"w-4 h-4 mr-2\" />\n                {t('profile.profileInfo')}\n              </TabsTrigger>\n              <TabsTrigger \n                value=\"password\"\n                className=\"data-[state=active]:bg-foreground data-[state=active]:text-background rounded-lg transition-all\"\n              >\n                <Lock className=\"w-4 h-4 mr-2\" />\n                {t('profile.changePassword')}\n              </TabsTrigger>\n              <TabsTrigger \n                value=\"danger\"\n                className=\"data-[state=active]:bg-destructive data-[state=active]:text-destructive-foreground rounded-lg transition-all\"\n              >\n                <Trash2 className=\"w-4 h-4 mr-2\" />\n                {t('profile.dangerZone')}\n              </TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"profile\">\n              <div className=\"p-8 rounded-2xl glass-card\">\n                <h2 className=\"font-display text-xl font-semibold mb-6\">Profile Information</h2>\n                <form onSubmit={handleUpdateProfile} className=\"space-y-6\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"email\" className=\"text-sm font-medium\">Email</Label>\n                    <Input\n                      id=\"email\"\n                      type=\"email\"\n                      value={email}\n                      disabled\n                      className=\"h-12 bg-card/30 border-border/30 rounded-xl text-muted-foreground\"\n                    />\n                    <p className=\"text-xs text-muted-foreground\">\n                      Email cannot be changed\n                    </p>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"displayName\" className=\"text-sm font-medium\">Display Name</Label>\n                    <Input\n                      id=\"displayName\"\n                      type=\"text\"\n                      value={displayName}\n                      onChange={(e) => setDisplayName(e.target.value)}\n                      placeholder=\"Enter your nickname\"\n                      maxLength={50}\n                      className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-foreground/30\"\n                    />\n                    <p className=\"text-xs text-muted-foreground\">\n                      This name will be displayed on your profile\n                    </p>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"username\" className=\"text-sm font-medium\">Username</Label>\n                    <Input\n                      id=\"username\"\n                      type=\"text\"\n                      value={username}\n                      onChange={(e) => setUsername(e.target.value)}\n                      placeholder=\"Enter your username\"\n                      maxLength={30}\n                      className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-foreground/30\"\n                    />\n                    <p className=\"text-xs text-muted-foreground\">\n                      Unique username for your account\n                    </p>\n                  </div>\n\n                  <Button \n                    type=\"submit\" \n                    disabled={loading}\n                    className=\"h-12 px-8 rounded-full bg-white text-black hover:bg-zinc-100\"\n                  >\n                    {loading ? \"Saving...\" : \"Save Changes\"}\n                  </Button>\n                </form>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"password\">\n              <div className=\"p-8 rounded-2xl glass-card\">\n                <h2 className=\"font-display text-xl font-semibold mb-6\">Change Password</h2>\n                <form onSubmit={handleChangePassword} className=\"space-y-6\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"currentPassword\" className=\"text-sm font-medium\">Current Password</Label>\n                    <Input\n                      id=\"currentPassword\"\n                      type=\"password\"\n                      value={currentPassword}\n                      onChange={(e) => setCurrentPassword(e.target.value)}\n                      placeholder=\"Enter current password\"\n                      required\n                      className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-foreground/30\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"newPassword\" className=\"text-sm font-medium\">New Password</Label>\n                    <Input\n                      id=\"newPassword\"\n                      type=\"password\"\n                      value={newPassword}\n                      onChange={(e) => setNewPassword(e.target.value)}\n                      placeholder=\"Enter new password\"\n                      required\n                      minLength={6}\n                      className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-foreground/30\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"confirmPassword\" className=\"text-sm font-medium\">Confirm New Password</Label>\n                    <Input\n                      id=\"confirmPassword\"\n                      type=\"password\"\n                      value={confirmPassword}\n                      onChange={(e) => setConfirmPassword(e.target.value)}\n                      placeholder=\"Confirm new password\"\n                      required\n                      minLength={6}\n                      className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-foreground/30\"\n                    />\n                  </div>\n\n                  <Button \n                    type=\"submit\" \n                    disabled={loading}\n                    className=\"h-12 px-8 rounded-full bg-white text-black hover:bg-zinc-100\"\n                  >\n                    {loading ? \"Changing...\" : \"Change Password\"}\n                  </Button>\n                </form>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"danger\">\n              <div className=\"p-8 rounded-2xl glass-card border border-destructive/20\">\n                <h2 className=\"font-display text-xl font-semibold mb-2 text-destructive\">{t('profile.deleteAccount')}</h2>\n                <p className=\"text-sm text-muted-foreground mb-6\">\n                  {t('profile.deleteWarning')}\n                </p>\n                \n                <AlertDialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n                  <AlertDialogTrigger asChild>\n                    <Button \n                      variant=\"destructive\"\n                      className=\"h-12 px-8 rounded-full\"\n                    >\n                      <Trash2 className=\"w-4 h-4 mr-2\" />\n                      {t('profile.deleteMyAccount')}\n                    </Button>\n                  </AlertDialogTrigger>\n                  <AlertDialogContent className=\"bg-zinc-900 border-destructive/20\">\n                    <AlertDialogHeader>\n                      <AlertDialogTitle className=\"text-destructive\">{t('profile.deleteConfirmTitle')}</AlertDialogTitle>\n                      <AlertDialogDescription className=\"text-muted-foreground\">\n                        {t('profile.deleteConfirmDesc')}\n                      </AlertDialogDescription>\n                    </AlertDialogHeader>\n                    \n                    <div className=\"space-y-2 my-4\">\n                      <Label htmlFor=\"deletePassword\" className=\"text-sm font-medium\">\n                        {t('profile.enterPasswordToConfirm')}\n                      </Label>\n                      <Input\n                        id=\"deletePassword\"\n                        type=\"password\"\n                        value={deletePassword}\n                        onChange={(e) => setDeletePassword(e.target.value)}\n                        placeholder={t('auth.password')}\n                        className=\"h-12 bg-card/50 border-border/50 rounded-xl focus-visible:ring-1 focus-visible:ring-destructive/30\"\n                      />\n                    </div>\n\n                    <AlertDialogFooter>\n                      <AlertDialogCancel className=\"rounded-full\">{t('common.cancel')}</AlertDialogCancel>\n                      <AlertDialogAction\n                        onClick={handleDeleteAccount}\n                        disabled={loading || !deletePassword.trim()}\n                        className=\"rounded-full bg-destructive hover:bg-destructive/90\"\n                      >\n                        {loading ? t('profile.deleting') : t('profile.deleteAccount')}\n                      </AlertDialogAction>\n                    </AlertDialogFooter>\n                  </AlertDialogContent>\n                </AlertDialog>\n              </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Profile;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\pages\\Stores.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used. Allowed unused vars must match /^_/u.","line":11,"column":18,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":28},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useStores' is defined but never used. Allowed unused vars must match /^_/u.","line":12,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":12,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Store' is defined but never used. Allowed unused vars must match /^_/u.","line":14,"column":15,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":20}],"suppressedMessages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'searchParams'. Either include it or remove the dependency array.","line":47,"column":6,"nodeType":"ArrayExpression","endLine":47,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [searchParams]","fix":{"range":[1977,1979],"text":"[searchParams]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useMemo, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport Navigation from \"@/components/layout/Navigation\";\nimport Footer from \"@/components/layout/Footer\";\nimport { NeonAbstractions } from \"@/components/NeonAbstractions\";\nimport { NoStoresFound, ErrorState } from \"@/components/common/EmptyState\";\nimport { StoreGridSkeleton } from \"@/components/common/SkeletonLoader\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Search, ArrowRight, ExternalLink, Star, Package, Send, Instagram } from \"lucide-react\";\nimport { useStores } from \"@/hooks/useApi\";\nimport { useStoresPageData } from \"@/hooks/useAggregatedData\";\nimport type { Store } from \"@/services/storeService\";\nimport { useSEO } from \"@/hooks/useSEO\";\n\nconst Stores = () => {\n  const navigate = useNavigate();\n  const { t } = useTranslation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  useSEO({\n    title: t('stores.seoTitle', 'Stores'),\n    description: t('stores.seoDescription', 'Browse stores and discover where to buy your favorite fashion items.'),\n    keywords: 'stores, brands, fashion stores, online shopping',\n    type: 'website',\n  });\n\n  // Server-driven pagination (no UI controls here yet; keep page 1)\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 24;\n\n  // Initialize page from URL\n  useEffect(() => {\n    const raw = searchParams.get('page');\n    const parsed = raw ? Number(raw) : NaN;\n    if (Number.isFinite(parsed) && parsed >= 1) {\n      setCurrentPage(Math.floor(parsed));\n    }\n\n    const initialSearch = searchParams.get('search');\n    if (typeof initialSearch === 'string' && initialSearch.trim() !== '') {\n      setSearchQuery(initialSearch);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Keep URL in sync with currentPage\n  useEffect(() => {\n    const next = new URLSearchParams(searchParams);\n    next.set('page', String(currentPage));\n\n    const trimmed = searchQuery.trim();\n    if (trimmed) next.set('search', trimmed);\n    else next.delete('search');\n\n    if (next.toString() !== searchParams.toString()) {\n      setSearchParams(next, { replace: true });\n    }\n  }, [currentPage, searchQuery, searchParams, setSearchParams]);\n\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [searchQuery]);\n\n  const storesQueryParams = useMemo(\n    () => ({\n      page: currentPage,\n      limit: itemsPerPage,\n      search: searchQuery || undefined,\n    }),\n    [currentPage, itemsPerPage, searchQuery]\n  );\n\n  // Use aggregated hook for better performance\n  const { data: pageData, isLoading: loading, isFetching, error } = useStoresPageData(storesQueryParams);\n  const storesData = pageData?.stores;\n  const pagination = pageData?.pagination;\n  \n  const stores = useMemo(() => {\n    if (!storesData) return [];\n    return Array.isArray(storesData) ? storesData : [];\n  }, [storesData]);\n\n  // Server already filters by search (keep list as-is to preserve meta consistency)\n  const filteredStores = stores;\n\n  return (\n    <div className=\"min-h-screen bg-black text-white font-sans\">\n      <Navigation />\n      \n      {/* Hero Section */}\n      <section className=\"relative min-h-[70vh] flex items-center justify-center overflow-hidden pt-28\">\n        <NeonAbstractions />\n        \n        <div className=\"container mx-auto px-4 sm:px-6 relative z-10 text-center\">\n          <h1 className=\"font-display text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold mb-6 tracking-tight animate-fade-in-up\" style={{ animationDelay: '0.1s' }}>\n            <span className=\"block\">{t('stores.discover')}</span>\n            <span className=\"block neon-text\">{t('stores.premium')}</span>\n            <span className=\"block text-gradient\">{t('stores.storesTitle')}</span>\n          </h1>\n\n          <p className=\"text-lg sm:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 leading-relaxed animate-fade-in-up\" style={{ animationDelay: '0.2s' }}>\n            {t('stores.description')}\n          </p>\n\n          {/* Search */}\n          <div className=\"max-w-lg mx-auto animate-fade-in-up\" style={{ animationDelay: '0.3s' }}>\n            <div className=\"relative group\">\n              <div className=\"absolute -inset-0.5 bg-gradient-to-r from-foreground/20 to-foreground/10 rounded-full blur opacity-0 md:group-hover:opacity-30 transition duration-500\"></div>\n              <div className=\"relative flex items-center\">\n                <Search className=\"absolute left-4 w-5 h-5 text-muted-foreground group-focus-within:text-foreground transition-colors\" />\n                <Input\n                  type=\"text\"\n                  placeholder={t('stores.searchPlaceholder')}\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full pl-12 pr-4 h-14 bg-card/50 border-border/50 rounded-full text-foreground placeholder:text-muted-foreground focus-visible:ring-1 focus-visible:ring-foreground/30 focus-visible:border-foreground/30 transition-all backdrop-blur-sm\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Stats */}\n          <div className=\"flex justify-center gap-12 mt-16 animate-fade-in-up\" style={{ animationDelay: '0.4s' }}>\n            <div className=\"text-center\">\n              <p className=\"font-display text-3xl sm:text-4xl font-bold mb-1\">{stores.length}+</p>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">Stores</p>\n            </div>\n            <div className=\"text-center\">\n              <p className=\"font-display text-3xl sm:text-4xl font-bold mb-1\">{stores.filter(s => s.is_recommended).length}</p>\n              <p className=\"text-xs text-muted-foreground uppercase tracking-wider\">{t('common.recommended')}</p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Stores Grid */}\n      <section className=\"py-24 relative\">\n        <div className=\"container mx-auto px-4 sm:px-6\" id=\"main-content\">\n          {loading ? (\n            <StoreGridSkeleton count={9} />\n          ) : error ? (\n            <ErrorState \n              title=\"Failed to load stores\"\n              description=\"We couldn't load the stores. Please check your connection and try again.\"\n              onRetry={() => window.location.reload()}\n              technicalDetails={error instanceof Error ? error.message : String(error)}\n            />\n          ) : filteredStores.length === 0 ? (\n            searchQuery ? (\n              <NoStoresFound \n                hasSearch={true}\n                onClearSearch={() => setSearchQuery('')}\n              />\n            ) : (\n              <NoStoresFound hasSearch={false} />\n            )\n          ) : (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8\">\n              {filteredStores.map((store, index) => (\n                <div\n                  key={store.id}\n                  className=\"group relative animate-fade-in-up\"\n                  style={{ animationDelay: `${index * 0.05}s` }}\n                >\n                  {/* Store Card */}\n                  <div className=\"relative h-80 md:h-80 rounded-2xl overflow-hidden border border-border/50 bg-card/40 backdrop-blur-sm transition-all duration-500 md:hover:border-foreground/30 md:hover:shadow-[0_0_40px_-10px_rgba(255,255,255,0.2)] md:hover:-translate-y-1\">\n                    {/* Background gradient */}\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 md:group-hover:opacity-100 transition-opacity duration-500\" />\n                    \n                    {/* Content */}\n                    <div className=\"relative h-full flex flex-col justify-between p-6 md:p-8\">\n                      {/* Header */}\n                      <div>\n                        <div className=\"flex items-start justify-between mb-6\">\n                          <div className=\"flex-1 flex items-start gap-4\">\n                            {/* Store Logo */}\n                            {store.logo_url && (\n                              <div className=\"w-16 h-16 rounded-xl overflow-hidden bg-white/5 flex-shrink-0 border border-border/50\">\n                                <img \n                                  src={store.logo_url} \n                                  alt={store.name}\n                                  className=\"w-full h-full object-cover\"\n                                  loading=\"lazy\"\n                                  decoding=\"async\"\n                                />\n                              </div>\n                            )}\n                            \n                            <div className=\"flex-1\">\n                              <h3 className=\"font-display text-2xl font-bold mb-2 md:group-hover:text-foreground/80 transition-colors\">\n                                {store.name}\n                              </h3>\n                              {store.is_recommended && (\n                                <div className=\"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-white/10 border border-white/20 text-white\">\n                                  <Star className=\"w-3 h-3 fill-current\" />\n                                  <span className=\"text-xs font-medium\">{t('stores.recommended')}</span>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Stats */}\n                        <div className=\"space-y-2 mb-6\">\n                          {store.product_count !== undefined && (\n                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                              <Package className=\"w-4 h-4\" />\n                              <span>{store.product_count} {t('stores.products')}</span>\n                            </div>\n                          )}\n                          {store.brand_count !== undefined && store.brand_count > 0 && (\n                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                              <Package className=\"w-4 h-4\" />\n                              <span>{store.brand_count} {t(store.brand_count === 1 ? 'stores.brand' : 'stores.brands')}</span>\n                            </div>\n                          )}\n                        </div>\n\n                        {/* Shipping Info */}\n                        {store.shipping_info && (\n                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\n                            {store.shipping_info}\n                          </p>\n                        )}\n                      </div>\n\n                      {/* Footer */}\n                      <div className=\"flex items-center justify-between\">\n                        {/* Social Links */}\n                        <div className=\"flex gap-2\">\n                          {store.telegram_url && (\n                            <a\n                              href={store.telegram_url}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"w-9 h-9 rounded-full bg-card md:hover:bg-foreground md:hover:text-background active:bg-foreground active:text-background flex items-center justify-center transition-all\"\n                              onClick={(e) => e.stopPropagation()}\n                            >\n                              <Send className=\"w-4 h-4\" />\n                            </a>\n                          )}\n                          {store.instagram_url && (\n                            <a\n                              href={store.instagram_url}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"w-9 h-9 rounded-full bg-card md:hover:bg-foreground md:hover:text-background active:bg-foreground active:text-background flex items-center justify-center transition-all\"\n                              onClick={(e) => e.stopPropagation()}\n                            >\n                              <Instagram className=\"w-4 h-4\" />\n                            </a>\n                          )}\n                        </div>\n\n                        {/* View Button */}\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"opacity-0 md:group-hover:opacity-100 transition-opacity\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            navigate(`/products?store_id=${store.id}`);\n                          }}\n                        >\n                          {t('stores.viewProducts')}\n                          <ExternalLink className=\"ml-2 w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n\n                    {/* Hover glow effect */}\n                    <div className=\"absolute inset-0 opacity-0 md:group-hover:opacity-100 transition-opacity duration-500 pointer-events-none\">\n                      <div className=\"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-foreground/20 to-transparent\" />\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Pagination */}\n          {!!pagination && pagination.totalPages > 1 && (\n            <div className=\"flex items-center justify-center gap-4 mt-12\">\n              <Button\n                variant=\"outline\"\n                onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                disabled={!pagination.hasPrev || isFetching}\n              >\n                Prev\n              </Button>\n              <span className=\"text-sm text-muted-foreground\">\n                Page {pagination.page} of {pagination.totalPages}\n              </span>\n              <Button\n                variant=\"outline\"\n                onClick={() => setCurrentPage((p) => p + 1)}\n                disabled={!pagination.hasNext || isFetching}\n              >\n                Next\n              </Button>\n            </div>\n          )}\n        </div>\n      </section>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Stores;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\api\\brands.api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\api\\errorHandler.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2361,2364],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2361,2364],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":95,"column":31,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":95,"endColumn":34,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2405,2408],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2405,2408],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":96,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":96,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2456,2459],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2456,2459],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":103,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2625,2628],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2625,2628],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":104,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":104,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2668,2671],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2668,2671],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2783,2786],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2783,2786],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2823,2826],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2823,2826],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Centralized API Error Handling\n * Provides type-safe error handling for all API operations\n */\n\nimport axios, { AxiosError } from 'axios';\nimport type { ApiResponse } from '@/types';\n\n/**\n * Custom API Error class with enhanced type safety\n */\nexport class ApiError extends Error {\n  constructor(\n    message: string,\n    public status?: number,\n    public code?: string,\n    public errorCode?: string\n  ) {\n    super(message);\n    this.name = 'ApiError';\n    \n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ApiError);\n    }\n  }\n  \n  /**\n   * Check if error is an authentication error (401 or 403)\n   */\n  isAuthError(): boolean {\n    return this.status === 401 || this.status === 403;\n  }\n  \n  /**\n   * Check if error is a not found error (404)\n   */\n  isNotFound(): boolean {\n    return this.status === 404;\n  }\n  \n  /**\n   * Check if error is a server error (5xx)\n   */\n  isServerError(): boolean {\n    return this.status !== undefined && this.status >= 500;\n  }\n  \n  /**\n   * Check if error is a client error (4xx)\n   */\n  isClientError(): boolean {\n    return this.status !== undefined && this.status >= 400 && this.status < 500;\n  }\n  \n  /**\n   * Check if error is a network error (no response)\n   */\n  isNetworkError(): boolean {\n    return this.status === undefined && this.code === 'ERR_NETWORK';\n  }\n  \n  /**\n   * Get user-friendly error message\n   */\n  getUserMessage(): string {\n    if (this.isNetworkError()) {\n      return 'Network error. Please check your internet connection.';\n    }\n    \n    if (this.isServerError()) {\n      return 'Server error. Please try again later.';\n    }\n    \n    return this.message || 'An unexpected error occurred';\n  }\n}\n\n/**\n * Handle API errors and convert them to ApiError instances\n */\nexport const handleApiError = (error: unknown): ApiError => {\n  // Handle Axios errors\n  if (axios.isAxiosError(error)) {\n    const axiosError = error as AxiosError<ApiResponse>;\n    const status = axiosError.response?.status;\n    const responseData = axiosError.response?.data;\n\n    // v1 error envelope support: { error: { code, message, details?, i18n_key? } }\n    const v1Error =\n      responseData &&\n      typeof responseData === 'object' &&\n      'error' in responseData &&\n      (responseData as any).error &&\n      typeof (responseData as any).error === 'object'\n        ? (responseData as any).error\n        : undefined;\n    \n    // Extract error_code (for i18n)\n    const errorCode =\n      v1Error?.i18n_key ||\n      v1Error?.code ||\n      (responseData as any)?.error_code ||\n      (responseData as any)?.code;\n    \n    // Extract error message\n    const message =\n      v1Error?.message ||\n      (responseData as any)?.message ||\n      (responseData as any)?.error ||\n      axiosError.message ||\n      'An unexpected error occurred';\n    \n    return new ApiError(\n      message,\n      status,\n      axiosError.code,\n      errorCode\n    );\n  }\n  \n  // Handle standard Error objects\n  if (error instanceof Error) {\n    return new ApiError(error.message);\n  }\n  \n  // Handle unknown errors\n  return new ApiError('An unexpected error occurred');\n};\n\n/**\n * Type guard to check if error is an ApiError\n */\nexport const isApiError = (error: unknown): error is ApiError => {\n  return error instanceof ApiError;\n};\n\n/**\n * Extract error message from any error type\n */\nexport const getErrorMessage = (error: unknown): string => {\n  if (isApiError(error)) {\n    return error.getUserMessage();\n  }\n  \n  if (error instanceof Error) {\n    return error.message;\n  }\n  \n  if (typeof error === 'string') {\n    return error;\n  }\n  \n  return 'An unexpected error occurred';\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\api\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\api\\products.api.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":25,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":25,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[567,570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[567,570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1275,1278],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1275,1278],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":62,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1690,1693],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1690,1693],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Products API Service\n * Handles all product-related API calls\n */\n\nimport { api } from '../api';\nimport type { Product, ProductsResponse } from '@/types';\n\nexport interface ProductFilters {\n  page?: number;\n  limit?: number;\n  search?: string;\n  color?: string;\n  category?: string;\n  sort?: string;\n}\n\nexport const productsApi = {\n  /**\n   * Get all products with optional filters\n   */\n  getAll: async (filters?: ProductFilters): Promise<ProductsResponse> => {\n    try {\n      const response = await api.get('/items', { params: filters });\n      const body: any = response.data;\n      // Canonical v1: { items, meta }. Legacy: { products, total }.\n      if (Array.isArray(body?.items)) {\n        return {\n          products: body.items,\n          total: body?.meta?.totalItems ?? body?.meta?.total ?? body.items.length,\n          page: body?.meta?.currentPage,\n          limit: body?.meta?.itemsPerPage,\n        } as ProductsResponse;\n      }\n      return body;\n    } catch (error) {\n      console.error('[Products API] Failed to fetch products:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * Get a single product by ID\n   */\n  getById: async (id: string): Promise<Product> => {\n    try {\n      const response = await api.get(`/items/${id}`);\n      const body: any = response.data;\n      return body?.item ?? body?.product ?? body;\n    } catch (error) {\n      console.error(`[Products API] Failed to fetch product ${id}:`, error);\n      throw error;\n    }\n  },\n\n  /**\n   * Get related products for a product\n   */\n  getRelated: async (productId: string): Promise<Product[]> => {\n    try {\n      const response = await api.get(`/pages/product/${productId}`);\n      const body: any = response.data;\n      const related = body?.item?.relatedProducts;\n      return Array.isArray(related) ? related : [];\n    } catch (error) {\n      console.error(`[Products API] Failed to fetch related products for ${productId}:`, error);\n      throw error;\n    }\n  },\n\n  /**\n   * Search products\n   */\n  search: async (query: string, filters?: ProductFilters): Promise<ProductsResponse> => {\n    try {\n      const response = await api.get('/items/search', {\n        params: { q: query, ...filters },\n      });\n      return response.data;\n    } catch (error) {\n      console.error(`[Products API] Failed to search products:`, error);\n      throw error;\n    }\n  },\n\n  /**\n   * Get products by category\n   */\n  getByCategory: async (category: string, filters?: ProductFilters): Promise<ProductsResponse> => {\n    try {\n      const response = await api.get(`/items/category/${category}`, { params: filters });\n      return response.data;\n    } catch (error) {\n      console.error(`[Products API] Failed to fetch products for category ${category}:`, error);\n      throw error;\n    }\n  },\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\api\\seo.api.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleApiError' is defined but never used. Allowed unused vars must match /^_/u.","line":7,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * SEO API Service\r\n * Handles dynamic SEO data fetching from backend\r\n */\r\n\r\nimport api from '../api';\r\nimport { handleApiError } from './errorHandler';\r\nimport i18n from '@/i18n';\r\n\r\nexport interface SEOData {\r\n  meta_title: string;\r\n  meta_description: string;\r\n  canonical_url?: string;\r\n  h1_title?: string;\r\n  content_text?: string;\r\n  keywords?: string;\r\n}\r\n\r\nexport interface SEOResponse {\r\n  success: boolean;\r\n  item: SEOData;\r\n}\r\n\r\n/**\r\n * Get current language for API requests\r\n */\r\nconst getCurrentLanguage = (): string => {\r\n  return i18n.language || 'en';\r\n};\r\n\r\n/**\r\n * SEO API methods\r\n */\r\nexport const seoApi = {\r\n  /**\r\n   * Get SEO data for homepage\r\n   */\r\n  getHomeSEO: async (): Promise<SEOData> => {\r\n    try {\r\n      const lang = getCurrentLanguage();\r\n      const response = await api.get<SEOResponse>('/seo/home/home', {\r\n        params: { lang }\r\n      });\r\n      return response.data.item;\r\n    } catch (error) {\r\n      console.error('[SEO API] Failed to fetch home SEO:', error);\r\n      // Return default SEO if API fails\r\n      return {\r\n        meta_title: 'Wearsearch - Discover Exceptional Fashion',\r\n        meta_description: 'Discover and shop the latest fashion trends. Find clothing, footwear, and accessories from top stores with worldwide shipping.',\r\n        h1_title: 'Discover Exceptional Fashion',\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get SEO data for category page\r\n   */\r\n  getCategorySEO: async (categorySlug: string): Promise<SEOData> => {\r\n    try {\r\n      const lang = getCurrentLanguage();\r\n      const response = await api.get<SEOResponse>(`/seo/category/${categorySlug}`, {\r\n        params: { lang }\r\n      });\r\n      return response.data.item;\r\n    } catch (error) {\r\n      console.error(`[SEO API] Failed to fetch category SEO for ${categorySlug}:`, error);\r\n      // Return default SEO if API fails\r\n      return {\r\n        meta_title: `${categorySlug} - Wearsearch`,\r\n        meta_description: `Browse our collection of ${categorySlug}. Find the perfect items for your style.`,\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get SEO data for color page\r\n   */\r\n  getColorSEO: async (colorSlug: string): Promise<SEOData> => {\r\n    try {\r\n      const lang = getCurrentLanguage();\r\n      const response = await api.get<SEOResponse>(`/seo/color/${colorSlug}`, {\r\n        params: { lang }\r\n      });\r\n      return response.data.item;\r\n    } catch (error) {\r\n      console.error(`[SEO API] Failed to fetch color SEO for ${colorSlug}:`, error);\r\n      // Return default SEO if API fails\r\n      return {\r\n        meta_title: `${colorSlug} Products - Wearsearch`,\r\n        meta_description: `Shop ${colorSlug} fashion items. Browse our curated collection of ${colorSlug} clothing and accessories.`,\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get SEO data for product page\r\n   */\r\n  getProductSEO: async (productId: string): Promise<SEOData> => {\r\n    try {\r\n      const lang = getCurrentLanguage();\r\n      const response = await api.get<SEOResponse>(`/seo/product/${productId}`, {\r\n        params: { lang }\r\n      });\r\n      return response.data.item;\r\n    } catch (error) {\r\n      console.error(`[SEO API] Failed to fetch product SEO for ${productId}:`, error);\r\n      // Return default SEO if API fails\r\n      return {\r\n        meta_title: 'Product - Wearsearch',\r\n        meta_description: 'View product details, pricing, and availability from multiple stores.',\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get SEO data for store page\r\n   */\r\n  getStoreSEO: async (storeId: string): Promise<SEOData> => {\r\n    try {\r\n      const lang = getCurrentLanguage();\r\n      const response = await api.get<SEOResponse>(`/seo/store/${storeId}`, {\r\n        params: { lang }\r\n      });\r\n      return response.data.item;\r\n    } catch (error) {\r\n      console.error(`[SEO API] Failed to fetch store SEO for ${storeId}:`, error);\r\n      // Return default SEO if API fails\r\n      return {\r\n        meta_title: 'Store - Wearsearch',\r\n        meta_description: 'Browse products from this store and discover their collection.',\r\n      };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get SEO data for brand page\r\n   */\r\n  getBrandSEO: async (brandId: string): Promise<SEOData> => {\r\n    try {\r\n      const lang = getCurrentLanguage();\r\n      const response = await api.get<SEOResponse>(`/seo/brand/${brandId}`, {\r\n        params: { lang }\r\n      });\r\n      return response.data.item;\r\n    } catch (error) {\r\n      console.error(`[SEO API] Failed to fetch brand SEO for ${brandId}:`, error);\r\n      // Return default SEO if API fails\r\n      return {\r\n        meta_title: 'Brand - Wearsearch',\r\n        meta_description: 'Discover products from this brand and explore their collection.',\r\n      };\r\n    }\r\n  },\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\api\\stores.api.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Product' is defined but never used. Allowed unused vars must match /^_/u.","line":7,"column":38,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Stores API Service\n * Handles all store-related API calls\n */\n\nimport { api } from '../api';\nimport type { Store, StoresResponse, Product, ProductsResponse } from '@/types';\n\nexport interface StoreProductsParams {\n  category?: string;\n  page?: number;\n  limit?: number;\n}\n\nexport const storesApi = {\n  /**\n   * Get all stores\n   */\n  getAll: async (): Promise<StoresResponse> => {\n    try {\n      const response = await api.get('/stores');\n      return response.data;\n    } catch (error) {\n      console.error('[Stores API] Failed to fetch stores:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * Get a single store by ID (UUID)\n   */\n  getById: async (id: string): Promise<Store> => {\n    try {\n      const response = await api.get(`/stores/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error(`[Stores API] Failed to fetch store ${id}:`, error);\n      throw error;\n    }\n  },\n\n  /**\n   * Get products from a specific store\n   * @param storeId - Store UUID (not slug!)\n   * @param params - Optional filters (category, page, limit)\n   */\n  getProducts: async (storeId: string, params?: StoreProductsParams): Promise<ProductsResponse> => {\n    try {\n      const response = await api.get(`/stores/${storeId}/products`, { params });\n      return response.data;\n    } catch (error) {\n      console.error(`[Stores API] Failed to fetch products for store ${storeId}:`, error);\n      throw error;\n    }\n  },\n\n  /**\n   * Admin: Create a new store\n   */\n  create: async (storeData: Partial<Store>): Promise<Store> => {\n    try {\n      const response = await api.post('/admin/stores', storeData);\n      return response.data;\n    } catch (error) {\n      console.error('[Stores API] Failed to create store:', error);\n      throw error;\n    }\n  },\n\n  /**\n   * Admin: Update a store\n   */\n  update: async (id: string, storeData: Partial<Store>): Promise<Store> => {\n    try {\n      const response = await api.put(`/admin/stores/${id}`, storeData);\n      return response.data;\n    } catch (error) {\n      console.error(`[Stores API] Failed to update store ${id}:`, error);\n      throw error;\n    }\n  },\n\n  /**\n   * Admin: Delete a store\n   */\n  delete: async (id: string): Promise<void> => {\n    try {\n      await api.delete(`/admin/stores/${id}`);\n    } catch (error) {\n      console.error(`[Stores API] Failed to delete store ${id}:`, error);\n      throw error;\n    }\n  },\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\authService.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'getErrorMessage' is defined but never used. Allowed unused vars must match /^_/u.","line":9,"column":10,"nodeType":null,"messageId":"unusedVar","endLine":9,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":30,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":33,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[960,963],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[960,963],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":27,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":27,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[986,989],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[986,989],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":167,"column":32,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":167,"endColumn":35,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5298,5301],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5298,5301],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":167,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":167,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5324,5327],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5324,5327],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":230,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":230,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7286,7289],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7286,7289],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used. Allowed unused caught errors must match /^_/u.","line":277,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":277,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'token' is defined but never used. Allowed unused args must match /^_/u.","line":287,"column":28,"nodeType":null,"messageId":"unusedVar","endLine":287,"endColumn":33},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":309,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":309,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9567,9570],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9567,9570],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Authentication Service\n * Refactored to use unified API and auth storage\n */\n\nimport { api, apiLegacy, handleApiError } from './api';\nimport { setAuth, clearAuth, isAuthenticated } from '@/utils/authStorage';\nimport { getValidGuestFavorites, clearGuestFavorites } from './guestFavorites';\nimport { getErrorMessage } from '@/utils/errorTranslation';\nimport { logAuthError } from './logger';\nimport type { User, LoginCredentials, RegisterData, AuthResponse } from '@/types';\n\nconst ENDPOINTS = {\n  LOGIN: '/auth/login',\n  REGISTER: '/auth/register',\n  LOGOUT: '/auth/logout',\n  ME: '/auth/me', // GET for current user, PUT for profile update\n  FORGOT_PASSWORD: '/auth/forgot-password',\n  RESET_PASSWORD: '/auth/reset-password',\n  CHANGE_PASSWORD: '/auth/password',\n};\n\nconst ENABLE_LEGACY_FALLBACK = import.meta.env.VITE_ENABLE_LEGACY_FALLBACK === 'true';\n\nexport const authService = {\n  isNotFound(error: unknown): boolean {\n    const status = (error as any)?.status ?? (error as any)?.response?.status;\n    return status === 404;\n  },\n\n  /**\n   * Login user with email/username and password\n   */\n  async login(credentials: LoginCredentials): Promise<AuthResponse> {\n    try {\n      console.log('ðŸ” Attempting login...');\n      const response = await api.post(ENDPOINTS.LOGIN, credentials);\n      const data = response.data;\n      console.log('âœ… Login response received:', { \n        hasToken: !!(data.access_token || data.token),\n        hasUser: !!data.user,\n        userId: data.user?.id \n      });\n\n      // Store auth token\n      if (data.access_token || data.token) {\n        const token = data.access_token || data.token;\n        const userId = data.user?.id;\n        const expiresIn = data.expires_in;\n        const expiresAt = expiresIn ? Date.now() + expiresIn * 1000 : undefined;\n\n        console.log('ðŸ’¾ Storing auth data:', { \n          tokenLength: token.length,\n          userId,\n          expiresIn,\n          expiresAt: expiresAt ? new Date(expiresAt).toISOString() : 'no expiration'\n        });\n\n        setAuth(token, userId, expiresAt);\n        \n        // Store user data for profile display\n        if (data.user) {\n          localStorage.setItem('user', JSON.stringify(data.user));\n        }\n\n        // Sync guest favorites after successful login\n        await this.syncGuestFavorites(token);\n        \n        console.log('âœ… Login completed successfully');\n      } else {\n        console.error('âŒ No token received from login response');\n      }\n\n      return data;\n    } catch (error) {\n      if (ENABLE_LEGACY_FALLBACK && this.isNotFound(error)) {\n        try {\n          console.warn('âš ï¸ v1 login route not found, falling back to legacy /api');\n          const legacyResponse = await apiLegacy.post(ENDPOINTS.LOGIN, credentials);\n          return legacyResponse.data;\n        } catch (legacyError) {\n          console.error('âŒ Legacy login failed:', legacyError);\n          const legacyApiError = handleApiError(legacyError);\n          throw new Error(legacyApiError.message);\n        }\n      }\n\n      console.error('âŒ Login failed:', error);\n      const apiError = handleApiError(error);\n      throw new Error(apiError.message);\n    }\n  },\n\n  /**\n   * Register new user\n   */\n  async register(registerData: RegisterData): Promise<AuthResponse> {\n    try {\n      const response = await api.post(ENDPOINTS.REGISTER, registerData);\n      const data = response.data;\n\n      // Store auth token\n      if (data.access_token || data.token) {\n        const token = data.access_token || data.token;\n        const userId = data.user?.id;\n        const expiresIn = data.expires_in;\n        const expiresAt = expiresIn ? Date.now() + expiresIn * 1000 : undefined;\n\n        setAuth(token, userId, expiresAt);\n        \n        // Store user data for profile display\n\n        // Sync guest favorites after successful registration\n        await this.syncGuestFavorites(token);\n        if (data.user) {\n          localStorage.setItem('user', JSON.stringify(data.user));\n        }\n      }\n\n      return data;\n    } catch (error) {\n      if (ENABLE_LEGACY_FALLBACK && this.isNotFound(error)) {\n        try {\n          console.warn('âš ï¸ v1 register route not found, falling back to legacy /api');\n          const legacyResponse = await apiLegacy.post(ENDPOINTS.REGISTER, registerData);\n          return legacyResponse.data;\n        } catch (legacyError) {\n          const legacyApiError = handleApiError(legacyError);\n          throw new Error(legacyApiError.message);\n        }\n      }\n\n      const apiError = handleApiError(error);\n      throw new Error(apiError.message);\n    }\n  },\n\n  /**\n   * Logout user\n   */\n  async logout(): Promise<void> {\n    try {\n      await api.post(ENDPOINTS.LOGOUT);\n    } catch (error) {\n      if (ENABLE_LEGACY_FALLBACK && this.isNotFound(error)) {\n        try {\n          await apiLegacy.post(ENDPOINTS.LOGOUT);\n          return;\n        } catch (legacyError) {\n          logAuthError(legacyError as Error, 'LOGOUT');\n        }\n      }\n      logAuthError(error as Error, 'LOGOUT');\n    } finally {\n      clearAuth();\n    }\n  },\n\n  /**\n   * Get current user\n   */\n  async getCurrentUser(): Promise<User> {\n    try {\n      const response = await api.get(ENDPOINTS.ME);\n      return response.data;\n    } catch (error) {\n      const status = (error as any)?.status ?? (error as any)?.response?.status;\n      if (ENABLE_LEGACY_FALLBACK && status === 404) {\n        try {\n          const legacyResponse = await apiLegacy.get(ENDPOINTS.ME);\n          return legacyResponse.data;\n        } catch (legacyError) {\n          const legacyApiError = handleApiError(legacyError);\n          throw new Error(legacyApiError.message);\n        }\n      }\n\n      const apiError = handleApiError(error);\n      throw new Error(apiError.message);\n    }\n  },\n\n  /**\n   * Request password reset\n   */\n  async forgotPassword(email: string): Promise<{ message: string }> {\n    try {\n      const response = await api.post(ENDPOINTS.FORGOT_PASSWORD, { email });\n      return response.data;\n    } catch (error) {\n      if (ENABLE_LEGACY_FALLBACK && this.isNotFound(error)) {\n        const legacyResponse = await apiLegacy.post(ENDPOINTS.FORGOT_PASSWORD, { email });\n        return legacyResponse.data;\n      }\n      const apiError = handleApiError(error);\n      throw new Error(apiError.message);\n    }\n  },\n\n  /**\n   * Reset password with token\n   */\n  async resetPassword(token: string, newPassword: string): Promise<{ message: string }> {\n    try {\n      const response = await api.post(ENDPOINTS.RESET_PASSWORD, {\n        token,\n        newPassword,\n      });\n      return response.data;\n    } catch (error) {\n      if (ENABLE_LEGACY_FALLBACK && this.isNotFound(error)) {\n        const legacyResponse = await apiLegacy.post(ENDPOINTS.RESET_PASSWORD, {\n          token,\n          newPassword,\n        });\n        return legacyResponse.data;\n      }\n      const apiError = handleApiError(error);\n      throw new Error(apiError.message);\n    }\n  },\n\n  /**\n   * Change password for authenticated user\n   */\n  async changePassword(data: { current_password: string; new_password: string }): Promise<{ success: boolean; message: string }> {\n    try {\n      const response = await api.put(ENDPOINTS.CHANGE_PASSWORD, data);\n      return response.data;\n    } catch (error: any) {\n      // Handle specific password change errors\n      if (error.response?.data?.error) {\n        throw new Error(error.response.data.error);\n      }\n\n      if (ENABLE_LEGACY_FALLBACK && this.isNotFound(error)) {\n        const legacyResponse = await apiLegacy.put(ENDPOINTS.CHANGE_PASSWORD, data);\n        return legacyResponse.data;\n      }\n\n      const apiError = handleApiError(error);\n      throw new Error(apiError.message);\n    }\n  },\n\n  /**\n   * Update user profile (display_name, username)\n   * Canonical v1: PUT /api/v1/auth/me\n   */\n  async updateProfile(data: { display_name?: string; username?: string }): Promise<User> {\n    try {\n      // Canonical v1 endpoint: PUT /auth/me (not /auth/profile)\n      const response = await api.put(ENDPOINTS.ME, data);\n      const user = response.data.user || response.data;\n      \n      // Update cached user data\n      if (user) {\n        localStorage.setItem('user', JSON.stringify(user));\n        // Notify other components of auth change\n        window.dispatchEvent(new Event('authChange'));\n      }\n      \n      return user;\n    } catch (error) {\n      const apiError = handleApiError(error);\n      throw new Error(apiError.message);\n    }\n  },\n\n  /**\n   * Check if user is admin\n   */\n  async checkAdmin(): Promise<boolean> {\n    try {\n      const user = await this.getCurrentUser();\n      return user.role === 'admin';\n    } catch (error) {\n      return false;\n    }\n  },\n\n  /**\n\n  /**\n   * Sync guest favorites after login/register\n   */\n  async syncGuestFavorites(token: string): Promise<void> {\n    try {\n      // Get only valid UUID favorites\n      const guestFavorites = getValidGuestFavorites();\n      \n      // Skip if no guest favorites\n      if (guestFavorites.length === 0) {\n        console.log('â„¹ï¸ No guest favorites to sync');\n        return;\n      }\n\n      console.log(`ðŸ”„ Syncing ${guestFavorites.length} valid guest favorites...`);\n\n      const response = await api.post('/favorites/sync', { guestFavorites });\n      const result = response.data;\n\n      if (result.success !== false) {\n        console.log(`âœ… Synced ${result.added || 0} favorites. Total: ${result.total || 0}`);\n        \n        // Clear guest favorites after successful sync\n        clearGuestFavorites();\n      }\n    } catch (error: any) {\n      logAuthError(error, 'SYNC_GUEST_FAVORITES');\n      \n      // Show detailed error message\n      if (error.response?.data?.error) {\n        console.error('Error details:', error.response.data.error);\n      }\n      \n      // Keep guest favorites in localStorage for retry - don't clear on error\n    }\n  },\n\n  /**\n   * Check if user is authenticated (synchronous)\n   */\n  isAuthenticated,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\endpoints.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\guestFavorites.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\logger.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\productService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":81,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1772,1775],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1772,1775],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":81,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1795,1798],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1795,1798],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":91,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2061,2064],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2061,2064],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":93,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":93,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2116,2119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2116,2119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":94,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":94,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2187,2190],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2187,2190],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":160,"column":36,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":160,"endColumn":39,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3826,3829],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3826,3829],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":166,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":166,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4006,4009],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4006,4009],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":166,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":166,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4029,4032],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4029,4032],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":176,"column":57,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":176,"endColumn":60,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4290,4293],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4290,4293],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":182,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":182,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4473,4476],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4473,4476],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":182,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":182,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4496,4499],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4496,4499],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import api, { handleApiError } from './api';\nimport ENDPOINTS from './endpoints';\nimport { AxiosResponse } from 'axios';\n\n// Type definitions for products\nexport interface Product {\n  id: number;\n  name: string;\n  category: string;\n  price: string;\n  image?: string;        // Frontend field\n  image_url?: string;    // Backend field\n  images?: string[];\n  description: string;\n  stores?: Store[];\n  color: string;\n  type: string;\n  brand_id?: number;\n  brand?: string;\n  gender?: string;\n}\n\nexport interface Store {\n  name: string;\n  telegram?: string;\n  instagram?: string;\n  shipping: string;\n}\n\nexport interface ProductFilters {\n  category?: string;\n  type?: string;\n  color?: string;\n  minPrice?: number;\n  maxPrice?: number;\n  search?: string;\n}\n\nexport interface PaginationParams {\n  page?: number;\n  limit?: number;\n}\n\nexport interface ProductsResponse {\n  products: Product[];\n  total: number;\n  page: number;\n  totalPages: number;\n}\n\n// Product Service - handles all product-related API calls\nexport const productService = {\n  /**\n   * Get all products with optional filters and pagination\n   */\n  async getAllProducts(\n    filters?: ProductFilters,\n    pagination?: PaginationParams\n  ): Promise<ProductsResponse> {\n    try {\n      const response: AxiosResponse<ProductsResponse> = await api.get(\n        ENDPOINTS.PRODUCTS.LIST,\n        {\n          params: { ...filters, ...pagination },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Get a single product by ID\n   */\n  async getProductById(id: string | number): Promise<Product> {\n    try {\n      const response: AxiosResponse<Product> = await api.get(\n        ENDPOINTS.PRODUCTS.DETAIL(id)\n      );\n      const body: any = response.data as any;\n      return (body?.item ?? body?.product ?? body) as Product;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Get stores for a product (Admin/editor flows)\n   */\n  async getProductStores(id: string | number): Promise<any[]> {\n    try {\n      const response: AxiosResponse<any> = await api.get(ENDPOINTS.PRODUCTS.STORES(id));\n      const body: any = response.data;\n\n      if (Array.isArray(body)) return body;\n      if (Array.isArray(body?.stores)) return body.stores;\n      if (Array.isArray(body?.items)) return body.items;\n      if (Array.isArray(body?.data)) return body.data;\n      return [];\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Search products by query\n   */\n  async searchProducts(query: string, pagination?: PaginationParams): Promise<ProductsResponse> {\n    try {\n      const response: AxiosResponse<ProductsResponse> = await api.get(\n        ENDPOINTS.PRODUCTS.SEARCH,\n        {\n          params: { q: query, ...pagination },\n        }\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Get products by category\n   */\n  async getProductsByCategory(\n    category: string,\n    pagination?: PaginationParams\n  ): Promise<ProductsResponse> {\n    try {\n      const response: AxiosResponse<ProductsResponse> = await api.get(\n        ENDPOINTS.PRODUCTS.BY_CATEGORY(category),\n        {\n          params: pagination,\n        }\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Get all available categories\n   */\n  async getCategories(): Promise<string[]> {\n    try {\n      const response: AxiosResponse<string[]> = await api.get(\n        ENDPOINTS.PRODUCTS.CATEGORIES\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Create a new product (Admin only)\n   */\n  async createProduct(productData: any): Promise<Product> {\n    try {\n      const response: AxiosResponse<Product> = await api.post(\n        ENDPOINTS.PRODUCTS.CREATE,\n        productData\n      );\n      const body: any = response.data as any;\n      return (body?.item ?? body?.product ?? body) as Product;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Update an existing product (Admin only)\n   */\n  async updateProduct(id: string | number, productData: any): Promise<Product> {\n    try {\n      const response: AxiosResponse<Product> = await api.put(\n        ENDPOINTS.PRODUCTS.UPDATE(id),\n        productData\n      );\n      const body: any = response.data as any;\n      return (body?.item ?? body?.product ?? body) as Product;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Delete a product (Admin only)\n   */\n  async deleteProduct(id: string | number): Promise<{ message: string }> {\n    try {\n      const response: AxiosResponse<{ message: string }> = await api.delete(\n        ENDPOINTS.PRODUCTS.DELETE(id)\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n};\n\nexport default productService;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\storeService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\uploadService.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":48,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":48,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1203,1206],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1203,1206],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":89,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2350,2353],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2350,2353],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import api, { handleApiError } from './api';\nimport ENDPOINTS from './endpoints';\nimport { AxiosResponse } from 'axios';\n\n// Type definitions for file uploads\nexport interface UploadResponse {\n  url: string;\n  filename: string;\n  size: number;\n  mimetype: string;\n}\n\nexport interface MultipleUploadResponse {\n  files: UploadResponse[];\n}\n\n// Upload Service - handles file uploads\nexport const uploadService = {\n  /**\n   * Upload a single image file\n   */\n  async uploadImage(file: File): Promise<UploadResponse> {\n    try {\n      const formData = new FormData();\n      // Try 'image' field name (matches endpoint name)\n      formData.append('image', file);\n\n      console.log('ðŸ“¤ Uploading image:', {\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        endpoint: ENDPOINTS.UPLOAD.IMAGE,\n        fieldName: 'image'\n      });\n\n      const response: AxiosResponse<UploadResponse> = await api.post(\n        ENDPOINTS.UPLOAD.IMAGE,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n      \n      console.log('âœ… Upload successful:', response.data);\n      return response.data;\n    } catch (error: any) {\n      console.error('âŒ Upload failed:', error);\n      \n      // Extract proper error message\n      const apiError = handleApiError(error);\n      const errorMessage = typeof apiError === 'string' \n        ? apiError \n        : apiError.message || 'Upload failed';\n      \n      throw new Error(errorMessage);\n    }\n  },\n\n  /**\n   * Upload multiple image files\n   */\n  async uploadImages(files: File[]): Promise<MultipleUploadResponse> {\n    try {\n      const formData = new FormData();\n      files.forEach((file) => {\n        // Backend expects 'filePaths' field name for multiple files\n        formData.append('filePaths', file);\n      });\n\n      console.log('ðŸ“¤ Uploading multiple images:', {\n        count: files.length,\n        endpoint: ENDPOINTS.UPLOAD.IMAGES\n      });\n\n      const response: AxiosResponse<MultipleUploadResponse> = await api.post(\n        ENDPOINTS.UPLOAD.IMAGES,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n      \n      console.log('âœ… Multiple upload successful:', response.data);\n      return response.data;\n    } catch (error: any) {\n      console.error('âŒ Multiple upload failed:', error);\n      \n      // Extract proper error message\n      const apiError = handleApiError(error);\n      const errorMessage = typeof apiError === 'string' \n        ? apiError \n        : apiError.message || 'Upload failed';\n      \n      throw new Error(errorMessage);\n    }\n  },\n\n  /**\n   * Validate image file before upload\n   */\n  validateImage(file: File): { valid: boolean; error?: string } {\n    const maxSize = 5 * 1024 * 1024; // 5MB\n    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif', 'image/webp'];\n\n    if (!allowedTypes.includes(file.type)) {\n      return {\n        valid: false,\n        error: 'Invalid file type. Only JPEG, PNG, GIF, and WebP images are allowed.',\n      };\n    }\n\n    if (file.size > maxSize) {\n      return {\n        valid: false,\n        error: 'File size exceeds 5MB limit.',\n      };\n    }\n\n    return { valid: true };\n  },\n\n  /**\n   * Validate multiple image files before upload\n   */\n  validateImages(files: File[]): { valid: boolean; errors: string[] } {\n    const errors: string[] = [];\n\n    files.forEach((file, index) => {\n      const validation = this.validateImage(file);\n      if (!validation.valid && validation.error) {\n        errors.push(`File ${index + 1}: ${validation.error}`);\n      }\n    });\n\n    return {\n      valid: errors.length === 0,\n      errors,\n    };\n  },\n};\n\nexport default uploadService;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\services\\userService.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used. Allowed unused caught errors must match /^_/u.","line":127,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":127,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":174,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":174,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4702,4705],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4702,4705],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import api, { handleApiError } from './api';\nimport ENDPOINTS from './endpoints';\nimport { AxiosResponse } from 'axios';\nimport { User } from './authService';\nimport { Product } from './productService';\nimport { logError } from './logger';\n\n// Type definitions for user-related data\nexport interface UserProfile extends User {\n  avatar?: string;\n  bio?: string;\n  phone?: string;\n  address?: {\n    street?: string;\n    city?: string;\n    state?: string;\n    country?: string;\n    zipCode?: string;\n  };\n}\n\nexport interface UpdateProfileData {\n  displayName?: string;\n  username?: string;\n  avatar?: string;\n  bio?: string;\n  phone?: string;\n  address?: {\n    street?: string;\n    city?: string;\n    state?: string;\n    country?: string;\n    zipCode?: string;\n  };\n}\n\nexport interface FavoriteProduct {\n  id: number;\n  productId: number;\n  userId: number;\n  createdAt: string;\n  product?: Product;\n}\n\n// User Service - handles user profile and favorites\nexport const userService = {\n  /**\n   * Get user profile\n   */\n  async getProfile(): Promise<UserProfile> {\n    try {\n      const response: AxiosResponse<UserProfile> = await api.get(\n        ENDPOINTS.USERS.PROFILE\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Update user profile\n   */\n  async updateProfile(data: UpdateProfileData): Promise<UserProfile> {\n    try {\n      const response: AxiosResponse<UserProfile> = await api.put(\n        ENDPOINTS.USERS.UPDATE_PROFILE,\n        data\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Get user's favorite products\n   */\n  async getFavorites(): Promise<Product[]> {\n    try {\n      const response: AxiosResponse<Product[]> = await api.get(\n        ENDPOINTS.USERS.FAVORITES\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Add product to favorites\n   */\n  async addFavorite(productId: string | number): Promise<{ message: string; favorite: FavoriteProduct }> {\n    try {\n      const response: AxiosResponse<{ message: string; favorite: FavoriteProduct }> = await api.post(\n        ENDPOINTS.USERS.ADD_FAVORITE(productId)\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Remove product from favorites\n   */\n  async removeFavorite(productId: string | number): Promise<{ message: string }> {\n    try {\n      const response: AxiosResponse<{ message: string }> = await api.delete(\n        ENDPOINTS.USERS.REMOVE_FAVORITE(productId)\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Check favorite status for a product\n   */\n  async checkFavorite(productId: string | number): Promise<{ is_favorited: boolean; favorite_id?: number }> {\n    try {\n      const response: AxiosResponse<{ is_favorited: boolean; favorite_id?: number }> = await api.get(\n        ENDPOINTS.USERS.CHECK_FAVORITE(productId)\n      );\n      return response.data || { is_favorited: false };\n    } catch (error) {\n      // Fallback: determine by listing favorites\n      const isFav = await this.isFavorite(productId);\n      return { is_favorited: isFav };\n    }\n  },\n\n  /**\n   * Toggle favorite status (add if not favorited, remove if already favorited)\n   * Returns an object with the final state and a message\n   */\n  async toggleFavorite(productId: string | number): Promise<{ is_favorited: boolean; message: string }> {\n    try {\n      const response: AxiosResponse<{ is_favorited: boolean; message: string }> = await api.post(\n        ENDPOINTS.USERS.TOGGLE_FAVORITE,\n        { product_id: productId }\n      );\n      return response.data;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  },\n\n  /**\n   * Check if product is in favorites\n   */\n  async isFavorite(productId: string | number): Promise<boolean> {\n    try {\n      const favorites = await this.getFavorites();\n      return favorites.some((product) => product.id === Number(productId));\n    } catch (error) {\n      logError(error as Error, { component: 'userService', action: 'IS_FAVORITE', metadata: { productId } });\n      return false;\n    }\n  },\n\n  /**\n   * Delete user account\n   * Requires password confirmation\n   */\n  async deleteAccount(password: string): Promise<{ success: boolean; message: string }> {\n    try {\n      const response: AxiosResponse<{ success: boolean; message: string }> = await api.delete(\n        ENDPOINTS.USERS.DELETE_ACCOUNT,\n        { data: { password } }\n      );\n      return response.data;\n    } catch (error: any) {\n      // Handle specific error messages from backend\n      if (error.response?.data?.error) {\n        throw new Error(error.response.data.error);\n      }\n      throw new Error(handleApiError(error));\n    }\n  },\n};\n\nexport default userService;\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\test\\setup.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\test\\test-utils.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\types\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":158,"column":34,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":158,"endColumn":37,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3245,3248],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3245,3248],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Core Type Definitions\n * Centralized type definitions for the entire application\n */\n\n// User & Authentication Types\nexport interface User {\n  id: string;\n  email: string;\n  username?: string;\n  display_name?: string;\n  role?: 'user' | 'admin';\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface LoginCredentials {\n  identifier?: string;\n  email?: string;\n  password: string;\n}\n\nexport interface RegisterData {\n  email: string;\n  username?: string;\n  password: string;\n  display_name?: string;\n}\n\nexport interface AuthResponse {\n  success: boolean;\n  message: string;\n  data?: {\n    user: User;\n    token: string;\n  };\n  user?: User;\n  token?: string;\n}\n\n// Product Types\nexport interface Product {\n  id: string;\n  name: string;\n  brand?: string;\n  brand_id?: string;\n  brands?: {\n    id: string;\n    name: string;\n  };\n  category?: string;  // Primary field (backend uses 'category')\n  type?: string;      // Legacy field for backward compatibility\n  color?: string;\n  price?: number | string;\n  description?: string;\n  image?: string;\n  image_url?: string;\n  images?: string[] | null;\n  gender?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface ProductsResponse {\n  success?: boolean;\n  products: Product[];\n  total?: number;\n  page?: number;\n  limit?: number;\n}\n\n// Store Types\nexport interface Store {\n  id: string;\n  name: string;\n  description?: string;\n  image?: string;\n  logo_url?: string;\n  website?: string;\n  telegram?: string;\n  instagram?: string;\n  tiktok_url?: string;\n  location?: string;\n  shipping?: string;\n  is_verified?: boolean;       // Verified stores (âœ“)\n  is_recommended?: boolean;     // Recommended stores (â­)\n  created_at?: string;\n  updated_at?: string;\n  // Additional fields when returned from product-store relationship\n  price?: number | string;           // Price for this product at this store\n  product_price?: number | string;   // Alternative field name from backend\n  telegram_url?: string;             // Alternative telegram URL field\n  instagram_url?: string;            // Alternative instagram URL field\n  shipping_info?: string;            // Shipping info for this store\n}\n\nexport interface StoresResponse {\n  success?: boolean;\n  stores: Store[];\n  total?: number;\n}\n\n// Brand Types\nexport interface Brand {\n  id: string;\n  name: string;\n  description?: string;\n  logo?: string;\n  website?: string;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface BrandsResponse {\n  brands: Brand[];\n  total?: number;\n}\n\nexport interface StatisticsResponse {\n  success: boolean;\n  data: {\n    total_products: number;\n    total_stores: number;\n    total_brands: number;\n    satisfaction_rate: number;\n  };\n}\n\n// Favorite Types\nexport interface FavoriteProduct {\n  id: string;\n  product_id: string;\n  user_id?: string;\n  created_at?: string;\n  products?: Product;\n  product?: Product;\n}\n\nexport interface Favorite {\n  id: string;\n  user_id: string;\n  product_id: string;\n  created_at?: string;\n}\n\nexport interface FavoritesResponse {\n  success?: boolean;\n  favorites: FavoriteProduct[];\n  total?: number\n  created_at?: string;\n}\n\nexport interface FavoritesResponse {\n  favorites: Favorite[];\n}\n\n// API Response Types\nexport interface ApiResponse<T = any> {\n  success: boolean;\n  message?: string;\n  data?: T;\n  error?: string;\n  error_code?: string; // Added for backend error code support\n  success_code?: string; // Added for backend success code support\n}\n\nexport interface ApiError {\n  message: string;\n  status?: number;\n  code?: string;\n  error_code?: string; // Added for backend error code support\n}\n\n// Pagination Types\nexport interface PaginationParams {\n  page?: number;\n  limit?: number;\n  sort?: string;\n  order?: 'asc' | 'desc';\n}\n\n// Search Types\nexport interface SearchParams {\n  query?: string;\n  category?: string;\n  brand?: string;\n  minPrice?: number;\n  maxPrice?: number;\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\types\\schemas.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\__tests__\\errorUtils.test.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\apiOptimizations.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":10,"column":39,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":10,"endColumn":42,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[251,254],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[251,254],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":29,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[739,742],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[739,742],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":49,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":49,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1213,1216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1213,1216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":50,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":50,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1262,1265],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1262,1265],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ttl' is assigned a value but never used. Allowed unused args must match /^_/u.","line":91,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":91,"endColumn":6},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2817,2820],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2817,2820],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":109,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2827,2830],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2827,2830],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":126,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3203,3206],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3203,3206],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":126,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3213,3216],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3213,3216],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * API Request Batching and Caching Utilities\n * Reduces redundant API calls and improves performance\n */\n\nimport { api } from './api';\nimport { logError } from '@/services/logger';\n\n// Simple in-memory cache\nconst cache = new Map<string, { data: any; timestamp: number }>();\nconst CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n\n/**\n * Get data from cache if valid\n */\nexport const getCachedData = <T>(key: string): T | null => {\n  const cached = cache.get(key);\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n    console.log(`[Cache HIT] ${key}`);\n    return cached.data as T;\n  }\n  console.log(`[Cache MISS] ${key}`);\n  return null;\n};\n\n/**\n * Set data in cache\n */\nexport const setCachedData = (key: string, data: any): void => {\n  cache.set(key, { data, timestamp: Date.now() });\n};\n\n/**\n * Clear cache for a specific key or all cache\n */\nexport const clearCache = (key?: string): void => {\n  if (key) {\n    cache.delete(key);\n    console.log(`[Cache CLEAR] ${key}`);\n  } else {\n    cache.clear();\n    console.log('[Cache CLEAR] All cache cleared');\n  }\n};\n\n/**\n * Batch multiple API requests and execute them in parallel\n */\nexport const batchRequests = async <T extends Record<string, any>>(\n  requests: Record<keyof T, () => Promise<any>>\n): Promise<T> => {\n  console.log(`[Batch Request] Starting ${Object.keys(requests).length} parallel requests`);\n  const startTime = performance.now();\n\n  const entries = Object.entries(requests);\n  const promises = entries.map(([key, fn]) => \n    fn().then(result => ({ key, result })).catch(error => ({ key, error }))\n  );\n\n  const results = await Promise.allSettled(promises);\n  const data = {} as T;\n\n  results.forEach((result, index) => {\n    const key = entries[index][0];\n    if (result.status === 'fulfilled') {\n      const { result: apiResult, error } = result.value;\n      if (error) {\n        logError(error, { component: 'batchRequest', action: key });\n        data[key as keyof T] = null;\n      } else {\n        data[key as keyof T] = apiResult;\n      }\n    } else {\n      logError(result.reason, { component: 'batchRequest', action: `FAILED_${key}` });\n      data[key as keyof T] = null;\n    }\n  });\n\n  const endTime = performance.now();\n  console.log(`[Batch Request] Completed in ${(endTime - startTime).toFixed(2)}ms`);\n\n  return data;\n};\n\n/**\n * Fetch with caching\n */\nexport const fetchWithCache = async <T>(\n  cacheKey: string,\n  fetcher: () => Promise<T>,\n  ttl: number = CACHE_DURATION\n): Promise<T> => {\n  // Check cache first\n  const cached = getCachedData<T>(cacheKey);\n  if (cached !== null) {\n    return cached;\n  }\n\n  // Fetch fresh data\n  const data = await fetcher();\n  setCachedData(cacheKey, data);\n\n  return data;\n};\n\n/**\n * Debounce function for search/filter inputs\n */\nexport const debounce = <T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): ((...args: Parameters<T>) => void) => {\n  let timeout: NodeJS.Timeout | null = null;\n\n  return (...args: Parameters<T>) => {\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      func(...args);\n    }, wait);\n  };\n};\n\n/**\n * Throttle function for scroll/resize events\n */\nexport const throttle = <T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): ((...args: Parameters<T>) => void) => {\n  let inThrottle: boolean;\n\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args);\n      inThrottle = true;\n      setTimeout(() => (inThrottle = false), limit);\n    }\n  };\n};\n\n/**\n * Prefetch data for better UX\n */\nexport const prefetchData = async (\n  endpoint: string,\n  cacheKey?: string\n): Promise<void> => {\n  const key = cacheKey || endpoint;\n  \n  // Don't prefetch if already cached\n  if (getCachedData(key)) {\n    console.log(`[Prefetch] Already cached: ${key}`);\n    return;\n  }\n\n  try {\n    console.log(`[Prefetch] Loading: ${endpoint}`);\n    const response = await api.get(endpoint);\n    setCachedData(key, response.data);\n    console.log(`[Prefetch] Cached: ${key}`);\n  } catch (error) {\n    logError(error as Error, { component: 'prefetch', action: endpoint });\n  }\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\authStorage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\cn.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1515,1518],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1515,1518],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":60,"column":56,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":59,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1525,1528],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1525,1528],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Utility Functions\n * Centralized utility functions for the application\n */\n\nimport { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\n/**\n * Merge Tailwind classes with clsx\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Convert S3 protocol URL to HTTPS URL\n * s3://bucket/path -> https://bucket.s3.region.amazonaws.com/path\n */\nexport function convertS3UrlToHttps(url: string): string {\n  if (!url) return url;\n  \n  // If already HTTPS, return as is\n  if (url.startsWith('https://') || url.startsWith('http://')) {\n    return url;\n  }\n  \n  // Convert s3:// to https://\n  if (url.startsWith('s3://')) {\n    // Extract bucket and key from s3://bucket/key\n    const s3Url = url.replace('s3://', '');\n    const parts = s3Url.split('/');\n    const bucket = parts[0];\n    const key = parts.slice(1).join('/');\n    \n    // Properly encode the key (handle spaces and special characters)\n    const decodedKey = key.replace(/\\+/g, ' ');\n    const encodedKey = encodeURIComponent(decodedKey).replace(/%2F/g, '/');\n    \n    // Construct HTTPS URL\n    return `https://${bucket}.s3.eu-north-1.amazonaws.com/${encodedKey}`;\n  }\n  \n  return url;\n}\n\n/**\n * Format price to currency string\n */\nexport function formatPrice(price: number, currency: string = 'USD'): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency,\n  }).format(price);\n}\n\n/**\n * Debounce function\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null;\n\n  return function executedFunction(...args: Parameters<T>) {\n    const later = () => {\n      timeout = null;\n      func(...args);\n    };\n\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(later, wait);\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\errorTranslation.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":110,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":110,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2874,2877],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2874,2877],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":152,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":152,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3889,3892],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3889,3892],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":179,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":179,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4556,4559],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4556,4559],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":201,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":201,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5085,5088],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5085,5088],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":208,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":208,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5311,5314],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5311,5314],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Translation utilities for error codes, success messages, and data fields\n * Centralizes translation logic for backend response codes\n */\n\nimport i18n from '@/i18n';\n\n/**\n * Translate error code to localized message\n * Falls back to displaying the error code itself if translation not found\n */\nexport function translateErrorCode(errorCode: string | undefined | null): string {\n  if (!errorCode) {\n    return i18n.t('errorCodes.UNKNOWN_ERROR');\n  }\n\n  const key = `errorCodes.${errorCode}`;\n  const translated = i18n.t(key);\n\n  // If translation is the same as the key, it means it wasn't found\n  if (translated === key) {\n    // Log missing error code in development\n    if (import.meta.env.DEV) {\n      console.warn(`Missing error code translation: ${errorCode}`);\n    }\n    \n    // Return formatted error code as fallback\n    return `Error: ${errorCode.replace(/_/g, ' ')}`;\n  }\n\n  return translated;\n}\n\n/**\n * Translate success code to localized message\n * Falls back to generic success message if translation not found\n */\nexport function translateSuccessCode(successCode: string | undefined | null): string {\n  if (!successCode) {\n    return i18n.t('common.success');\n  }\n\n  const key = `successCodes.${successCode}`;\n  const translated = i18n.t(key);\n\n  // If translation is the same as the key, it means it wasn't found\n  if (translated === key) {\n    // Log missing success code in development\n    if (import.meta.env.DEV) {\n      console.warn(`Missing success code translation: ${successCode}`);\n    }\n    \n    // Return generic success message as fallback\n    return i18n.t('common.success');\n  }\n\n  return translated;\n}\n\n/**\n * Translate product type (enum value)\n * Backend returns: \"Shoes\", \"Outerwear\", \"Tops\", \"Bottoms\", \"Dresses\", \"Accessories\"\n */\nexport function translateProductType(type: string | undefined | null): string {\n  if (!type) {\n    return '';\n  }\n\n  const key = `productTypes.${type}`;\n  const translated = i18n.t(key);\n\n  // If translation not found, return original type\n  if (translated === key) {\n    if (import.meta.env.DEV) {\n      console.warn(`Missing product type translation: ${type}`);\n    }\n    return type;\n  }\n\n  return translated;\n}\n\n/**\n * Translate gender (enum value)\n * Backend returns: \"Male\", \"Female\", \"Unisex\", or lowercase variants: \"men\", \"women\", \"unisex\"\n */\nexport function translateGender(gender: string | undefined | null): string {\n  if (!gender) {\n    return '';\n  }\n\n  const key = `gender.${gender}`;\n  const translated = i18n.t(key);\n\n  // If translation not found, return original gender\n  if (translated === key) {\n    if (import.meta.env.DEV) {\n      console.warn(`Missing gender translation: ${gender}`);\n    }\n    return gender;\n  }\n\n  return translated;\n}\n\n/**\n * Extract error code from API error response\n * Handles different error response formats\n */\nexport function extractErrorCode(error: any): string | null {\n  // Priority 1: error_code field (new backend format)\n  if (error?.response?.data?.error_code) {\n    return error.response.data.error_code;\n  }\n\n  // Priority 2: code field (alternative format)\n  if (error?.response?.data?.code) {\n    return error.response.data.code;\n  }\n\n  // Priority 3: HTTP status code mapping\n  const status = error?.response?.status;\n  if (status) {\n    switch (status) {\n      case 401:\n        return 'AUTH_UNAUTHORIZED';\n      case 403:\n        return 'FORBIDDEN';\n      case 404:\n        return 'NOT_FOUND';\n      case 400:\n        return 'BAD_REQUEST';\n      case 500:\n        return 'SERVER_ERROR';\n      default:\n        return 'UNKNOWN_ERROR';\n    }\n  }\n\n  // Priority 4: Network error\n  if (error?.message === 'Network Error' || !error?.response) {\n    return 'NETWORK_ERROR';\n  }\n\n  return null;\n}\n\n/**\n * Get user-friendly error message from API error\n * Prefers error_code translation, falls back to error message\n */\nexport function getErrorMessage(error: any): string {\n  // Try to get error code first\n  const errorCode = extractErrorCode(error);\n  if (errorCode) {\n    return translateErrorCode(errorCode);\n  }\n\n  // Fallback to error message field (for backward compatibility)\n  if (error?.response?.data?.message) {\n    return error.response.data.message;\n  }\n\n  if (error?.response?.data?.error) {\n    return error.response.data.error;\n  }\n\n  if (error?.message) {\n    return error.message;\n  }\n\n  return translateErrorCode('UNKNOWN_ERROR');\n}\n\n/**\n * Get user-friendly success message from API response\n * Prefers success_code translation, falls back to message field\n */\nexport function getSuccessMessage(response: any): string {\n  // Try to get success code first\n  const successCode = response?.data?.success_code || response?.success_code;\n  if (successCode) {\n    return translateSuccessCode(successCode);\n  }\n\n  // Fallback to message field (for backward compatibility)\n  if (response?.data?.message) {\n    return response.data.message;\n  }\n\n  if (response?.message) {\n    return response.message;\n  }\n\n  return translateSuccessCode('SUCCESS');\n}\n\n/**\n * Type guard to check if error has error_code\n */\nexport function hasErrorCode(error: any): error is { response: { data: { error_code: string } } } {\n  return error?.response?.data?.error_code !== undefined;\n}\n\n/**\n * Type guard to check if response has success_code\n */\nexport function hasSuccessCode(response: any): response is { data: { success_code: string } } {\n  return response?.data?.success_code !== undefined || response?.success_code !== undefined;\n}\n\nexport default {\n  translateErrorCode,\n  translateSuccessCode,\n  translateProductType,\n  translateGender,\n  extractErrorCode,\n  getErrorMessage,\n  getSuccessMessage,\n  hasErrorCode,\n  hasSuccessCode,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\errorUtils.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":21,"column":22,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":21,"endColumn":25,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[498,501],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[498,501],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":32,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":32,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[788,791],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[788,791],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":33,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":33,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[856,859],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[856,859],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Error Utility Functions\r\n * Type-safe error handling helpers\r\n */\r\n\r\n/**\r\n * Type guard to check if error is an Error instance\r\n */\r\nexport function isError(error: unknown): error is Error {\r\n  return error instanceof Error;\r\n}\r\n\r\n/**\r\n * Type guard to check if error has a message property\r\n */\r\nexport function hasMessage(error: unknown): error is { message: string } {\r\n  return (\r\n    typeof error === 'object' &&\r\n    error !== null &&\r\n    'message' in error &&\r\n    typeof (error as any).message === 'string'\r\n  );\r\n}\r\n\r\n/**\r\n * Type guard for axios-style canceled errors\r\n */\r\nexport function isCanceledError(error: unknown): error is { name: string; code: string } {\r\n  return (\r\n    typeof error === 'object' &&\r\n    error !== null &&\r\n    ('name' in error && (error as any).name === 'CanceledError' ||\r\n     'code' in error && (error as any).code === 'ERR_CANCELED')\r\n  );\r\n}\r\n\r\n/**\r\n * Safely extract error message from unknown error\r\n */\r\nexport function getErrorMessage(error: unknown, fallback: string = 'An error occurred'): string {\r\n  if (isError(error)) {\r\n    return error.message;\r\n  }\r\n  if (hasMessage(error)) {\r\n    return error.message;\r\n  }\r\n  if (typeof error === 'string') {\r\n    return error;\r\n  }\r\n  return fallback;\r\n}\r\n\r\n/**\r\n * Type guard for auth errors\r\n */\r\nexport function isAuthError(error: unknown): boolean {\r\n  if (!hasMessage(error)) return false;\r\n  const msg = error.message.toLowerCase();\r\n  return msg.includes('unauthorized') || \r\n         msg.includes('authentication') || \r\n         msg.includes('token') ||\r\n         msg.includes('login');\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\imageOptimization.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\performanceMonitor.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":45,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1139,1142],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1139,1142],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":74,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2143,2146],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2143,2146],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":88,"column":50,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":53,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2630,2633],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2630,2633],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\n * Performance Monitoring Utility\n * Tracks and logs performance metrics for optimization\n */\n\n// Performance thresholds\nconst THRESHOLDS = {\n  LCP: 2500, // Largest Contentful Paint - Good: <2.5s\n  FCP: 1800, // First Contentful Paint - Good: <1.8s\n  FID: 100,  // First Input Delay - Good: <100ms\n  CLS: 0.1,  // Cumulative Layout Shift - Good: <0.1\n  TTFB: 600, // Time to First Byte - Good: <600ms\n};\n\ninterface PerformanceMetrics {\n  lcp?: number;\n  fcp?: number;\n  fid?: number;\n  cls?: number;\n  ttfb?: number;\n  networkRequests?: number;\n  jsSize?: number;\n  cssSize?: number;\n  imageSize?: number;\n}\n\nclass PerformanceMonitor {\n  private metrics: PerformanceMetrics = {};\n  private observer: PerformanceObserver | null = null;\n\n  constructor() {\n    if (typeof window !== 'undefined') {\n      this.initializeObservers();\n    }\n  }\n\n  /**\n   * Initialize Performance Observers\n   */\n  private initializeObservers() {\n    // Largest Contentful Paint (LCP)\n    try {\n      const lcpObserver = new PerformanceObserver((list) => {\n        const entries = list.getEntries();\n        const lastEntry = entries[entries.length - 1] as any;\n        this.metrics.lcp = lastEntry.renderTime || lastEntry.loadTime;\n        this.logMetric('LCP', this.metrics.lcp, THRESHOLDS.LCP);\n      });\n      lcpObserver.observe({ entryTypes: ['largest-contentful-paint'] });\n    } catch (_e) {\n      console.warn('LCP observer not supported');\n    }\n\n    // First Contentful Paint (FCP)\n    try {\n      const fcpObserver = new PerformanceObserver((list) => {\n        const entries = list.getEntries();\n        entries.forEach((entry) => {\n          if (entry.name === 'first-contentful-paint') {\n            this.metrics.fcp = entry.startTime;\n            this.logMetric('FCP', this.metrics.fcp, THRESHOLDS.FCP);\n          }\n        });\n      });\n      fcpObserver.observe({ entryTypes: ['paint'] });\n    } catch (_e) {\n      console.warn('FCP observer not supported');\n    }\n\n    // First Input Delay (FID)\n    try {\n      const fidObserver = new PerformanceObserver((list) => {\n        const entries = list.getEntries();\n        entries.forEach((entry: any) => {\n          this.metrics.fid = entry.processingStart - entry.startTime;\n          this.logMetric('FID', this.metrics.fid, THRESHOLDS.FID);\n        });\n      });\n      fidObserver.observe({ entryTypes: ['first-input'] });\n    } catch (_e) {\n      console.warn('FID observer not supported');\n    }\n\n    // Cumulative Layout Shift (CLS)\n    try {\n      let clsValue = 0;\n      const clsObserver = new PerformanceObserver((list) => {\n        for (const entry of list.getEntries() as any[]) {\n          if (!entry.hadRecentInput) {\n            clsValue += entry.value;\n            this.metrics.cls = clsValue;\n          }\n        }\n        this.logMetric('CLS', this.metrics.cls, THRESHOLDS.CLS);\n      });\n      clsObserver.observe({ entryTypes: ['layout-shift'] });\n    } catch (_e) {\n      console.warn('CLS observer not supported');\n    }\n  }\n\n  /**\n   * Log metric with color coding\n   */\n  private logMetric(name: string, value: number, threshold: number) {\n    const status = value <= threshold ? 'âœ… GOOD' : 'âš ï¸ NEEDS IMPROVEMENT';\n    const color = value <= threshold ? 'color: green' : 'color: orange';\n    console.log(\n      `%c[Performance] ${name}: ${value.toFixed(2)}ms ${status}`,\n      color\n    );\n  }\n\n  /**\n   * Get Time to First Byte (TTFB)\n   */\n  public getTTFB(): number {\n    const navigation = performance.getEntriesByType('navigation')[0] as PerformanceNavigationTiming;\n    if (navigation) {\n      this.metrics.ttfb = navigation.responseStart - navigation.requestStart;\n      this.logMetric('TTFB', this.metrics.ttfb, THRESHOLDS.TTFB);\n      return this.metrics.ttfb;\n    }\n    return 0;\n  }\n\n  /**\n   * Count network requests\n   */\n  public countNetworkRequests(): number {\n    const resources = performance.getEntriesByType('resource');\n    this.metrics.networkRequests = resources.length;\n    \n    const status = resources.length <= 60 ? 'âœ… GOOD' : 'âš ï¸ TOO MANY';\n    const color = resources.length <= 60 ? 'color: green' : 'color: red';\n    \n    console.log(\n      `%c[Performance] Network Requests: ${resources.length} ${status} (Target: â‰¤60)`,\n      color\n    );\n    \n    return resources.length;\n  }\n\n  /**\n   * Calculate bundle sizes\n   */\n  public calculateBundleSizes(): void {\n    const resources = performance.getEntriesByType('resource') as PerformanceResourceTiming[];\n    \n    let jsSize = 0;\n    let cssSize = 0;\n    let imageSize = 0;\n\n    resources.forEach((resource) => {\n      const size = resource.transferSize || 0;\n      \n      if (resource.name.endsWith('.js')) {\n        jsSize += size;\n      } else if (resource.name.endsWith('.css')) {\n        cssSize += size;\n      } else if (/\\.(jpg|jpeg|png|gif|webp|avif|svg)$/i.test(resource.name)) {\n        imageSize += size;\n      }\n    });\n\n    this.metrics.jsSize = jsSize;\n    this.metrics.cssSize = cssSize;\n    this.metrics.imageSize = imageSize;\n\n    const jsSizeKB = (jsSize / 1024).toFixed(2);\n    const jsStatus = jsSize < 200 * 1024 ? 'âœ… GOOD' : 'âš ï¸ TOO LARGE';\n    const jsColor = jsSize < 200 * 1024 ? 'color: green' : 'color: red';\n\n    console.log(`%c[Performance] JavaScript: ${jsSizeKB} KB ${jsStatus} (Target: <200 KB)`, jsColor);\n    console.log(`[Performance] CSS: ${(cssSize / 1024).toFixed(2)} KB`);\n    console.log(`[Performance] Images: ${(imageSize / 1024).toFixed(2)} KB`);\n  }\n\n  /**\n   * Generate performance report\n   */\n  public generateReport(): PerformanceMetrics {\n    this.getTTFB();\n    this.countNetworkRequests();\n    this.calculateBundleSizes();\n\n    console.group('ðŸ“Š Performance Report');\n    console.table(this.metrics);\n    console.groupEnd();\n\n    return { ...this.metrics };\n  }\n\n  /**\n   * Check if performance goals are met\n   */\n  public checkPerformanceGoals(): boolean {\n    const goals = {\n      networkRequests: (this.metrics.networkRequests || 0) <= 60,\n      jsSize: (this.metrics.jsSize || 0) < 200 * 1024,\n      lcp: (this.metrics.lcp || 0) < THRESHOLDS.LCP,\n    };\n\n    const allGoalsMet = Object.values(goals).every(Boolean);\n\n    if (allGoalsMet) {\n      console.log('%câœ… All performance goals met!', 'color: green; font-weight: bold');\n    } else {\n      console.log('%câš ï¸ Some performance goals not met', 'color: orange; font-weight: bold');\n      console.table(goals);\n    }\n\n    return allGoalsMet;\n  }\n}\n\n// Create singleton instance\nexport const performanceMonitor = new PerformanceMonitor();\n\n// Auto-generate report after page load\nif (typeof window !== 'undefined') {\n  window.addEventListener('load', () => {\n    setTimeout(() => {\n      performanceMonitor.generateReport();\n      performanceMonitor.checkPerformanceGoals();\n    }, 3000); // Wait 3s for all metrics to stabilize\n  });\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\searchFilters.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\translations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\utils\\webVitals.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":89,"column":51,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":54,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2713,2716],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2713,2716],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":90,"column":16,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":90,"endColumn":19,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2742,2745],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2742,2745],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'body' is assigned a value but never used. Allowed unused vars must match /^_/u.","line":102,"column":11,"nodeType":null,"messageId":"unusedVar","endLine":102,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Web Vitals Monitoring\r\n * Track Core Web Vitals (LCP, INP, CLS, FCP, TTFB) for performance monitoring\r\n * \r\n * Core Web Vitals:\r\n * - LCP (Largest Contentful Paint): Loading performance (< 2.5s good)\r\n * - INP (Interaction to Next Paint): Interactivity (< 200ms good) - replaces FID\r\n * - CLS (Cumulative Layout Shift): Visual stability (< 0.1 good)\r\n * \r\n * Additional metrics:\r\n * - FCP (First Contentful Paint): < 1.8s good\r\n * - TTFB (Time to First Byte): < 800ms good\r\n */\r\n\r\nimport { onCLS, onINP, onFCP, onLCP, onTTFB, type Metric } from 'web-vitals';\r\n\r\ninterface VitalMetric {\r\n  name: string;\r\n  value: number;\r\n  rating: 'good' | 'needs-improvement' | 'poor';\r\n  delta: number;\r\n  id: string;\r\n}\r\n\r\n/**\r\n * Determine rating based on metric thresholds\r\n */\r\nfunction getMetricRating(metric: Metric): 'good' | 'needs-improvement' | 'poor' {\r\n  const { name, value } = metric;\r\n  \r\n  switch (name) {\r\n    case 'LCP':\r\n      return value <= 2500 ? 'good' : value <= 4000 ? 'needs-improvement' : 'poor';\r\n    case 'INP':\r\n      return value <= 200 ? 'good' : value <= 500 ? 'needs-improvement' : 'poor';\r\n    case 'CLS':\r\n      return value <= 0.1 ? 'good' : value <= 0.25 ? 'needs-improvement' : 'poor';\r\n    case 'FCP':\r\n      return value <= 1800 ? 'good' : value <= 3000 ? 'needs-improvement' : 'poor';\r\n    case 'TTFB':\r\n      return value <= 800 ? 'good' : value <= 1800 ? 'needs-improvement' : 'poor';\r\n    default:\r\n      return 'needs-improvement';\r\n  }\r\n}\r\n\r\n/**\r\n * Format metric for console logging\r\n */\r\nfunction formatMetric(metric: VitalMetric): string {\r\n  const emoji = metric.rating === 'good' ? 'âœ…' : metric.rating === 'needs-improvement' ? 'âš ï¸' : 'âŒ';\r\n  const formattedValue = metric.name === 'CLS' \r\n    ? metric.value.toFixed(3) \r\n    : `${Math.round(metric.value)}ms`;\r\n  \r\n  return `${emoji} ${metric.name}: ${formattedValue} (${metric.rating})`;\r\n}\r\n\r\n/**\r\n * Handle metric reporting\r\n */\r\nfunction handleMetric(metric: Metric) {\r\n  const vital: VitalMetric = {\r\n    name: metric.name,\r\n    value: metric.value,\r\n    rating: getMetricRating(metric),\r\n    delta: metric.delta,\r\n    id: metric.id,\r\n  };\r\n\r\n  // Log to console in development\r\n  if (process.env.NODE_ENV === 'development') {\r\n    console.log(formatMetric(vital));\r\n  }\r\n\r\n  // Send to analytics in production\r\n  if (process.env.NODE_ENV === 'production') {\r\n    // Send to analytics service (Google Analytics, Sentry, custom endpoint, etc.)\r\n    sendToAnalytics(vital);\r\n  }\r\n}\r\n\r\n/**\r\n * Send metrics to analytics service\r\n * Replace with your analytics implementation\r\n */\r\nfunction sendToAnalytics(metric: VitalMetric) {\r\n  // Example: Google Analytics 4\r\n  if (typeof window !== 'undefined' && (window as any).gtag) {\r\n    (window as any).gtag('event', metric.name, {\r\n      event_category: 'Web Vitals',\r\n      value: Math.round(metric.value),\r\n      metric_rating: metric.rating,\r\n      metric_delta: Math.round(metric.delta),\r\n      metric_id: metric.id,\r\n      non_interaction: true,\r\n    });\r\n  }\r\n\r\n  // Example: Custom API endpoint\r\n  if (typeof navigator !== 'undefined' && 'sendBeacon' in navigator) {\r\n    const body = JSON.stringify({\r\n      metric: metric.name,\r\n      value: metric.value,\r\n      rating: metric.rating,\r\n      url: window.location.href,\r\n      timestamp: Date.now(),\r\n    });\r\n    \r\n    // Uncomment to send to your API\r\n    // navigator.sendBeacon('/api/analytics/vitals', body);\r\n  }\r\n\r\n  // Example: Sentry performance monitoring\r\n  // if (typeof Sentry !== 'undefined') {\r\n  //   Sentry.metrics.set(metric.name, metric.value);\r\n  // }\r\n}\r\n\r\n/**\r\n * Initialize Web Vitals monitoring\r\n * Call this once in your app entry point\r\n */\r\nexport function initWebVitals() {\r\n  // Track all Core Web Vitals\r\n  onLCP(handleMetric);\r\n  onINP(handleMetric);\r\n  onCLS(handleMetric);\r\n  \r\n  // Track additional performance metrics\r\n  onFCP(handleMetric);\r\n  onTTFB(handleMetric);\r\n  \r\n  if (process.env.NODE_ENV === 'development') {\r\n    console.log('ðŸ“Š Web Vitals monitoring initialized');\r\n  }\r\n}\r\n\r\n/**\r\n * Get current Web Vitals snapshot\r\n * Useful for debugging or displaying in UI\r\n */\r\nexport async function getWebVitalsSnapshot(): Promise<Record<string, VitalMetric>> {\r\n  const vitals: Record<string, VitalMetric> = {};\r\n  \r\n  const handleSnapshot = (metric: Metric) => {\r\n    vitals[metric.name] = {\r\n      name: metric.name,\r\n      value: metric.value,\r\n      rating: getMetricRating(metric),\r\n      delta: metric.delta,\r\n      id: metric.id,\r\n    };\r\n  };\r\n  \r\n  // Get current values\r\n  onLCP(handleSnapshot);\r\n  onINP(handleSnapshot);\r\n  onCLS(handleSnapshot);\r\n  onFCP(handleSnapshot);\r\n  onTTFB(handleSnapshot);\r\n  \r\n  // Wait a bit for metrics to be collected\r\n  await new Promise(resolve => setTimeout(resolve, 100));\r\n  \r\n  return vitals;\r\n}\r\n\r\n/**\r\n * Check if all vitals are \"good\"\r\n */\r\nexport async function areVitalsGood(): Promise<boolean> {\r\n  const vitals = await getWebVitalsSnapshot();\r\n  return Object.values(vitals).every(v => v.rating === 'good');\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\src\\vitest.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\frontend\\Wearsearch-main\\vitest.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]